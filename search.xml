<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Courseraç®—æ³•ç¬”è®°Union-Find</title>
    <url>/2020/04/25/Coursera%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0Union-Find/</url>
    <content><![CDATA[<p>Courseraä¸Šçš„ç®—æ³•è¯¾ç¨‹ç¬”è®°,å¯¹åº”ä¹¦æœ¬ä¸ºAlgorithm 4th Editionã€‚è¿™ä¸€ç« ä»‹ç»çš„æ˜¯Union-Findé—®é¢˜ã€‚</p>
<a id="more"></a>
<h2 id="Dynamic-connectivity"><a href="#Dynamic-connectivity" class="headerlink" title="Dynamic connectivity"></a>Dynamic connectivity</h2><p>Given a set of N objects </p>
<ul>
<li>union command: connect  two objects</li>
<li>Find/connected query: is there  a path connecting the two objects?</li>
</ul>
<p>We assume â€œIs connected toâ€ is an equivalence relation:</p>
<ul>
<li>reflexive: p is connected to p (è‡ªå·±æ°¸è¿œè¿æ¥åˆ°è‡ªå·±)</li>
<li>symmetric: è¿æ¥æ˜¯å¯¹ç§°çš„</li>
<li>transitive: è¿æ¥æ˜¯å¯ä»¥ä¼ é€’çš„</li>
</ul>
<p><strong>Connected Component</strong>: maximum set of objects that are mutually(ç›¸äº’)<br>onnected, like {0} {1,4,5} {7,9} {8}æ‰€ä»¥è¿æ¥åœ¨ä¸€èµ·çš„èŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªé›†åˆé‡Œé¢çš„å…ƒç´ </p>
<ul>
<li>union command: replace two sets of nodes to be connected with a union</li>
<li>find query: are two nodes in same set</li>
</ul>
<script type="math/tex; mode=display">
union(1,2) \; union(3,4) \; union(5,6) \;union(1,5) \; union (2,6)\\
two\; sets:\{1,2,5,6\}\;\{3,4\} \\
connected(1,6):true</script><div class="table-container">
<table>
<thead>
<tr>
<th>public class UF</th>
<th>Func</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF(int N)</td>
<td>initilize union-find data structure</td>
</tr>
<tr>
<td>void union(int p, int q)</td>
<td>add connection between q and p</td>
</tr>
<tr>
<td>boolean connected(int p, int q)</td>
<td>are two nodes in the same component?</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Quick-Find-eager-approach"><a href="#Quick-Find-eager-approach" class="headerlink" title="Quick Find [eager approach]"></a>Quick Find [eager approach]</h2><p><img src='image1.png' width = '800' title = 'eager approach'></p>
<ul>
<li>Find: check if id[p] = id[q]</li>
<li>Union: change all entries whose values equals to id[p] and id[q]</li>
</ul>
<blockquote>
<p>the method â€œFindâ€ is quick, o(1) ,so named quick-find<br>but â€œunionâ€ is too expensive , o(n), if you want to do n times union operation on a array of n,  o(n^2)</p>
</blockquote>
<h2 id="Quick-Union-lazy-approach"><a href="#Quick-Union-lazy-approach" class="headerlink" title="Quick Union [lazy approach]"></a>Quick Union [lazy approach]</h2><blockquote>
<p>we try to avoid work unitl we have to</p>
</blockquote>
<p><img src='image2.png' width = '800' title = 'lazy approach'></p>
<ul>
<li>find: check if p and q have the same root O(n)</li>
<li>union: to merge components containing p and q, set thr id of pâ€™s root to the id of qâ€™s root, O(n)</li>
</ul>
<blockquote>
<p>It still works not very well</p>
</blockquote>
<h2 id="Quick-Union-Improvements"><a href="#Quick-Union-Improvements" class="headerlink" title="Quick Union Improvements"></a>Quick Union Improvements</h2><h3 id="Weighted-quick-union"><a href="#Weighted-quick-union" class="headerlink" title="Weighted quick union"></a>Weighted quick union</h3><p>é¿å…å°†å¤§æ ‘ğŸŒ³æ”¾åœ¨å°æ ‘  ä¸‹é¢ï¼Œè®©æ•°ç›®å°½å¯èƒ½å¹³è¡¡</p>
<p>decease the depth of the tree, making depth of any node is at most</p>
<h3 id="Flatten-Path-Compression"><a href="#Flatten-Path-Compression" class="headerlink" title="Flatten! Path Compression"></a>Flatten! Path Compression</h3><p><img src='image3.png' width = '800' title = 'flatten'></p>
<p>let the node point to the roof every time the  method â€˜roofâ€™ called</p>
<p><a href="https://coursera.cs.princeton.edu/algs4/assignments/percolation/specification.php" target="_blank" rel="noopener">Assignment1: Percolation</a></p>
<h2 id="Assignment"><a href="#Assignment" class="headerlink" title="Assignment"></a>Assignment</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">One Complementation</span><br><span class="line">/* *****************************************************************************</span><br><span class="line"> *  Name:Adin</span><br><span class="line"> *  Date:<span class="number">2020.1</span><span class="number">.1</span></span><br><span class="line"> *  Description:Percolation demo</span><br><span class="line"> **************************************************************************** */</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.WeightedQuickUnionUF;</span><br><span class="line"></span><br><span class="line">public class Percolation &#123;</span><br><span class="line"></span><br><span class="line">    // num of columns <span class="keyword">and</span> rows</span><br><span class="line">    private int num;</span><br><span class="line">    // WQUUF object</span><br><span class="line">    private WeightedQuickUnionUF uf;</span><br><span class="line">    // status sites blockes=<span class="number">0</span> open=<span class="number">1</span></span><br><span class="line">    private boolean[][] sites;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // creates n-by-n grid, <span class="keyword">with</span> all sites initially blocked</span><br><span class="line">    public Percolation(int n) &#123;</span><br><span class="line">        num = n;</span><br><span class="line">        check(n);</span><br><span class="line">        uf = new WeightedQuickUnionUF(n * n + <span class="number">1</span>);</span><br><span class="line">        sites = new boolean[n][n];</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            uf.union(value(<span class="number">1</span>, i + <span class="number">1</span>), num * num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // check invalidation</span><br><span class="line">    private void check(int num1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (num1 &lt;= <span class="number">0</span> || num1 &gt; this.num)</span><br><span class="line">            throw new IllegalArgumentException(<span class="string">"Invalid range of n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // calculate the <span class="comment"># of sites</span></span><br><span class="line">    private int value(int row, int col) &#123;</span><br><span class="line">        <span class="keyword">return</span> (row - <span class="number">1</span>) * num + col - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // opens the site (row, col) <span class="keyword">if</span> it <span class="keyword">is</span> <span class="keyword">not</span> open already</span><br><span class="line">    public void open(int row, int col) &#123;</span><br><span class="line">        check(row);</span><br><span class="line">        check(col);</span><br><span class="line">        <span class="keyword">if</span> (isOpen(row, col)) <span class="keyword">return</span>;</span><br><span class="line">        // open the site</span><br><span class="line">        sites[row - <span class="number">1</span>][col - <span class="number">1</span>] = true;</span><br><span class="line">        <span class="keyword">if</span> (row &gt; <span class="number">1</span> &amp;&amp; isOpen(row - <span class="number">1</span>, col)) uf.union(value(row, col), value(row - <span class="number">1</span>, col));</span><br><span class="line">        <span class="keyword">if</span> (row &lt; num &amp;&amp; isOpen(row + <span class="number">1</span>, col)) uf.union(value(row, col), value(row + <span class="number">1</span>, col));</span><br><span class="line">        <span class="keyword">if</span> (col &gt; <span class="number">1</span> &amp;&amp; isOpen(row, col - <span class="number">1</span>)) uf.union(value(row, col), value(row, col - <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">if</span> (col &lt; num &amp;&amp; isOpen(row, col + <span class="number">1</span>)) uf.union(value(row, col), value(row, col + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // is the site (row, col) open?</span><br><span class="line">    public boolean isOpen(int row, int col) &#123;</span><br><span class="line">        check(row);</span><br><span class="line">        check(col);</span><br><span class="line">        <span class="keyword">return</span> sites[row - <span class="number">1</span>][col - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // is the site (row, col) full?</span><br><span class="line">    public boolean isFull(int row, int col) &#123;</span><br><span class="line">        <span class="keyword">return</span> isOpen(row, col) &amp;&amp; (uf.find(value(row, col)) == uf.find(num * num));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // returns the number of open sites</span><br><span class="line">    public int numberOfOpenSites() &#123;</span><br><span class="line">        int count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">            <span class="keyword">for</span> (int j = <span class="number">0</span>; j &lt; num; j++)</span><br><span class="line">                <span class="keyword">if</span> (sites[i][j]) count++;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // does the system percolate?</span><br><span class="line">    public boolean percolates() &#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> isOpen(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">            <span class="keyword">if</span> (uf.find(value(num, i + <span class="number">1</span>)) == uf.find(num * num))</span><br><span class="line">                <span class="keyword">return</span> true;</span><br><span class="line">        <span class="keyword">return</span> false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">/* *****************************************************************************</span><br><span class="line"> *  Name:Adin</span><br><span class="line"> *  Date:<span class="number">2020.1</span><span class="number">.1</span></span><br><span class="line"> *  Description:</span><br><span class="line"> **************************************************************************** */</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.StdOut;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.StdRandom;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.StdStats;</span><br><span class="line"></span><br><span class="line">public class PercolationStats &#123;</span><br><span class="line"></span><br><span class="line">    private double mean;</span><br><span class="line">    private double stddev;</span><br><span class="line">    private double confilo;</span><br><span class="line">    private double confihi;</span><br><span class="line">    private int[] openSites;</span><br><span class="line">    private int openNum;</span><br><span class="line"></span><br><span class="line">    // perform independent trials on an n-by-n grid</span><br><span class="line">    public PercolationStats(int n, int trials) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt;= <span class="number">0</span> || trials &lt;= <span class="number">0</span>)</span><br><span class="line">            throw new IllegalArgumentException(<span class="string">"Invalid input : n or trials musu &gt; 0 !"</span>);</span><br><span class="line"></span><br><span class="line">        double[] threshold = new double[trials];</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; trials; i++) &#123;</span><br><span class="line">            // start of one trial</span><br><span class="line">            // initialize the sites</span><br><span class="line">            Percolation perco = new Percolation(n);</span><br><span class="line">            // StdRandom.setSeed(StdRandom.getSeed());</span><br><span class="line">            // choose a random number of open sites</span><br><span class="line">            openSites = StdRandom.permutation(n * n);</span><br><span class="line">            // start this trial</span><br><span class="line">            <span class="keyword">for</span> (int j = <span class="number">0</span>; j &lt; n * n; j++) &#123;</span><br><span class="line">                perco.open(openSites[j] / n + <span class="number">1</span>, openSites[j] % n + <span class="number">1</span>);</span><br><span class="line">                // <span class="keyword">if</span> percolate, stop the trial</span><br><span class="line">                <span class="keyword">if</span> (perco.percolates()) &#123;</span><br><span class="line">                    threshold[i] = (j + <span class="number">1</span>) * <span class="number">1.0</span> / (n * n) * <span class="number">1.0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                threshold[i] = <span class="number">1.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // end of one trial</span><br><span class="line">        &#125;</span><br><span class="line">        // end of all trials</span><br><span class="line">        mean = StdStats.mean(threshold);</span><br><span class="line">        stddev = StdStats.stddev(threshold);</span><br><span class="line">        confilo = mean - stddev * <span class="number">1.96</span> / Math.sqrt((double) trials);</span><br><span class="line">        confihi = mean + stddev * <span class="number">1.96</span> / Math.sqrt((double) trials);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // sample mean of percolation threshold</span><br><span class="line">    public double mean() &#123;</span><br><span class="line">        <span class="keyword">return</span> mean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // sample standard deviation of percolation threshold</span><br><span class="line">    public double stddev() &#123;</span><br><span class="line">        <span class="keyword">return</span> stddev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // low endpoint of <span class="number">95</span>% confidence interval</span><br><span class="line">    public double confidenceLo() &#123;</span><br><span class="line">        <span class="keyword">return</span> confilo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // high endpoint of <span class="number">95</span>% confidence interval</span><br><span class="line">    public double confidenceHi() &#123;</span><br><span class="line">        <span class="keyword">return</span> confihi;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // test client (see below)</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        StdOut.print(<span class="string">"Trials start!\n"</span>);</span><br><span class="line">        PercolationStats stats = new PercolationStats(Integer.parseInt(args[<span class="number">0</span>]),</span><br><span class="line">                                                      Integer.parseInt(args[<span class="number">1</span>]));</span><br><span class="line">        StdOut.print(<span class="string">"Work completed\n mean = "</span> + stats.mean() + <span class="string">"\n stddev = "</span> +</span><br><span class="line">                             stats.stddev() + <span class="string">"\n 95% confidence interval = ["</span> +</span><br><span class="line">                             stats.confidenceLo() + <span class="string">" , "</span> + stats.confidenceHi() + <span class="string">"] \n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src='happy.png' width = '800' title = 'çœŸæ­£çš„å¿«ä¹å“ˆå“ˆå“ˆå“ˆ'></p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>Coursera</tag>
      </tags>
  </entry>
  <entry>
    <title>C++è‰ç¨¿æœ¬</title>
    <url>/2020/09/23/C-%E8%8D%89%E7%A8%BF%E6%9C%AC/</url>
    <content><![CDATA[<p>è®°å½•C++è¯­æ³•ä¸­çš„ä¸€äº›å°é—®é¢˜</p>
<a id="more"></a>
<ol>
<li>åˆå§‹åŒ–æ–¹å¼åŒ…æ‹¬ç”¨=èµ‹å€¼ï¼Œè¿˜æœ‰ä½¿ç”¨æ‹¬å·ã€‚ä¾‹å¦‚ int a(1)ã€‚ä½¿ç”¨æ‹¬å·æ›´åŠ é€‚é…c++å¯¹è±¡ã€‚</li>
<li>ä¸ºä»€ä¹ˆswitchè¯­å¥ä¼šä½¿ç”¨â€œä¸åŠ breakå°±èƒ½ä¸€ç›´è¿è¡Œæ‰€æœ‰è¯­å¥â€è¿™ç§æœºåˆ¶ï¼ŸæŸäº›æƒ…å†µä¸‹å¯ä»¥å¯¹æ­¤åŠ ä»¥åˆ©ç”¨ï¼Œå¯ä»¥ç”¨äºæ£€æµ‹åŸå› å­—æ¯æ˜¯å¦å­˜åœ¨ï¼Œæ›¿ä»£ä¸€å¤§å †æˆ–ç»“æ„ã€‚<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">switch</span>(nextchar) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'a'</span>: <span class="keyword">case</span> <span class="string">'A'</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'e'</span>: <span class="keyword">case</span> <span class="string">'E'</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'i'</span>: <span class="keyword">case</span> <span class="string">'I'</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'o'</span>: <span class="keyword">case</span> <span class="string">'O'</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'u'</span>: <span class="keyword">case</span> <span class="string">'U'</span>:</span><br><span class="line">        ++vovel_cnt;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>cinçš„è¿”å›å€¼ä¸æ˜¯ä¸€ä¸ªå†…åµŒç±»å‹ï¼Œè€Œæ˜¯cinå¯¹è±¡ã€‚å¯¹äºwhile(cin&gt;&gt;nextchar)è¿™ç§ç»“æ„ï¼Œç»“æŸå¾ªç¯çš„æ¡ä»¶æ˜¯EOFã€‚åœ¨windowså¹³å°è¾“å…¥EOFçš„æ–¹æ³•ä¸ºï¼ŒåŒæ—¶æŒ‰ä¸‹ctrlå’Œzé”®ã€‚ å¦‚æœæ˜¯unix/linuxå¹³å°ï¼Œåˆ™éœ€è¦åŒæ—¶æŒ‰ä¸‹ctrl+dé”®ã€‚</li>
<li>arrayæ•°ç»„çš„åˆå§‹åŒ–æ•°é‡å¿…é¡»ç”¨å¸¸é‡å®šä¹‰è€Œéå˜é‡ã€‚å³int s[variable]è¿™ç§æ“ä½œæ˜¯éæ³•çš„ã€‚å¯ä»¥ç•™ç©ºï¼Œç”±ç¼–è¯‘å™¨ä»”ç»†æ ¹æ®åˆå€¼æ•°é‡åˆ¤æ–­ã€‚<strong>ä½†æ˜¯æ²¡æœ‰åˆå§‹åŒ–æ•°å€¼åˆä¸æ˜ç¡®æ•°ç»„é•¿åº¦çš„æ“ä½œæ˜¯éæ³•çš„ï¼Œç¼–è¯‘å™¨æ— æ³•ç¡®å®šæ•°ç»„é•¿åº¦</strong><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a =<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> s[a]; <span class="comment">// Error!</span></span><br></pre></td></tr></table></figure></li>
<li>arrayå¦‚æœå®šä¹‰åä¸åˆå§‹åŒ–ï¼Œåˆ™æ•°ç»„å…ƒç´ ä¸ºéšæœºå€¼ã€‚å¦‚æœåˆå§‹åŒ–={}ï¼Œåˆ™æ‰€æœ‰å…ƒç´ è¢«åˆå§‹åŒ–ä¸º0ï¼Œå¦‚æœåˆå§‹åŒ–={1}ï¼Œåˆ™ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º1ï¼Œå…¶ä½™å…ƒç´ ä¸º0ã€‚</li>
<li>vectorä¸æ”¯æŒ={}è¿™ç§åˆå§‹åŒ–æ–¹å¼ï¼Œåªèƒ½é€ä¸ªèµ‹å€¼æˆ–è€…ç”¨æ•°ç»„ç»™ä»–åˆå§‹åŒ–ï¼Œæ²¡æœ‰è¢«åˆå§‹åŒ–çš„å…ƒç´ é»˜è®¤å€¼ä¸º0ã€‚<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">ini</span><span class="params">(<span class="number">5</span>)</span> </span>= &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;; <span class="comment">//ERROR!!!!</span></span><br><span class="line"></span><br><span class="line">ini[<span class="number">0</span>] = <span class="number">1</span>; <span class="comment">//OK</span></span><br></pre></td></tr></table></figure></li>
<li>vectorå’Œstringéƒ½æ˜¯stdå‘½åç©ºé—´é‡Œçš„ï¼Œä½¿ç”¨æ—¶æ³¨æ„ã€‚</li>
<li>æŒ‡é’ˆåˆå§‹åŒ–æŒ‡å‘åœ°å€0ï¼Œåˆ™ç­‰åŒäºnullæŒ‡é’ˆï¼Œå³ä»€ä¹ˆå¯¹è±¡éƒ½æ²¡æœ‰æŒ‡å‘ã€‚int* p=0;<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">define <span class="literal">NULL</span> <span class="number">0</span></span><br><span class="line">å®Œå…¨ç­‰ä»·===</span><br></pre></td></tr></table></figure></li>
<li>srand()å’Œrand()å±äºcstdlibåº“ï¼Œä½¿ç”¨æ—¶è¦é…åˆtime.hï¼Œä½¿ç”¨time(NULL)æˆ–è€…time(0)ç”Ÿæˆsrand()çš„ç§å­ï¼Œæ‰èƒ½ç”Ÿæˆéšæœºåºåˆ—ã€‚<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">srand(time(<span class="literal">NULL</span>))</span><br><span class="line">rand() <span class="comment">// OK</span></span><br></pre></td></tr></table></figure></li>
<li>int[]è¿™ç§å†™æ³•åªèƒ½åœ¨æ•°ç»„èšåˆåˆå§‹åŒ–çš„æ—¶å€™ä½¿ç”¨ï¼Œå…¶ä½™æ—¶å€™ä¸ç­‰äºint*ã€‚</li>
<li>å•å¼•å·è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦â€™aâ€™åŒå¼•å·ä»£è¡¨å­—ç¬¦ä¸²â€aâ€ = â€˜aâ€™+â€™\0â€™ã€‚ç±»å‹ä¸ºcharå’Œconst charã€‚<strong>ä¸¤ä¸ªå­—ç¬¦ç±»å‹çš„å˜é‡æ²¡åŠæ³•ç›´æ¥æ‹¼æ¥ï¼Œå¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯string</strong></li>
<li>ofstreamå’Œifstreamå¯¹è±¡åœ¨æœªæ‰“å¼€å¯¹è±¡çš„æ—¶å€™ä¼šè¿”å›falseã€‚</li>
<li>ifstreamè¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œç©ºæ ¼å’Œtabéƒ½å¯ä»¥ä½œä¸ºåˆ†éš”ç¬¦ï¼Œifstreamä¼šä¾æ¬¡è¯»å–ï¼Œé€—å·å°è¯•äº†ä¸èƒ½ä½œä¸ºåˆ†éš”ã€‚</li>
<li>fstreamå¯ä»¥æ»¡è¶³ioçš„è¯»å–åŠŸèƒ½ï¼Œæ‰“å¼€æ¨¡å¼å¦‚æœæ˜¯ios_base::in | ios_base::app åˆ™ä¸€å¼€å§‹çš„æ–‡ä»¶ä½ç½®å…‰æ ‡ä¼šä½äºæ–‡ä»¶æœ«å°¾ã€‚éœ€è¦ä½¿ç”¨fstream.seekg(0)é‡æ–°å®šä½å…‰æ ‡ä½ç½®åˆ°æ–‡ä»¶å¼€å¤´ã€‚</li>
<li>å‡½æ•°å‚æ•°ç”¨æŒ‡é’ˆå’Œå¼•ç”¨éƒ½å¯ä»¥ä½œä¸ºè¾“å‡ºå€¼ï¼Œä½¿ç”¨æŒ‡é’ˆæ—¶éœ€è¦æ£€æŸ¥æ˜¯å¦ä¸ºç©ºæŒ‡é’ˆï¼Œè€Œå¼•ç”¨è¦æ±‚å¿…é¡»æ˜¯å­˜åœ¨çš„å¯¹è±¡ä¸éœ€è¿›è¡Œè¿™ä¸ªæ£€æŸ¥ï¼Œä¹Ÿå°±è¯´åªè¦ç¼–è¯‘é¡ºåˆ©é€šè¿‡ï¼Œå¼•ç”¨å¯¹è±¡æ˜¯ä¸ä¼šå‘ç”Ÿruntime errorçš„ã€‚ä¸€èˆ¬çš„å¯¹è±¡å¼•ç”¨ä½¿ç”¨constä¿®é¥°ï¼Œé™¤éè¦ä¿®æ”¹å˜é‡å†…å®¹ï¼Œ<strong>ä¸€èˆ¬å†…ç½®å˜é‡ä¸å»ºè®®ä½¿ç”¨ä¼ å€æœºåˆ¶</strong>ã€‚</li>
<li>å¦‚æœä¸€ä¸ªå˜é‡å®šä¹‰ä¸ºäº†<strong>å…¨å±€å˜é‡ï¼ˆfile scopeï¼‰</strong>ï¼Œè€Œåˆæ˜¯<strong>å†…ç½®ç±»å‹</strong>ï¼Œåˆ™å®ƒ<strong>ä¼šè¢«è‡ªåŠ¨åˆå§‹åŒ–ä¸º0</strong>ï¼ˆå³ä½¿æ²¡æœ‰åˆå§‹åŒ–è¯­å¥ï¼‰ã€‚è€Œä¸€ä¸ªlocal scopeé‡Œçš„å˜é‡é™¤éæŒ‡å®šåˆå€¼ï¼Œå¦åˆ™ä¸ä¼šè¢«åˆå§‹åŒ–ã€‚</li>
<li>å‡½æ•°çš„é»˜è®¤å‚æ•°å€¼å¿…é¡»æ”¾åœ¨ä¸å¸¦é»˜è®¤å€¼çš„å‚æ•°çš„åé¢ï¼Œè¿™ä¸€ç‚¹å’Œpythonä¸€è‡´ã€‚</li>
<li>åœ¨å¤´æ–‡ä»¶å£°æ˜çš„å‡½æ•°å½¢å¼å…·æœ‰æ›´é«˜çš„å¯è§æ€§visibilityï¼ˆå¦‚å¤´æ–‡ä»¶å£°æ˜äº†è€Œcppæ–‡ä»¶æ²¡æœ‰å£°æ˜é»˜è®¤å€¼ï¼Œä»¥å¤´æ–‡ä»¶ä¸ºå‡†ï¼‰</li>
<li>inlineå†…è”å‡½æ•°ä¸€èˆ¬è¦åœ¨å¤´æ–‡ä»¶é‡Œé¢å£°æ˜ã€‚</li>
<li>è¿”å›å€¼ä¸åŒä¸èƒ½è®©å‡½æ•°é‡è½½ï¼Œå› ä¸ºåœ¨è°ƒç”¨çš„æ—¶å€™ç¼–è¯‘å™¨æ— æ³•ç”¨è¿”å›å€¼åˆ¤æ–­æ˜¯å“ªä¸ªå‡½æ•°ã€‚</li>
<li>function templateå¯ä»¥é‡è½½<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;msg, <span class="built_in">vector</span>&lt;T&gt; vecT)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;msg, <span class="built_in">list</span>&lt;T&gt; vecList)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li><p>å‡½æ•°è¿”å›å€¼ä¸º const  åªæœ‰ç”¨åœ¨å‡½æ•°è¿”å›ä¸ºå¼•ç”¨çš„æƒ…å†µã€‚ å‡½æ•°è¿”å›å€¼å¼•ç”¨å¸¸é‡è¡¨ç¤ºä¸èƒ½å°†å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼ä½œä¸ºå·¦å€¼ä½¿ç”¨ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>&amp; <span class="title">mini</span><span class="params">(<span class="keyword">int</span> &amp;a,<span class="keyword">int</span> &amp;b)</span></span>;</span><br><span class="line">    |</span><br><span class="line">    v</span><br><span class="line">mini(a,b) = <span class="number">4</span>; <span class="comment">// OK, func returns a lvalue</span></span><br><span class="line"></span><br><span class="line">----------------</span><br><span class="line"><span class="function"><span class="keyword">const</span> <span class="keyword">int</span>&amp; <span class="title">mini</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span>&amp;b)</span></span>;</span><br><span class="line">    |</span><br><span class="line">    v</span><br><span class="line">mini(a,b) = <span class="number">4</span>; <span class="comment">//ERROR! function mini returns a rvalue</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>cé£æ ¼å­—ç¬¦ä¸²æ˜¯å­—ç¬¦æ•°ç»„ï¼Œchar str[]è·Ÿä¸€èˆ¬æ•°ç»„ä¸€æ ·ï¼Œæ–¹æ‹¬å·é‡Œå¦‚æœä¸å†™é•¿åº¦ï¼Œé‚£ä¹ˆå°±å¿…é¡»åœ¨åé¢ç›´æ¥ç”¨å­—ç¬¦ä¸²èµ‹å€¼åˆå§‹åŒ–ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> str[]=<span class="string">"hello"</span>; <span class="comment">// must be initialized</span></span><br><span class="line"><span class="keyword">char</span> str[]=&#123;<span class="string">"myworld"</span>&#125;; <span class="comment">// must be initialized</span></span><br><span class="line"><span class="keyword">char</span> str[<span class="number">20</span>] = <span class="string">"abcd"</span>; <span class="comment">// initilaztion is not mandatary</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>strlen()æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œsizeofæ˜¯ä¸€ä¸ªè¿ç®—ç¬¦</p>
<ol>
<li>sizeof æ“ä½œç¬¦çš„ç»“æœç±»å‹æ˜¯ size_tï¼Œå®ƒåœ¨å¤´æ–‡ä»¶ä¸­ typedef ä¸º unsigned int ç±»å‹ã€‚è¯¥ç±»å‹ä¿è¯èƒ½å®¹çº³å®ç°æ‰€å»ºç«‹çš„æœ€å¤§å¯¹è±¡çš„å­—èŠ‚å¤§å°ã€‚</li>
<li>sizeof å¯ä»¥ç”¨ç±»å‹åšå‚æ•°ï¼Œstrlen åªèƒ½ç”¨ char* åšå‚æ•°ï¼Œä¸”å¿…é¡»æ˜¯ä»¥ \0 ç»“å°¾çš„</li>
<li>æ•°ç»„åš sizeof çš„å‚æ•°ä¸é€€åŒ–ï¼Œä¼ é€’ç»™ strlen å°±é€€åŒ–ä¸ºæŒ‡é’ˆäº†</li>
<li>å¤§éƒ¨åˆ†ç¼–è¯‘ç¨‹åºåœ¨ç¼–è¯‘çš„æ—¶å€™å°±æŠŠ sizeof è®¡ç®—è¿‡äº†ï¼Œæ˜¯ç±»å‹æˆ–æ˜¯å˜é‡çš„é•¿åº¦ï¼Œè¿™å°±æ˜¯ sizeof(x) å¯ä»¥ç”¨æ¥å®šä¹‰æ•°ç»„ç»´æ•°çš„åŸå› <figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">20</span>]=<span class="string">"0123456789"</span>;</span><br><span class="line"><span class="keyword">int</span> a=<span class="built_in">strlen</span>(str); <span class="comment">// a=10;</span></span><br><span class="line"><span class="keyword">int</span> b=<span class="keyword">sizeof</span>(str); <span class="comment">// è€Œ b=20;</span></span><br></pre></td></tr></table></figure></li>
<li>strlen çš„ç»“æœè¦åœ¨è¿è¡Œçš„æ—¶å€™æ‰èƒ½è®¡ç®—å‡ºæ¥ï¼Œæ˜¯ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸æ˜¯ç±»å‹å å†…å­˜çš„å¤§å°</li>
<li>sizeof åå¦‚æœæ˜¯ç±»å‹å¿…é¡»åŠ æ‹¬å¼§ï¼Œå¦‚æœæ˜¯å˜é‡åå¯ä»¥ä¸åŠ æ‹¬å¼§ã€‚è¿™æ˜¯å› ä¸º sizeof æ˜¯ä¸ªæ“ä½œç¬¦ä¸æ˜¯ä¸ªå‡½æ•°<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">20</span>]=<span class="string">"0123456789"</span>;</span><br><span class="line"><span class="keyword">int</span> a=<span class="built_in">strlen</span>(str);         <span class="comment">// a=10; &gt;&gt;&gt;&gt; strlen è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä»¥ç»“æŸç¬¦ 0x00 ä¸ºå­—ç¬¦ä¸²ç»“æŸã€‚</span></span><br><span class="line"><span class="keyword">int</span> b=<span class="keyword">sizeof</span>(str);         <span class="comment">// è€Œ b=20; &gt;&gt;&gt;&gt; sizeof è®¡ç®—çš„åˆ™æ˜¯åˆ†é…çš„æ•°ç»„ str[20] æ‰€å çš„å†…å­˜ç©ºé—´çš„å¤§å°ï¼Œä¸å—é‡Œé¢å­˜å‚¨çš„å†…å®¹æ”¹å˜ã€‚</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>char[]å’Œâ€œchar<em>â€è¿™ä¸ªä¸œè¥¿ï¼Œåœ¨æŸäº›æ—¶å€™æ˜¯å¯ä»¥è½¬æ¢çš„ï¼Œæ¯”å¦‚printfå¸Œæœ›è·å¾—ä¸€ä¸ªâ€œchar</em>â€çš„è¾“å…¥ï¼Œè¿™æ—¶å€™ä½¿ç”¨å­—ç¬¦æ•°ç»„å°±ä¼šè‡ªåŠ¨é€€åŒ–ä¸ºå­—ç¬¦æŒ‡é’ˆã€‚<strong>vs2019</strong>é‡Œé¢ç”¨const char<em> </em>ç»™<em> char</em>èµ‹å€¼æ˜¯forbiddençš„ï¼Œä¾‹å¦‚:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span>* p = <span class="string">"world"</span>; <span class="comment">// Error </span></span><br><span class="line"><span class="keyword">char</span>* p = (<span class="keyword">char</span>*)<span class="string">"world"</span>; <span class="comment">//OK</span></span><br><span class="line"></span><br><span class="line">åœ¨cè¯­è¨€é‡Œç”¨æŒ‡é’ˆâ€œåˆå§‹åŒ–èµ‹å€¼å­—ç¬¦ä¸²â€å®é™…ä¸ŠæŒ‡å‘çš„æ˜¯ä¸€æ®µé™æ€å­—ç¬¦ä¸²åœ°å€ï¼ˆReadonlyï¼‰ï¼Œä¸å¯ä¿®æ”¹ã€‚è€Œç”¨å­—ç¬¦æ•°ç»„æ˜¯copyäº†ä¸€ä»½ï¼Œä¸åŸæœ‰çš„é™æ€å­—ç¬¦ä¸²æ— å…³äº†ï¼Œå¯ä»¥ä¿®æ”¹ã€‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> s[] = <span class="string">"hello"</span> ;</span><br><span class="line">then s[<span class="number">0</span>] = <span class="string">'j'</span>; <span class="comment">//legal</span></span><br><span class="line"><span class="keyword">char</span> *s = <span class="string">"hello"</span> ; </span><br><span class="line">then *s = <span class="string">"world"</span>; <span class="comment">//illegal!!</span></span><br></pre></td></tr></table></figure></li>
<li>char<em>* æ˜¯æŒ‡é’ˆçš„æŒ‡é’ˆï¼Œä¸char</em>[]ä»£è¡¨çš„æœ‰æ‰€åŒºåˆ«<blockquote>
<p>A â€œdouble starâ€ is a pointer to a pointer.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> a[]= <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">char</span>* p = a; </span><br><span class="line"><span class="keyword">char</span>** pp = &amp;p;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;*(*pp+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">è¾“å‡ºç»“æœä¸ºb</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ol>
<ol>
<li><blockquote>
<p>There is one difference between an array name and a pointer that must be kept in mind. A pointer is a variable, so pa=a and pa++ are legal. But an array name is not a variable; constructions like a=pa and a++ areillegal.<br>â€”â€”The C Programming Language by Brain W. Kernighan &amp; Dennis M. Ritchie</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> s[<span class="number">10</span>] = <span class="string">"Hello"</span>;</span><br><span class="line"><span class="keyword">char</span> b[<span class="number">15</span>] = <span class="string">"loo"</span>;</span><br><span class="line"><span class="keyword">char</span> c[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">char</span>* m;</span><br><span class="line">m = c;<span class="comment">//OK</span></span><br><span class="line">m = s;<span class="comment">//OK</span></span><br><span class="line">   c = b;<span class="comment">//ERROR!!!</span></span><br><span class="line">   c = s;<span class="comment">//ERROR!!!</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>const int<em> p1 vs. int</em> const p2</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span>* p1 = &amp;a;  <span class="comment">// initialization is not mandatory </span></span><br><span class="line">    *p1 = <span class="number">5</span>; <span class="comment">// wrong</span></span><br><span class="line">    p1++;    <span class="comment">// right  </span></span><br><span class="line"></span><br><span class="line">-----------</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">int</span>* <span class="keyword">const</span> p2=&amp;a; <span class="comment">// must be initialized when declare</span></span><br><span class="line">	*p2 = <span class="number">5</span>;  <span class="comment">//right</span></span><br><span class="line">    p2++; <span class="comment">// Wrong</span></span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://stackoverflow.com/questions/1641957/is-an-array-name-a-pointer" target="_blank" rel="noopener">é“¾æ¥ï¼šæ•°ç»„åç§°æ˜¯æŒ‡é’ˆå—ï¼Ÿ</a>ä¸æ˜¯çš„ï¼Œä½†æ•°ç»„åç§°ç»å¸¸é€€åŒ–ä¸ºæŒ‡é’ˆ</p>
</li>
<li><p>cin.fail()æ£€æŸ¥cinçš„éæ³•è¾“å…¥ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; a;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">cin</span>.fail()) <span class="built_in">cout</span> &lt;&lt; <span class="string">"invalid input"</span>;</span><br></pre></td></tr></table></figure></li>
<li>function pointeræœ‰ç‚¹åƒæ³›åŒ–çš„å‡½æ•°ï¼Œæ˜¯ä¸€ç§æ›´å¹¿æ³›çš„æ³›åŒ–<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">ç”¨ptræŒ‡ä»£æ‰€æœ‰å‚æ•°ã€è¿”å›å€¼ç¬¦åˆè¦æ±‚çš„å‡½æ•°ï¼Œptré»˜è®¤å€¼<span class="number">0</span>æ£€éªŒæ˜¯å¦çœŸçš„è°ƒç”¨äº†å‡½æ•°</span><br><span class="line"><span class="keyword">void</span> (*ptr)(<span class="keyword">int</span>, <span class="keyword">int</span>)=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dis</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">'\n'</span> &lt;&lt; b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bigdis</span><span class="params">(<span class="keyword">int</span> c, <span class="keyword">int</span> d,</span></span></span><br><span class="line"><span class="function"><span class="params">	<span class="keyword">void</span> (*ptr)(<span class="keyword">int</span>, <span class="keyword">int</span>))</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!ptr) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"error"</span>; <span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	ptr(c, d);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">int</span> b = <span class="number">99</span>;</span><br><span class="line">	bigdis(a, b, dis);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å‡½æ•°æŒ‡é’ˆè¿˜èƒ½æ˜¯æ•°ç»„å½¢å¼çš„ï¼</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">éœ€è¦æ³¨æ„å‡½æ•°æŒ‡é’ˆæ•°ç»„çš„å£°æ˜éœ€è¦æ”¾åœ¨å‡½æ•°å®šä¹‰ä¹‹åï¼Œæˆ–è€…å‡½æ•°æå‰å£°æ˜ï¼Œå¦åˆ™ä¹Ÿä¼šæœ‰å‡½æ•°åæœªå®šä¹‰çš„é—®é¢˜</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dis</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"dis0"</span>; <span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">'\n'</span> &lt;&lt; b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dis1</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">'\n'</span> &lt;&lt; b;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"dis1"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dis2</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">'\n'</span> &lt;&lt; b;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"dis2"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> (*ptr[])(<span class="keyword">int</span>, <span class="keyword">int</span>) = &#123; dis, dis1, dis2 &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bigdis</span><span class="params">(<span class="keyword">int</span> c, <span class="keyword">int</span> d,</span></span></span><br><span class="line"><span class="function"><span class="params">	<span class="keyword">void</span> (*ptr)(<span class="keyword">int</span>, <span class="keyword">int</span>))</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!ptr) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"error"</span>; <span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	ptr(c, d);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">int</span> b = <span class="number">99</span>;</span><br><span class="line">	bigdis(a, b,ptr[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>vectorä½¿ç”¨vector.at(i)å‡½æ•°å¯ä»¥è®¿é—®ç¬¬iä¸ªä½ç½®çš„å…ƒç´ ï¼Œåœ¨ä½¿ç”¨vectoræŒ‡é’ˆçš„æ—¶å€™å¯ä»¥è¿™ä¹ˆç”¨ï¼Œæˆ–è€…ï¼ˆ*Pï¼‰[i]ä¹Ÿå¯ä»¥ã€‚vector.front()ä¸vector.back()åˆ†åˆ«ç”¨äºæå–é¦–å°¾å…ƒç´ ã€‚</p>
</li>
<li><p>å¼•å…¥å¤´æ–‡ä»¶çš„æ—¶å€™å¦‚æœç”¨åŒå¼•å·é‚£ä¹ˆä¼šä¼˜å…ˆåœ¨é¡¹ç›®ç›®å½•ä¸‹é¢æ‰¾ï¼Œé»˜è®¤æ˜¯ç”¨æˆ·æä¾›çš„å¤´æ–‡ä»¶ã€‚è€Œå¦‚æœä½¿ç”¨&lt;&gt;é‚£ä¹ˆä¼šè®¤ä¸ºæ˜¯ç³»ç»Ÿæä¾›çš„å¤´æ–‡ä»¶ï¼Œä¼šå…ˆå»é»˜è®¤çš„ç£ç›˜ç›®å½•æ‰¾ã€‚</p>
</li>
<li><p>iteratorä¹Ÿå«æ³›å‹æŒ‡é’ˆï¼Œæ˜¯å¯¹æŒ‡é’ˆçš„ä¸€ä¸ªæŠ½è±¡åŒ–å’ŒåŒ…è£…</p>
</li>
<li>æ¯ä¸€ä¸ªå®¹å™¨ç±»å‹ï¼ˆå«stringï¼‰çš„å…±åŒæ“ä½œ<ol>
<li>==equalityå’Œï¼=inequalityè¿ç®—ç¬¦</li>
<li>=èµ‹å€¼assignment</li>
<li>empty(), true/false</li>
<li>size(), num of elems</li>
<li>clear(), clear all</li>
<li>begin(), end(), return the iterator, the first element and the <strong>(last+1) </strong>element</li>
<li>insert(), erase(), insert and remove</li>
</ol>
</li>
<li><p>ä½¿ç”¨æ•°ç»„ä¸ºvectoråˆå§‹åŒ–æ—¶ï¼Œæ•°ç»„æä¾›ä¸¤ä¸ªiteratoræˆ–è€…è¯´å“¨å…µï¼Œè¦ç¬¦åˆfirstå’Œlastçš„ä¹ æƒ¯ï¼Œå³è¦ç”¨æ•°ç»„å…ƒç´ ç¬¬ä¸€ä¸ªæŒ‡é’ˆï¼Œå’Œæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„å†åä¸€ä¸ªæŒ‡é’ˆæ¥èµ‹å€¼ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[] = &#123; <span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">20</span> &#125;;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">veci</span><span class="params">(a, a + <span class="number">9</span>)</span></span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; veci.back()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">// output is 20</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡½æ•°å¯¹è±¡æ˜¯ä¸€ä¸ªå®ç°äº†è°ƒç”¨æ“ä½œç¬¦ï¼ˆï¼‰çš„å¯¹è±¡ï¼Œc++é‡Œæœ‰è®¸å¤šå†…ç½®çš„å‡½æ•°å¯¹è±¡ï¼Œå®ƒå¯ä»¥æ›¿æ¢å‡½æ•°æŒ‡é’ˆï¼Œä»è€Œå°†è°ƒç”¨æŸä¸ªå‡½æ•°çš„è¿‡ç¨‹ç®€åŒ–ä¸ºå†…è”ï¼Œæé«˜è°ƒç”¨æ•ˆç‡ã€‚æŸäº›STLç®—æ³•å‡½æ•°åªå…è®¸è¾“å…¥ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œè€Œä¸€ä¸ªå‡½æ•°æŒ‡é’ˆä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¸€æ—¦éœ€æ±‚æ”¹å˜ï¼Œè¿˜éœ€è¦é‡æ–°ç¼–å†™å‡½æ•°ã€‚å‡½æ•°å¯¹è±¡å¯ä»¥åˆ©ç”¨é‡è½½è°ƒç”¨æ“ä½œç¬¦å®ç°å‰è¿°å‡½æ•°æŒ‡é’ˆçš„åŠŸèƒ½ï¼ŒåŒæ—¶è¿˜å¯ä»¥åˆ©ç”¨å¯¹è±¡å®ä¾‹åŒ–çš„å‚æ•°æ”¹å˜å‡½æ•°çš„åŠŸèƒ½ã€‚</p>
</li>
<li><p>function object adapterå¯ä»¥å®ç°â€œå‚æ•°ç»‘å®šâ€çš„åŠŸèƒ½ï¼Œå°†æŸä¸€ä¸ªå€¼ç»‘å®šåˆ°å‡½æ•°å¯¹è±¡çš„å‚æ•°ï¼Œæ„Ÿè§‰æ˜¯ä½¿ä¹‹å›ºå®šçš„æ ·å­ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">é¢˜ç›®ï¼šä¾æ®å­—ç¬¦ä¸²é•¿åº¦æ’åºï¼Œä½¿ç”¨å‡½æ•°å¯¹è±¡ä½œä¸ºæ³›å‹ç®—æ³•**sort**çš„å‚æ•°</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LessThan</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> s1, <span class="keyword">const</span> <span class="built_in">string</span> s2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> s1.size() &lt; s2.size();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å…³é”®åœ¨äºsorté‚£ä¸€å¥ï¼Œå‰ä¸¤ä¸ªå‚æ•°æ˜¯è¦æ’åºçš„è¿­ä»£å™¨ï¼Œæœ€åä¸€ä¸ªæ˜¯å®šä¹‰çš„å‡½æ•°å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="function">ifstream <span class="title">infile</span><span class="params">(<span class="string">"practice.txt"</span>, ios_base::in)</span></span>;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; vecs;</span><br><span class="line">	<span class="built_in">string</span> ex[] = &#123; <span class="string">"a"</span>,<span class="string">"an"</span>, <span class="string">"or"</span>,<span class="string">"but"</span>,<span class="string">"the"</span> &#125;;</span><br><span class="line">	<span class="function"><span class="built_in">set</span>&lt;<span class="built_in">string</span>&gt; <span class="title">exset</span><span class="params">(ex, ex + <span class="number">5</span>)</span></span>;</span><br><span class="line">	<span class="built_in">string</span> tword;</span><br><span class="line">	<span class="keyword">while</span> (infile &gt;&gt; tword) &#123;</span><br><span class="line">		<span class="keyword">if</span> (exset.count(tword)) <span class="keyword">continue</span>;</span><br><span class="line">		vecs.push_back(tword);</span><br><span class="line">	&#125;</span><br><span class="line">	sort(vecs.begin(), vecs.end(),LessThan());</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;::const_iterator it = vecs.begin();</span><br><span class="line">	<span class="keyword">for</span> (; it != vecs.end(); it++)</span><br><span class="line">		<span class="built_in">cout</span>  &lt;&lt; *it&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>ä½¿ç”¨mapæ¥ç»Ÿè®¡æ–‡ç« è¯é¢‘ï¼Œä½¿ç”¨ç´¢å¼•æ–¹å¼é¦–æ¬¡åŠ å…¥çš„keyä¼šè¢«è®¾ä¸ºé»˜è®¤å€¼value</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;words;</span><br><span class="line">	words[<span class="string">"vermeer"</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">string</span> tword;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; tword) &#123;</span><br><span class="line">		words[tword]++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥æ‰¾mapé‡Œæ˜¯å¦å­˜åœ¨æŸä¸ªkeyå¯ä»¥ä½¿ç”¨ä¸‰ç§æ–¹æ³•</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">No<span class="number">.1</span></span><br><span class="line"><span class="keyword">int</span> count = words[<span class="string">"key"</span>]; <span class="comment">// å¦‚æœä¸å­˜åœ¨keyï¼Œä¼šå¯¼è‡´wordsé¢å¤–å¢åŠ äº†ä¸€ä¸ªæ¡ç›®pair class</span></span><br><span class="line">No<span class="number">.2</span></span><br><span class="line"><span class="built_in">map</span>::iterator it = words.find(<span class="string">"key"</span>); <span class="comment">// findè¿”å›ä¸€ä¸ªiterator</span></span><br><span class="line">No<span class="number">.3</span></span><br><span class="line"><span class="keyword">int</span> count = words.count(<span class="string">"key"</span>) ? words[<span class="string">"key"</span>] : <span class="number">0</span> ; <span class="comment">// å…ˆçœ‹çœ‹æ˜¯å¦å­˜åœ¨</span></span><br></pre></td></tr></table></figure></li>
<li><p>$\color{red}{Iterator Inserterä»¥åŠiostream Iteratoræ²¡çœ‹æ‡‚}$</p>
</li>
<li><p>vector.emplace_back()ä»£æ›¿vector.push_back()</p>
</li>
<li><p>å¦‚æœæƒ³è¯»å–æŸä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æŸä¸€è¡Œçš„ç¬¬å‡ ä¸ªï¼Œå¯ä»¥ç”¨getlineå‡½æ•°ä¸stringç±»çš„find_first_of()å‡½æ•°é…åˆï¼Œè¿›è¡Œå­—ç¬¦ä¸²çš„åˆ‡å‰²ã€‚ç”¨string.substr()æå–å­å­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p>å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚æœæƒ³ç”¨é»˜è®¤çš„æ„é€ å‡½æ•°ä¸èƒ½å¸¦æ‹¬å·ï¼Œå› ä¸ºcppä¸ºäº†å…¼å®¹cï¼Œé»˜è®¤å¸¦æ‹¬å·çš„éƒ½æ˜¯è°ƒç”¨å‡½æ•°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">SomeClass <span class="title">obj</span><span class="params">()</span></span>;<span class="comment">//ERROR!</span></span><br><span class="line">SomeClass obj; <span class="comment">//Default Constructor</span></span><br></pre></td></tr></table></figure></li>
<li><p>copy constructor()å¤åˆ¶æ„é€ å‡½æ•°çš„ç›®çš„ï¼Œéœ€è¦ç”³è¯·å †ç©ºé—´çš„å˜é‡ä¸èƒ½ç›´æ¥å¤åˆ¶ç»™åˆ«çš„å¯¹è±¡ï¼Œä¼šå‡ºç°é‡æŒ‡é’ˆçš„é—®é¢˜ã€‚ä¸ºæŸä¸ªclassç¼–å†™copy constructoräº†ä¹‹åè¿˜æœ‰å¿…è¦ç¼–å†™copy assignment operatorã€‚</p>
</li>
<li><p>const &amp; mutable</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Triangular</span>&#123;</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="comment">// const member function.</span></span><br><span class="line">		<span class="comment">// writing is forbidden</span></span><br><span class="line">		<span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> _length;&#125;</span><br><span class="line">		<span class="function"><span class="keyword">int</span> <span class="title">beg_pos</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> _beg_pos;&#125;</span><br><span class="line">		<span class="function"><span class="keyword">int</span> <span class="title">elem</span><span class="params">(<span class="keyword">int</span> pos)</span> <span class="keyword">const</span></span>;</span><br><span class="line">		<span class="comment">// non-const member function</span></span><br><span class="line">		<span class="function"><span class="keyword">bool</span> <span class="title">next</span><span class="params">(<span class="keyword">int</span> &amp;val)</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">next_reset</span><span class="params">()</span> </span>&#123; _next = _beg_pos<span class="number">-1</span>;&#125;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">int</span> _length;</span><br><span class="line">		<span class="keyword">int</span> _beg_pos;</span><br><span class="line">		<span class="keyword">mutable</span> <span class="keyword">int</span> _next;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//static data member</span></span><br><span class="line">		<span class="keyword">static</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; _elems;</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="comment">// function defined outside the class must declare with keyword "const"</span></span><br><span class="line"><span class="keyword">int</span> Triangular:: elem(<span class="keyword">int</span> pos) <span class="keyword">const</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> _elems[pos<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Triangular::next</span><span class="params">(<span class="keyword">int</span> &amp;value)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> ( _next &lt; _beg_pos + _length <span class="number">-1</span> )&#123;</span><br><span class="line">		value = elems[_next++];</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸€ä¸ªclassé‡Œé¢æœ‰åŒåå‡½æ•°ï¼Œä½†ä¸€ä¸ªæ˜¯constï¼Œä¸€ä¸ªæ˜¯non-constï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºè°ƒç”¨è€…é€‰æ‹©åˆé€‚çš„è¢«è°ƒç”¨å‡½æ•°ï¼</p>
</li>
</ol>
<p>mutableæ˜¯ä¸€ç§å˜é‡å£°æ˜ï¼Œå®ƒè¡¨ç¤ºmutableå˜é‡å°½ç®¡æœ‰æ‰€æ”¹å˜ï¼Œä½†è¿™ç§æ”¹å˜ä¸å½±å“å¯¹é‡çš„å¸¸é‡æ€§ï¼Œä¾‹å¦‚nextå‡½æ•°åªæ˜¯ç§»åŠ¨äº†æŒ‡é’ˆæŒ‡å‘æ•°ç»„å…ƒç´ ï¼Œæœ¬è´¨ä¸Šåªæ˜¯ä¸€ç§è¿­ä»£å™¨ï¼Œå¯¹æ•°ç»„æœ¬èº«æ²¡æœ‰æ ¹æœ¬æ€§çš„å½±å“ã€‚è¿™ç§å˜é‡åº”å½“å…è®¸è¢«constå‡½æ•°æ”¹å˜ã€‚</p>
<ol>
<li><p>this æ˜¯ä¸ªæŒ‡é’ˆ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>-&gt;member</span><br><span class="line">*<span class="keyword">this</span> <span class="comment">// object</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿ç®—ç¬¦é‡è½½ä¸­ï¼Œé€’å¢çš„å‰ç½®ç‰ˆæœ¬å‚æ•°åˆ—è¡¨ä¸ºç©ºï¼Œåç½®ç‰ˆæœ¬æœ¬æ¥ä¹Ÿæ˜¯ç©ºçš„ï¼Œä½†æ˜¯ä¸ºäº†é‡è½½ï¼Œåç½®ç‰ˆæœ¬å¼ºè¡Œç»™åŠ äº†ä¸€ä¸ªintå‚æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">inline</span> Triangular_iterator&amp; Triangular_iterator::<span class="keyword">operator</span>++()&#123;</span><br><span class="line">	++_index;</span><br><span class="line">	check_intergrity();</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™åº”è¯¥æ˜¯ç¬¬äºŒæ¬¡çœ‹åˆ°å‡½æ•°å‚æ•°åªæ˜¯ä¸€ä¸ªç±»å‹åç§°ï¼Œç¬¬ä¸€æ¬¡çœ‹åˆ°æ˜¯åœ¨å‡½æ•°æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">inline</span> Triangular_iterator Triangualr_iterator::<span class="keyword">operator</span>++(<span class="keyword">int</span>)&#123;</span><br><span class="line">	Triangular_iterator tmp = *<span class="keyword">this</span>;</span><br><span class="line">	++_index;</span><br><span class="line">	check_intergrity();</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å‹å…ƒå‡½æ•°å£°æ˜éœ€è¦ä¿è¯è¢«å£°æ˜çš„å‡½æ•°çš„å®šä¹‰åœ¨æ­¤å£°æ˜ä¹‹å‰ï¼Œæˆ–è€…åªèƒ½ç”¨å‹å…ƒç±»åšæ•´ä½“çš„å£°æ˜ã€‚</p>
</li>
<li><p>maximal munchè§„åˆ™ï¼Œåˆæ³•ç¬¦å·åºåˆ—æ€»æ˜¯ä»¥æœ€é•¿çš„é‚£ä¸ªè§£é‡Šï¼Œä¾‹å¦‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;åé¢ä¸¤ä¸ªå°–æ‹¬å·å¿…é¡»åˆ†å¼€ï¼Œå¦‚ä½•ä¸­é—´æ²¡æœ‰ç©ºæ ¼å°±ä¼šè¢«è§£é‡Šä¸º&gt;&gt;æµç¬¦å·</span><br><span class="line">a+++bä¼šè§£é‡Šä¸ºa++ + b</span><br></pre></td></tr></table></figure>
</li>
<li><p>é¢å‘å¯¹è±¡é£æ ¼ï¼šç»§æ‰¿inheritanceã€å¤šæ€polymorphismã€åŠ¨æ€ç»‘å®šdynamic binding</p>
</li>
<li><p>protectedä¸ºåªæœ‰å­ç±»å¯ä»¥è®¿é—®ï¼Œå­ç±»ä½¿ç”¨æ—¶ä¸éœ€è¦åŒºåˆ†â€œç»§æ‰¿è€Œæ¥çš„æˆå‘˜â€è¿˜æ˜¯â€œè‡ªèº«å®šä¹‰çš„æˆå‘˜â€ï¼Œåœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œå¦‚æœåŸºç±»éœ€è¦æ„é€ å‚æ•°ï¼Œéœ€è¦å…ˆå®ŒæˆåŸºç±»çš„åˆå§‹åŒ–ã€‚</p>
</li>
<li><p>åŸºç±»çš„æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°çš„æ—¶å€™å¯ä»¥è°ƒç”¨åˆ°å­ç±»çš„è™šå‡½æ•°ã€‚è™šå‡½æ•°çš„è§£æå‘ç”Ÿåœ¨è¿è¡Œæ—¶ï¼Œè€Œéç¼–è¯‘é˜¶æ®µã€‚</p>
</li>
<li><p>å¦‚æœç±»é‡Œé¢æœ‰ä¸€ä¸ªreferenceç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆå®ƒå°±éœ€è¦å†æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼Œä¸”ä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½æ”¹å˜å¼•ç”¨çš„å¯¹è±¡ã€‚å®ƒä¸èƒ½å¤ŸæŒ‡å‘ç©ºå¯¹è±¡ï¼Œè¿™ç›¸æ¯”æŒ‡é’ˆæ—¢æ˜¯ä¼˜ç‚¹ï¼Œä¹Ÿæ˜¯ç¼ºç‚¹ï¼Œä¼˜ç‚¹åœ¨äºå®ƒä¸éœ€è¦è¿›è¡Œé¢å¤–çš„ç©ºæ£€æŸ¥ï¼Œç¼ºç‚¹åœ¨äºå®ƒæ²¡æœ‰æŒ‡é’ˆé‚£ä¹ˆçµæ´»ã€‚å¼•ç”¨å’ŒæŒ‡é’ˆåˆ°åº•ç”¨å“ªä¸ªéœ€è¦æ ¹æ®å…·ä½“çš„è®¾è®¡è¦æ±‚æ¥çµæ´»åˆ¤æ–­ã€‚</p>
</li>
<li><p><em>ä½¿ç”¨ sizeof è¿ç®—ç¬¦è®¡ç®—å¯¹è±¡æ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´æ—¶ï¼Œä¸ä¼šå°†é™æ€æˆå‘˜å˜é‡è®¡ç®—åœ¨å†…ã€‚</em></p>
</li>
<li><p>åŸºç±»è™šå‡½æ•°è°ƒç”¨å¤±æ•ˆçš„ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>åŸºç±»çš„constructorå’Œdestructorå†…ï¼Œæ­¤æ—¶æ´¾ç”Ÿç±»è¿˜æœªæ„é€ </li>
<li>ä½¿ç”¨åŸºç±»å¯¹è±¡è€Œéå¯¹è±¡çš„æŒ‡é’ˆæˆ–å¼•ç”¨</li>
</ol>
</li>
<li><p>templateç±»æˆå‘˜å‡½æ•°åœ¨classå¤–çš„å®šä¹‰é¡ºåºï¼štemplate<typename elemtype> keyword returnvalue classname::func() otherkeyword{}</p>
</li>
<li><p>ä¸ºäº†æé«˜æ•ˆç‡ï¼Œä¸è®ºæ¨¡æ¿ç±»å‹å®é™…æ˜¯å•¥ï¼Œæˆ‘ä»¬åœ¨æ„é€ å‡½æ•°ä¸­éƒ½æ˜¯ç”¨å˜é‡å¼•ç”¨å’Œåˆ—è¡¨åˆå§‹åŒ–ã€‚</p>
</li>
<li>reference to pointerï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿåªç”¨æŒ‡é’ˆåªèƒ½æ”¹å˜æŒ‡é’ˆæŒ‡å‘çš„ä¸œè¥¿ï¼Œè€Œä¸èƒ½æ”¹å˜æŒ‡é’ˆè‡ªå·±ï¼ˆçœ‹åˆ°è¿™æˆ‘äººéƒ½å‚»äº†ï¼Œè„‘å­ä¸å¤Ÿç”¨äº†ï¼‰</li>
<li>æ¨¡æ¿å°–æ‹¬å·é‡Œé¢ä¸ä¸€å®šè¦æ˜¯æŸä¸€ä¸ªç±»å‹typeï¼Œä¹Ÿå¯ä»¥æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œnon-type parameteréç±»å‹å‚æ•°ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</li>
<li>ä¸€ç§catch all exceptionçš„æ–¹æ³•ï¼š<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// exceptionä¹Ÿå°±æ˜¯ä¸€ç§ç±»è€Œå·²</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">catch</span>(...)&#123;</span><br><span class="line">	log_message(<span class="string">"exception of unknown type"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">catch</span>(...)&#123;</span><br><span class="line">	<span class="keyword">throw</span>; <span class="comment">// ...ä»£è¡¨ä»»æ„ç±»å‹å¼‚å¸¸ï¼Œæˆ‘éƒ½ä¸å¤„ç†ï¼Œå…¨éƒ¨throw</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>è¿™ç§å¼‚å¸¸å¹¶éç¡¬ä»¶å¼‚å¸¸ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter11</title>
    <url>/2021/02/06/CppPrimer5th-Chapter11/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬åä¸€ç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œè¿™ä¸€ç« çš„å†…å®¹æ˜¯ä»‹ç»å…³è”å®¹å™¨ï¼Œmapã€setä»¥åŠç›¸å…³çš„å˜ä½“ã€‚<br><a id="more"></a></p>
<h2 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h2><p>ä»ä¸‰ä¸ªæ–¹é¢åˆ†ç±»å…³è”å®¹å™¨</p>
<ol>
<li>mapæˆ–è€…set</li>
<li>æ˜¯å¦å…è®¸é‡å¤keyï¼ˆmultiï¼‰</li>
<li>keyçš„é¡ºåºæ˜¯å¦æœ‰è§„å¾‹ï¼ˆunorderedï¼‰</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">map</span> <span class="comment">// ä¿å­˜key-value</span></span><br><span class="line"><span class="built_in">set</span> <span class="comment">// åªä¿å­˜key</span></span><br><span class="line"><span class="built_in">multimap</span></span><br><span class="line"><span class="built_in">multiset</span></span><br><span class="line"><span class="built_in">unordered_map</span></span><br><span class="line"><span class="built_in">unordered_set</span></span><br><span class="line"><span class="built_in">unordered_multimap</span></span><br><span class="line"><span class="built_in">unordered_multiset</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">size_t</span>&gt; word_count=&#123;&#123;<span class="string">"ad"</span>, <span class="number">100</span>&#125;,</span><br><span class="line">                                &#123;<span class="string">"top"</span>, <span class="number">80</span>&#125;&#125;;</span><br><span class="line"><span class="function"><span class="built_in">set</span>&lt;<span class="built_in">string</span>&gt; <span class="title">word_bag</span><span class="params">(vec.begin(), vec.end())</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;w : word_count)</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; w.first &lt;&lt; w.second; <span class="comment">// firstæˆå‘˜ä¸ºconstç±»å‹</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…³è”å®¹å™¨ä¸æ”¯æŒé¡ºåºå®¹å™¨çš„ä½ç½®ç›¸å…³çš„æ“ä½œï¼Œä¾‹å¦‚push_frontæˆ–push_backã€‚åŸå› æ˜¯å…³è”å®¹å™¨ä¸­å…ƒç´ æ˜¯æ ¹æ®å…³é”®å­—å­˜å‚¨çš„ï¼Œè¿™äº›æ“ä½œå¯¹å…³è”å®¹å™¨æ²¡æœ‰æ„ä¹‰ã€‚è€Œä¸”ï¼Œå…³è”å®¹å™¨ä¹Ÿä¸æ”¯æŒæ„é€ å‡½æ•°æˆ–æ’å…¥æ“ä½œè¿™äº›æ¥å—ä¸€ä¸ªå…ƒç´ å€¼å’Œä¸€ä¸ªæ•°é‡å€¼çš„æ“ä½œã€‚</p>
</blockquote>
<h2 id="pairç±»å‹"><a href="#pairç±»å‹" class="headerlink" title="pairç±»å‹"></a>pairç±»å‹</h2><p>å®šä¹‰åœ¨å¤´æ–‡ä»¶ <em>utility</em> ä¸­<br>ä¸€ä¸ªpairä¿å­˜ä¸¤ä¸ªæ•°æ®æˆå‘˜ã€‚ç±»ä¼¼å®¹å™¨ï¼Œpairæ˜¯ä¸€ä¸ªç”¨æ¥ç”Ÿæˆç‰¹å®šç±»å‹çš„æ¨¡æ¿ã€‚å½“åˆ›å»ºä¸€ä¸ªpairæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»æä¾›ä¸¤ä¸ªç±»å‹åï¼Œpairçš„æ•°æ®æˆå‘˜å°†å…·æœ‰å¯¹åº”çš„ç±»å‹ã€‚ä¸¤ä¸ªç±»å‹ä¸è¦æ±‚ä¸€æ ·ï¼š<br>pairä½¿ç”¨publicæˆå‘˜firstä¸secondæ¥å­˜å‚¨keyä¸value</p>
<h2 id="å…³è”å®¹å™¨é¢å¤–çš„ç±»å‹"><a href="#å…³è”å®¹å™¨é¢å¤–çš„ç±»å‹" class="headerlink" title="å…³è”å®¹å™¨é¢å¤–çš„ç±»å‹"></a>å…³è”å®¹å™¨é¢å¤–çš„ç±»å‹</h2><ul>
<li>key_type</li>
<li>mapped_type</li>
<li>value_type</li>
</ul>
<p>å¯¹mapå’Œsetæ¥è¯´è¿™ä¸‰ä¸ªç±»å‹å«ä¹‰æœ‰æ‰€ä¸åŒï¼Œå…·ä½“å‚ç…§ä»¥ä¸‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span>&lt;<span class="built_in">string</span>&gt;::key_type v1; <span class="comment">// string</span></span><br><span class="line"><span class="built_in">set</span>&lt;<span class="built_in">string</span>&gt;::value_type v2; <span class="comment">//string</span></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::key_type v3; <span class="comment">//string</span></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::value_type v4; <span class="comment">// pair</span></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::mapped_type v5; <span class="comment">// int</span></span><br></pre></td></tr></table></figure>
<h2 id="å…³è”å®¹å™¨è¿­ä»£å™¨"><a href="#å…³è”å®¹å™¨è¿­ä»£å™¨" class="headerlink" title="å…³è”å®¹å™¨è¿­ä»£å™¨"></a>å…³è”å®¹å™¨è¿­ä»£å™¨</h2><p>è™½ç„¶setç±»å‹åŒæ—¶å®šä¹‰äº†iteratorå’Œconst_iteratorç±»å‹ï¼Œä½†ä¸¤ç§ç±»å‹éƒ½åªå…è®¸åªè¯»è®¿é—®setä¸­çš„å…ƒç´ ã€‚ä¸ä¸èƒ½æ”¹å˜ä¸€ä¸ªmapå…ƒç´ çš„å…³é”®å­—ä¸€æ ·ï¼Œä¸€ä¸ªsetä¸­çš„å…³é”®å­—ä¹Ÿæ˜¯constçš„ã€‚å¯ä»¥ç”¨ä¸€ä¸ªsetè¿­ä»£å™¨æ¥è¯»å–å…ƒç´ çš„å€¼ï¼Œä½†ä¸èƒ½ä¿®æ”¹</p>
<p>ç”±äºå…³è”å®¹å™¨çš„è¿­ä»£å™¨å¤§éƒ¨åˆ†éƒ½æ˜¯åªè¯»constï¼Œå¹¶ä¸”keyå€¼æ’åˆ—ç»å¸¸æ²¡æœ‰é¡ºåºï¼Œå› æ­¤<strong>æ³›å‹ç®—æ³•é€šå¸¸ä¸ä¼šä½œç”¨åœ¨å…³è”å®¹å™¨ä¸Š</strong>ã€‚å…³è”å®¹å™¨é€šå¸¸åªä¼šä½œä¸ºç®—æ³•çš„æºæˆ–è€…ç›®çš„å®¹å™¨ï¼Œè€Œä¸å‚ä¸è¿‡å¤šçš„å…ƒç´ å˜æ¢è¿‡ç¨‹ã€‚</p>
<h2 id="mapçš„ä¸‹æ ‡æ“ä½œ"><a href="#mapçš„ä¸‹æ ‡æ“ä½œ" class="headerlink" title="mapçš„ä¸‹æ ‡æ“ä½œ"></a>mapçš„ä¸‹æ ‡æ“ä½œ</h2><p>mapå…ƒç´ çš„ä¸‹æ ‡è®¿é—®æœ‰ä¸¤ç§è®¿é—®æ–¹å¼ï¼Œsetå› ä¸ºåªæœ‰keyï¼Œæ²¡æœ‰ä¸‹æ ‡è®¿é—®æ“ä½œã€‚<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">m[k]; <span class="comment">// è‹¥kä¸å­˜åœ¨ï¼Œåˆ™åœ¨mä¸­ç”Ÿæˆké¡¹</span></span><br><span class="line">m.at(k); <span class="comment">// è‹¥kä¸å­˜åœ¨ï¼ŒæŠ›å‡ºout of rangeå¼‚å¸¸</span></span><br></pre></td></tr></table></figure><br>å¦‚æœåªæ˜¯æƒ³æŸ¥æ‰¾kåœ¨ä¸åœ¨ï¼Œä¸åº”è¯¥ä½¿ç”¨ä¸‹æ ‡æ“ä½œï¼Œå› ä¸ºè‹¥æ²¡æœ‰è¿™ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ä¸‹è¡¨ä¼šé€ æˆå…ƒç´ æ’å…¥ã€‚æŸ¥æ‰¾å…ƒç´ åº”è¯¥ä½¿ç”¨find</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(m.find(k) == m.end()) <span class="comment">// findç”±å‰è‡³åçš„å¯»æ‰¾kï¼Œæ‰¾ä¸åˆ°åˆ™è¿”å›å°¾åè¿­ä»£å™¨</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; <span class="string">"k is not in the map"</span>;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter10</title>
    <url>/2021/01/30/CppPrimer5th-Chapter10/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬åç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œè¿™ä¸€ç« çš„å†…å®¹æ˜¯ä»‹ç»STLç›¸å…³çš„æ³›å‹ç®—æ³•ã€‚<br><a id="more"></a></p>
<p>æ³›å‹ç®—æ³•æ˜¯ä¸ºäº†ä¸°å¯Œå®¹å™¨çš„æ“ä½œè€Œè®¾è®¡å‡ºçš„ç®—æ³•ï¼Œå®šä¹‰åœ¨ <em>algorithm &amp; numeric</em>ä¹‹ä¸­ã€‚<br>ç®—æ³•è¾“å…¥é€šå¸¸ä¸æ˜¯æ•´ä¸ªå®¹å™¨ï¼Œè€Œæ˜¯ä¸å®¹å™¨ç›¸å…³çš„è¿­ä»£å™¨ã€‚</p>
<p><img src='find.png' width=700 title='find algorithm'></p>
<p>æ³›å‹ç®—æ³•çš„æ“ä½œéƒ½æ˜¯åœ¨é€‚é…å™¨ä¹‹ä¸Šè¿›è¡Œçš„ï¼Œå› æ­¤ä¸ä¼šå¯¹å®¹å™¨æœ¬èº«è¿›è¡Œæ“ä½œï¼Œä»–ä»¬è‡ªèº«ä¸èƒ½æ”¹å˜å®¹å™¨çš„å¤§å°ã€‚</p>
<p>ç®—æ³•å¯ä»¥åˆ†ä¸ºåªè¯»ï¼Œæ”¹å˜å…ƒç´ ï¼Œä»¥åŠé‡æ–°æ’åº</p>
<h2 id="åªè¯»ç®—æ³•"><a href="#åªè¯»ç®—æ³•" class="headerlink" title="åªè¯»ç®—æ³•"></a>åªè¯»ç®—æ³•</h2><p>ä»¥numericä¸­çš„accumulateç®—æ³•ä¸ºä¾‹ï¼Œç®—æ³•è¦æ±‚è¿­ä»£å™¨æŒ‡å‘å®¹å™¨å…ƒç´ ç±»å‹ä¸å‡½æ•°ç¬¬ä¸‰å‚æ•°çš„ç±»å‹ä¸€è‡´ï¼Œç¬¬ä¸‰å‚æ•°ä¸ºåˆå€¼ï¼Œå½“ä¸ºintæ—¶ä»£è¡¨ç´¯åŠ ï¼Œå½“æ˜¯å­—ç¬¦ä¸²çš„çš„æ—¶å€™è¡¨ç¤ºå®¹å™¨å†…å„å­—ç¬¦ä¸²ç›¸è¿åœ¨ä¸€èµ·ã€‚<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">vector&lt;int&gt; vec</span></span><br><span class="line"><span class="comment">vector&lt;string&gt; v</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">int</span> sum = accumulate(vec.cbgein(), vec.cend(), <span class="number">0</span>); <span class="comment">// right, int</span></span><br><span class="line"><span class="built_in">string</span>  sum = accumulate(v.cbegin(), v.cend(), str(<span class="string">""</span>) ); <span class="comment">// right, string</span></span><br><span class="line"><span class="built_in">string</span> sum = accumulate(v.cbegin(), v.cend(), <span class="string">""</span>); <span class="comment">// wrong, const char* is not compatiable with string</span></span><br></pre></td></tr></table></figure><br>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸²å­—é¢å€¼ç±»å‹ä¸ºconst char * è€Œé stringï¼Œå› æ­¤ä¸èƒ½ç›´æ¥å°†å­—ç¬¦ä¸²å­—é¢å€¼ä½œä¸ºç¬¬ä¸‰å‚æ•°ã€‚</p>
<h3 id="è¿­ä»£å™¨å‚æ•°æ•°ç›®"><a href="#è¿­ä»£å™¨å‚æ•°æ•°ç›®" class="headerlink" title="è¿­ä»£å™¨å‚æ•°æ•°ç›®"></a>è¿­ä»£å™¨å‚æ•°æ•°ç›®</h3><p>å½“æ¶‰åŠåˆ°å¯¹ä¸¤ä¸ªå®¹å™¨åºåˆ—çš„æ“ä½œçš„æ—¶å€™ï¼Œæœ‰äº›ç®—æ³•ä¼šä½¿ç”¨ä¸‰ä¸ªè¿­ä»£å™¨å‚æ•°ï¼Œæœ‰äº›ç®—æ³•ä½¿ç”¨å››ä¸ªè¿­ä»£å™¨å‚æ•°ã€‚ä¸‰ä¸ªå‚æ•°çš„ç®—æ³•ä¾‹å¦‚equalï¼Œå‰ä¸¤ä¸ªå‚æ•°ä¸ºç¬¬ä¸€ä¸ªåºåˆ—çš„é¦–æœ«è¿­ä»£å™¨ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºç¬¬äºŒä¸ªåºåˆ—çš„é¦–è¿­ä»£å™¨ï¼Œè¿™æ—¶å€™ç®—æ³•é»˜è®¤ä¸¤ä¸ªè¿­ä»£å™¨çš„é•¿åº¦ä¸€è‡´ï¼›å››å‚æ•°ç®—æ³•åˆ™å®Œæ•´çš„è¯»å–ä¸¤ä¸ªåºåˆ—çš„é¦–æœ«è¿­ä»£å™¨ã€‚</p>
<h2 id="å†™å®¹å™¨ç®—æ³•"><a href="#å†™å®¹å™¨ç®—æ³•" class="headerlink" title="å†™å®¹å™¨ç®—æ³•"></a>å†™å®¹å™¨ç®—æ³•</h2><p>éœ€è¦ä¿è¯å†™å…¥çš„å†…å­˜éƒ½æ˜¯æœ‰å®šä¹‰çš„ï¼Œå¦åˆ™ä¸ºéæ³•æ“ä½œ<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec;</span><br><span class="line">fill(vec.begin(), vec.end(), <span class="number">0</span>); <span class="comment">// å°†æ¯ä¸ªå…ƒç´ é‡ç½®ä¸º0</span></span><br><span class="line">fill_n(vec.begin(), <span class="number">10</span>, <span class="number">0</span>); <span class="comment">// å°†beginå¼€å§‹çš„10ä¸ªå…ƒç´ ç½®0ï¼Œå­˜åœ¨é£é™©ï¼Œå®¹å™¨æœ‰å¯èƒ½ä¸ºç©º</span></span><br><span class="line"><span class="comment">/*ä½¿ç”¨back_insertè·å–å°¾éƒ¨è¿­ä»£å™¨*/</span></span><br><span class="line"><span class="keyword">auto</span> it = back_inserter(vec);</span><br><span class="line">*it = <span class="number">40</span>; <span class="comment">// OK</span></span><br><span class="line">fill_n(back_inserter(vec), <span class="number">10</span>, <span class="number">0</span>); <span class="comment">// OK</span></span><br></pre></td></tr></table></figure></p>
<h2 id="é‡æ’å…ƒç´ ç®—æ³•"><a href="#é‡æ’å…ƒç´ ç®—æ³•" class="headerlink" title="é‡æ’å…ƒç´ ç®—æ³•"></a>é‡æ’å…ƒç´ ç®—æ³•</h2><blockquote>
<p>æŸäº›ç®—æ³•ä¼šé‡æ’å®¹å™¨ä¸­å…ƒç´ çš„é¡ºåºï¼Œä¸€ä¸ªæ˜æ˜¾çš„ä¾‹å­æ˜¯sortã€‚è°ƒç”¨sortä¼šé‡æ’è¾“å…¥åºåˆ—ä¸­çš„å…ƒç´ ï¼Œä½¿ä¹‹æœ‰åºï¼Œå®ƒæ˜¯åˆ©ç”¨å…ƒç´ ç±»å‹çš„&lt;è¿ç®—ç¬¦æ¥å®ç°æ’åºçš„ã€‚</p>
</blockquote>
<p>é‡æ’ç®—æ³•ä¸èƒ½å¯¹å®¹å™¨æœ¬èº«çš„å…ƒç´ è¿›è¡Œåˆ é™¤æ“ä½œï¼Œå…·ä½“å¯¹å…ƒç´ çš„åˆ é™¤è¿˜éœ€è¦ç›´æ¥å¯¹å®¹å™¨è¿›è¡Œæ“ä½œã€‚</p>
<h2 id="å®šåˆ¶ç®—æ³•"><a href="#å®šåˆ¶ç®—æ³•" class="headerlink" title="å®šåˆ¶ç®—æ³•"></a>å®šåˆ¶ç®—æ³•</h2><p>æŸäº›ç®—æ³•ï¼Œåœ¨è¿è¡Œæ—¶ä¼šè°ƒç”¨å®¹å™¨å…ƒç´ çš„æ“ä½œç¬¦ï¼Œä¾‹å¦‚sorté»˜è®¤è°ƒç”¨å°äºå·è¿ç®—ç¬¦ã€‚å¯¹äºé‚£äº›æ²¡æœ‰å®šä¹‰ç›¸åº”è¿ç®—ç¬¦çš„å…ƒç´ ï¼Œæˆ–è€…å½“æˆ‘ä»¬å¸Œæœ›è‡ªç”±é€‰æ‹©ä½¿ç”¨çš„è¿ç®—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°å¹¶ä½œä¸ºå‚æ•°ä¼ å…¥ç®—æ³•çš„æ–¹å¼æ¥è§£å†³ã€‚è¿™ä¸ªå‚æ•°æˆ–è€…è¯´è‡ªå®šä¹‰å‡½æ•°è¢«ç§°ä½œ<strong>è°“è¯</strong>ï¼ˆpredicateï¼‰</p>
<blockquote>
<p>è°“è¯æ˜¯ä¸€ä¸ªå¯è°ƒç”¨çš„è¡¨è¾¾å¼ï¼Œå…¶è¿”å›ç»“æœæ˜¯ä¸€ä¸ªèƒ½ç”¨ä½œæ¡ä»¶çš„å€¼ã€‚æ ‡å‡†åº“ç®—æ³•æ‰€ä½¿ç”¨çš„è°“è¯åˆ†ä¸ºä¸¤ç±»ï¼šä¸€å…ƒè°“è¯ï¼ˆunary predicateï¼Œæ„å‘³ç€å®ƒä»¬åªæ¥å—å•ä¸€å‚æ•°ï¼‰å’ŒäºŒå…ƒè°“è¯ï¼ˆbinary predicateï¼Œæ„å‘³ç€å®ƒä»¬æœ‰ä¸¤ä¸ªå‚æ•°ï¼‰ã€‚<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*ä¸€ä¸ªäºŒå…ƒè°“è¯isShorterï¼Œæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦å¤§å°*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isShorter</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp; s1, <span class="keyword">const</span> <span class="built_in">string</span> &amp; s2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s1.size() &lt; s2.size();</span><br><span class="line">&#125;</span><br><span class="line">sort(words.begin(), words.end(), isShorter); <span class="comment">// æŒ‰ç”±çŸ­åˆ°é•¿çš„é¡ºåºå°†wordsæ’åº</span></span><br></pre></td></tr></table></figure></p>
<h2 id="lambdaè¡¨è¾¾å¼"><a href="#lambdaè¡¨è¾¾å¼" class="headerlink" title="lambdaè¡¨è¾¾å¼"></a>lambdaè¡¨è¾¾å¼</h2></blockquote>
<p>ã€Œlambdaå‡½æ•°ã€æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å› ä¸ºå®ƒå¯ä»¥åƒå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ï¼Œç±»ä¸èƒ½è¢«è°ƒç”¨ï¼Œåªæœ‰å¯¹è±¡æ‰å¯ä»¥ã€‚</p>
<p>æ›´å‡†ç¡®åœ°è¯´ï¼Œã€Œlambdaå‡½æ•°ã€å°±æ˜¯ä¸€ä¸ªã€Œå‡½æ•°å¯¹è±¡ã€ã€‚</p>
<p>lambdaçš„è¯­æ³•å…¶å®ä¸€ä¸ªè¯­æ³•ç³–ï¼Œç¼–è¯‘å™¨ä¼šå°†å®ƒâ€œç¿»è¯‘â€æˆä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œç„¶åå†ç¼–è¯‘ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">[capture <span class="built_in">list</span>] (parameters) -&gt; <span class="keyword">return</span> type &#123;function body&#125;</span><br><span class="line"><span class="comment">/*lambda isShorter*/</span></span><br><span class="line"><span class="keyword">auto</span> f = [](<span class="keyword">const</span> <span class="built_in">string</span>&amp;s1, <span class="keyword">const</span> <span class="built_in">string</span>&amp;s2) -&gt; <span class="keyword">bool</span> &#123;<span class="keyword">return</span> s1.size()&lt;s2.size();&#125;</span><br></pre></td></tr></table></figure>
<p><strong>lambdaå‡½æ•°æ²¡æœ‰é»˜è®¤å‚æ•°å€¼ï¼Œå› æ­¤å®å‚ä¸å½¢å‚æ•°ç›®å¿…é¡»ä¸€è‡´</strong><br>lambdaè¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨æ‰€åœ¨çš„å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ï¼Œåªè¦åœ¨æ•è·åˆ—è¡¨ä¸­â€œæ•è·â€å³å¯ï¼Œè¿™ç§æ–¹å¼å¯ä»¥è®©éƒ¨åˆ†åªæ¥å—ä¸€å…ƒè°“è¯çš„ç®—æ³•ä¹Ÿé€‚é…å¤šå‚æ•°çš„<em>å¤šå…ƒè°“è¯</em></p>
<h2 id="bindå‡½æ•°"><a href="#bindå‡½æ•°" class="headerlink" title="bindå‡½æ•°"></a>bindå‡½æ•°</h2><p>ä½¿ç”¨c++11ä¸­çš„bindå‡½æ•°ä¸placeholderä¹Ÿå¯ä»¥è§£å†³ä¸€å…ƒè°“è¯å˜å¤šå…ƒçš„é—®é¢˜ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">auto</span> g = bind(f, a, b, _1, c, _2);</span><br><span class="line"><span class="comment">// gå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œfå‡½æ•°æœ‰äº”ä¸ªå‚æ•°ï¼Œè°ƒç”¨gçš„æ—¶å€™å¯ä»¥å°†gçš„å‚æ•°ä½œä¸ºfçš„å‚æ•°ä¼ å…¥ï¼Œå®é™…èµ·ä½œç”¨çš„æ˜¯få‡½æ•°</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter3</title>
    <url>/2021/01/27/CppPrimer5th-Chapter3/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬ä¸‰ç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹</p>
<a id="more"></a>
<p>é˜…è¯»ã€ŠC++ Primer 5thã€‹åè®°å½•ä¸‹æ¯”è¾ƒé‡è¦æˆ–è€…ä¸ç†Ÿæ‚‰çš„çŸ¥è¯†ç‚¹ï¼Œæ–¹ä¾¿ä»¥åæŸ¥è¯¢å¤ä¹ ã€‚æœ¬ç¯‡ä¸ºç¬¬ä¸‰ç« å­—ç¬¦ä¸²ã€å‘é‡å’Œæ•°ç»„ï¼Œè®²è¿°äº†stringã€vectorä¸è¿­ä»£å™¨çš„ä¸€äº›çŸ¥è¯†ã€‚</p>
<h2 id="usingå‘½åç©ºé—´çš„å£°æ˜"><a href="#usingå‘½åç©ºé—´çš„å£°æ˜" class="headerlink" title="usingå‘½åç©ºé—´çš„å£°æ˜"></a>usingå‘½åç©ºé—´çš„å£°æ˜</h2><p>ä¸åŒäºå¸¸ç”¨çš„ <em>using namespace std</em> ï¼Œè¿™é‡Œprimeræ¨èçš„æ˜¯é’ˆå¯¹æ¯ä¸€ä¸ªè¦ç”¨çš„å‡½æ•°å•ç‹¬å£°æ˜ï¼Œè¿™æ ·ä¸ä¼šè®©å‘½åç©ºé—´ä¿æŠ¤çš„åç§°å…¨éƒ¨æš´éœ²å‡ºæ¥ã€‚<br>å•ç‹¬å£°æ˜æŸä¸€ä¸ªå‡½æ•°çš„æ ¼å¼ä¸º <em>using namespace::func</em><br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>; <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>; <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br></pre></td></tr></table></figure></p>
<h2 id="æ ‡å‡†åº“string"><a href="#æ ‡å‡†åº“string" class="headerlink" title="æ ‡å‡†åº“string"></a>æ ‡å‡†åº“string</h2><h3 id="æ‹·è´åˆå§‹åŒ–ä¸ç›´æ¥åˆå§‹åŒ–"><a href="#æ‹·è´åˆå§‹åŒ–ä¸ç›´æ¥åˆå§‹åŒ–" class="headerlink" title="æ‹·è´åˆå§‹åŒ–ä¸ç›´æ¥åˆå§‹åŒ–"></a>æ‹·è´åˆå§‹åŒ–ä¸ç›´æ¥åˆå§‹åŒ–</h3><blockquote>
<p>C++è¯­è¨€æœ‰å‡ ç§ä¸åŒçš„åˆå§‹åŒ–æ–¹å¼ï¼Œé€šè¿‡stringæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°åœ¨è¿™äº›åˆå§‹åŒ–æ–¹å¼ä¹‹é—´åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»ã€‚å¦‚æœä½¿ç”¨ç­‰å·ï¼ˆ=ï¼‰åˆå§‹åŒ–ä¸€ä¸ªå˜é‡ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯æ‹·è´åˆå§‹åŒ–ï¼ˆcopy initializationï¼‰ï¼Œç¼–è¯‘å™¨æŠŠç­‰å·å³ä¾§çš„åˆå§‹å€¼æ‹·è´åˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ä¸­å»ã€‚ä¸ä¹‹ç›¸åï¼Œå¦‚æœä¸ä½¿ç”¨ç­‰å·ï¼Œåˆ™æ‰§è¡Œçš„æ˜¯ç›´æ¥åˆå§‹åŒ–ï¼ˆdirect initializationï¼‰ã€‚</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">string</span> s1 = <span class="string">"abcd"</span>; <span class="comment">// copy</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s2</span><span class="params">(<span class="string">"hiya"</span>)</span></span>; <span class="comment">//direct</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s3</span><span class="params">(<span class="number">10</span>, <span class="string">'c'</span>)</span></span>; <span class="comment">//direct "cccccccccc"</span></span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨getlineè¯»å–ä¸€æ•´è¡Œ"><a href="#ä½¿ç”¨getlineè¯»å–ä¸€æ•´è¡Œ" class="headerlink" title="ä½¿ç”¨getlineè¯»å–ä¸€æ•´è¡Œ"></a>ä½¿ç”¨getlineè¯»å–ä¸€æ•´è¡Œ</h3><p>ä¸€èˆ¬ä½¿ç”¨cinè¯»å–å­—ç¬¦ä¸²æµçš„æ—¶å€™ï¼Œä¼šæŠŠç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦å½“ä½œåˆ†éš”ç¬¦ã€‚å¦‚æœæƒ³è¦ä¿ç•™è¿™äº›åˆ†éš”ç¬¦ï¼ˆé™¤äº†æ¢è¡Œç¬¦ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨<em>getline()</em></p>
<blockquote>
<p>getlineå‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªè¾“å…¥æµå’Œä¸€ä¸ªstringå¯¹è±¡ï¼Œå‡½æ•°ä»ç»™å®šçš„è¾“å…¥æµä¸­è¯»å…¥å†…å®¹ï¼Œç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ä¸ºæ­¢ï¼ˆæ³¨æ„æ¢è¡Œç¬¦ä¹Ÿè¢«è¯»è¿›æ¥äº†ï¼‰ï¼Œç„¶åæŠŠæ‰€è¯»çš„å†…å®¹å­˜å…¥åˆ°é‚£ä¸ªstringå¯¹è±¡ä¸­å»ï¼ˆæ³¨æ„ä¸å­˜æ¢è¡Œç¬¦ï¼‰ã€‚getlineåªè¦ä¸€é‡åˆ°æ¢è¡Œç¬¦å°±ç»“æŸè¯»å–æ“ä½œå¹¶è¿”å›ç»“æœï¼Œå“ªæ€•è¾“å…¥çš„ä¸€å¼€å§‹å°±æ˜¯æ¢è¡Œç¬¦ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœè¾“å…¥çœŸçš„ä¸€å¼€å§‹å°±æ˜¯æ¢è¡Œç¬¦ï¼Œé‚£ä¹ˆæ‰€å¾—çš„ç»“æœæ˜¯ä¸ªç©ºstringã€‚</p>
</blockquote>
<p><em>getline()</em> åŒæ ·è¿”å›æµå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥ç”¨whileæ¥åˆ¤æ–­æ˜¯å¦è¯»åˆ°åº•éƒ¨äº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">string</span> line;</span><br><span class="line"><span class="keyword">while</span>(getline(<span class="built_in">cin</span>, line))&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; line &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="size-type"><a href="#size-type" class="headerlink" title="size_type"></a>size_type</h3><blockquote>
<p>stringç±»åŠå…¶ä»–å¤§å¤šæ•°æ ‡å‡†åº“ç±»å‹éƒ½å®šä¹‰äº†å‡ ç§é…å¥—çš„ç±»å‹ã€‚è¿™äº›é…å¥—ç±»å‹ä½“ç°äº†æ ‡å‡†åº“ç±»å‹ä¸æœºå™¨æ— å…³çš„ç‰¹æ€§ï¼Œç±»å‹size_typeå³æ˜¯å…¶ä¸­çš„ä¸€ç§ã€‚åœ¨å…·ä½“ä½¿ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡ä½œç”¨åŸŸæ“ä½œç¬¦æ¥è¡¨æ˜åå­—size_typeæ˜¯åœ¨ç±»stringä¸­å®šä¹‰çš„</p>
</blockquote>
<p>size_typeæ˜¯ä¸€ä¸ªæ— ç¬¦å·é‡ï¼Œä½¿ç”¨çš„æ—¶å€™å°½é‡ä¸è¦ä¸æ•´å‹ï¼ˆæœ‰ç¬¦å·é‡ï¼‰æ··ç”¨ï¼Œé˜²æ­¢å‡ºç°æ„å¤–å¾—åˆ°è´Ÿæ•°çš„æƒ…å†µï¼Œè¿›è€Œè‡´ä½¿ <em>size()+10 &lt; n</em> è¿™ç§æ¡ä»¶æ— æ³•æ­£å¸¸åˆ¤æ–­ã€‚</p>
<h3 id="å­—ç¬¦ä¸²å­—é¢å€¼"><a href="#å­—ç¬¦ä¸²å­—é¢å€¼" class="headerlink" title="å­—ç¬¦ä¸²å­—é¢å€¼"></a>å­—ç¬¦ä¸²å­—é¢å€¼</h3><p>ä¸ºäº†ä¸cå…¼å®¹å’Œå†å²åŸå› ï¼Œå­—ç¬¦ä¸²å­—é¢å€¼ç±»å‹ä¸æ˜¯stringç±»ï¼Œæ— æ³•æ‰§è¡Œç›¸å…³çš„æ“ä½œã€‚</p>
<h3 id="å¤„ç†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦"><a href="#å¤„ç†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦" class="headerlink" title="å¤„ç†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦"></a>å¤„ç†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦</h3><p>ä¸€èˆ¬æ¥è¯´ï¼ŒC++ç¨‹åºåº”è¯¥ä½¿ç”¨åä¸ºcnameçš„å¤´æ–‡ä»¶è€Œä¸ä½¿ç”¨name.hçš„å½¢å¼ï¼Œæ ‡å‡†åº“ä¸­çš„åå­—æ€»èƒ½åœ¨å‘½åç©ºé—´stdä¸­æ‰¾åˆ°ã€‚å¦‚æœä½¿ç”¨.hå½¢å¼çš„å¤´æ–‡ä»¶ï¼Œç¨‹åºå‘˜å°±ä¸å¾—ä¸æ—¶åˆ»ç‰¢è®°å“ªäº›æ˜¯ä»Cè¯­è¨€é‚£å„¿ç»§æ‰¿è¿‡æ¥çš„ï¼Œå“ªäº›åˆæ˜¯C++è¯­è¨€æ‰€ç‹¬æœ‰çš„ã€‚</p>
<p>ä¾‹å¦‚ <em>cctype</em> å’Œ <em>ctype.h</em> æ–‡ä»¶å®é™…ä¸Šæ˜¯åŒä¸€ä¸ªæ–‡ä»¶ï¼ˆä»åŒ…å«çš„å‡½æ•°åŠŸèƒ½æ¥è¯´ï¼‰ï¼Œ <em>cctype</em> ç¬¦åˆc++å‘½åè§„èŒƒ</p>
<p>å¤„ç†å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å…ƒç´ æœ€å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨c++11çš„range for</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(declaration : expression)</span><br><span class="line">    statement</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">str</span><span class="params">(<span class="string">"some string"</span>)</span></span>;</span><br><span class="line"><span class="keyword">decltype</span>(str.size()) cnt;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> c : str)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isdigit</span>(c))</span><br><span class="line">        ++cnt;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; c &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="string">"digits in str\n"</span>;</span><br></pre></td></tr></table></figure>
<p><strong>å¦‚æœä¿®æ”¹å­—ç¬¦ï¼Œéœ€è¦å°†autoåé¢å¢åŠ å¼•ç”¨ä¿®é¥°ç¬¦ ï¼Œå³ auto &amp;c : str</strong></p>
<h2 id="æ ‡å‡†åº“ä¸­vector"><a href="#æ ‡å‡†åº“ä¸­vector" class="headerlink" title="æ ‡å‡†åº“ä¸­vector"></a>æ ‡å‡†åº“ä¸­vector</h2><blockquote>
<p>vectoræ˜¯æ¨¡æ¿è€Œéç±»å‹ï¼Œç”±vectorç”Ÿæˆçš„ç±»å‹å¿…é¡»åŒ…å«vectorä¸­å…ƒç´ çš„ç±»å‹ï¼Œä¾‹å¦‚vector<int>ã€‚</p>
</blockquote>
<p>vectorèƒ½å®¹çº³ç»å¤§å¤šæ•°ç±»å‹çš„<strong>å¯¹è±¡</strong>ä½œä¸ºå…¶å…ƒç´ ï¼Œä½†æ˜¯å› ä¸º<strong>å¼•ç”¨ä¸æ˜¯å¯¹è±¡</strong>ï¼Œ<em>æ‰€ä»¥ä¸å­˜åœ¨åŒ…å«å¼•ç”¨çš„vector</em>ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå…¶ä»–å¤§å¤šæ•°ï¼ˆéå¼•ç”¨ï¼‰å†…ç½®ç±»å‹å’Œç±»ç±»å‹éƒ½å¯ä»¥æ„æˆvectorå¯¹è±¡ï¼Œç”šè‡³ç»„æˆvectorçš„å…ƒç´ ä¹Ÿå¯ä»¥æ˜¯vectorã€‚</p>
<h3 id="ä¸åŒæ‹¬å·åˆå§‹åŒ–æ•ˆæœä¸åŒ"><a href="#ä¸åŒæ‹¬å·åˆå§‹åŒ–æ•ˆæœä¸åŒ" class="headerlink" title="ä¸åŒæ‹¬å·åˆå§‹åŒ–æ•ˆæœä¸åŒ"></a>ä¸åŒæ‹¬å·åˆå§‹åŒ–æ•ˆæœä¸åŒ</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v1</span><span class="params">(<span class="number">10</span>,<span class="number">1</span>)</span></span>; <span class="comment">//åä¸ªå…ƒç´ éƒ½æ˜¯1</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2&#123;<span class="number">10</span>,<span class="number">1</span>&#125;; <span class="comment">//å‰ä¸¤ä¸ªå…ƒç´ æ˜¯10å’Œ1</span></span><br></pre></td></tr></table></figure>
<p><strong>ä¸€äº›é‡è¦çš„æ³¨æ„äº‹é¡¹</strong></p>
<blockquote>
<p>å¼€å§‹çš„æ—¶å€™åˆ›å»ºç©ºçš„vectorå¯¹è±¡ï¼Œåœ¨è¿è¡Œæ—¶å†åŠ¨æ€æ·»åŠ å…ƒç´ ï¼Œè¿™ä¸€åšæ³•ä¸Cè¯­è¨€åŠå…¶ä»–å¤§å¤šæ•°è¯­è¨€ä¸­å†…ç½®æ•°ç»„ç±»å‹çš„ç”¨æ³•ä¸åŒã€‚ç‰¹åˆ«æ˜¯å¦‚æœç”¨æƒ¯äº†Cæˆ–è€…Javaï¼Œå¯ä»¥é¢„è®¡åœ¨åˆ›å»ºvectorå¯¹è±¡æ—¶é¡ºä¾¿æŒ‡å®šå…¶å®¹é‡æ˜¯æœ€å¥½çš„ã€‚ç„¶è€Œäº‹å®ä¸Šï¼Œé€šå¸¸çš„æƒ…å†µæ˜¯æ°æ°ç›¸åã€‚</p>
<p>éšç€å¯¹vectorçš„æ›´å¤šä½¿ç”¨ï¼Œæˆ‘ä»¬è¿˜ä¼šé€æ¸äº†è§£åˆ°å…¶ä»–ä¸€äº›éšå«çš„è¦æ±‚ï¼Œå…¶ä¸­ä¸€æ¡æ˜¯ç°åœ¨å°±è¦æŒ‡å‡ºçš„ï¼šå¦‚æœå¾ªç¯ä½“å†…éƒ¨åŒ…å«æœ‰å‘vectorå¯¹è±¡æ·»åŠ å…ƒç´ çš„è¯­å¥ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨<strong>èŒƒå›´for</strong>å¾ªç¯</p>
</blockquote>
<h3 id="vectorçš„size-type"><a href="#vectorçš„size-type" class="headerlink" title="vectorçš„size_type"></a>vectorçš„size_type</h3><p>vectorçš„size_typeéœ€è¦æŒ‡æ˜å…·ä½“æ¨¡æ¿å…ƒç´ <br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::size_type  <span class="comment">//right</span></span><br><span class="line"><span class="built_in">vector</span>::size_type <span class="comment">//wrong!</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>ä¸¤ä¸ªvectorå¯¹è±¡ç›¸ç­‰å½“ä¸”ä»…å½“å®ƒä»¬æ‰€å«çš„å…ƒç´ ä¸ªæ•°ç›¸åŒï¼Œè€Œä¸”å¯¹åº”ä½ç½®çš„å…ƒç´ å€¼ä¹Ÿç›¸åŒã€‚å…³ç³»è¿ç®—ç¬¦ä¾ç…§å­—å…¸é¡ºåºè¿›è¡Œæ¯”è¾ƒï¼šå¦‚æœä¸¤ä¸ªvectorå¯¹è±¡çš„å®¹é‡ä¸åŒï¼Œä½†æ˜¯åœ¨ç›¸åŒä½ç½®ä¸Šçš„å…ƒç´ å€¼éƒ½ä¸€æ ·ï¼Œåˆ™å…ƒç´ è¾ƒå°‘çš„vectorå¯¹è±¡å°äºå…ƒç´ è¾ƒå¤šçš„vectorå¯¹è±¡ï¼›è‹¥å…ƒç´ çš„å€¼æœ‰åŒºåˆ«ï¼Œåˆ™vectorå¯¹è±¡çš„å¤§å°å…³ç³»ç”±ç¬¬ä¸€å¯¹ç›¸å¼‚çš„å…ƒç´ å€¼çš„å¤§å°å…³ç³»å†³å®šã€‚</p>
</blockquote>
<p>åªæœ‰å…ƒç´ æ”¯æŒæ¯”è¾ƒçš„æ—¶å€™ï¼Œvectorå®¹å™¨æ‰å¯ä»¥æ¯”è¾ƒ</p>
<h2 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h2><p>å¦‚æœå®¹å™¨ä¸ºç©ºï¼Œbeginå’Œendæ˜¯åŒä¸€ä¸ªè¿­ä»£å™¨<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">auto</span> be = v.begin(), ed = v.end();</span><br><span class="line"><span class="keyword">auto</span> cbe = v.cbegin(), ced = v.cend();</span><br></pre></td></tr></table></figure><br>ä¸€èˆ¬æ¥è¯´ä¸åœ¨æ„ä¹Ÿä¸æ¸…æ¥šè¿­ä»£å™¨çš„å…·ä½“ç±»å‹ï¼Œä½¿ç”¨autoå…³é”®å­—æ¥ä»£æ›¿å‡†ç¡®çš„ç±»å‹<br>cbeginå’Œcendæ˜¯ä¸“ç”¨å¾—åˆ°const_iteratorç±»å‹çš„è¿”å›å€¼</p>
<p><strong>ä¸¤ä¸ªè¿­ä»£å™¨ç›¸åŠ æ²¡æœ‰æ„ä¹‰ï¼Œç›¸å‡èƒ½å¤Ÿå¾—åˆ°ä¹‹é—´çš„é—´è·ï¼Œç±»å‹ä¸º__int64</strong></p>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>æ•°ç»„åœ¨c++11ä¸­åˆ©ç”¨begin endå‡½æ•°å¯ä»¥è¿‘ä¼¼å¾—åˆ°å¤´æŒ‡é’ˆå’Œå°¾æŒ‡é’ˆï¼ˆæœ€åå…ƒç´ çš„åä¸€ä¸ªå†…å­˜ä½ç½®ï¼‰<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line"><span class="keyword">auto</span> be = begin(a);</span><br><span class="line"><span class="keyword">auto</span> ed = end(a);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *(ed<span class="number">-1</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>ä¸¤ä¸ªæŒ‡é’ˆç›¸å‡çš„ç»“æœçš„ç±»å‹æ˜¯ä¸€ç§åä¸ºptrdiff_tçš„æ ‡å‡†åº“ç±»å‹ï¼Œå’Œsize_tä¸€æ ·ï¼Œptrdiff_tä¹Ÿæ˜¯ä¸€ç§å®šä¹‰åœ¨cstddefå¤´æ–‡ä»¶ä¸­çš„æœºå™¨ç›¸å…³çš„ç±»å‹ã€‚å› ä¸ºå·®å€¼å¯èƒ½ä¸ºè´Ÿå€¼ï¼Œæ‰€ä»¥ptrdiff_tæ˜¯ä¸€ç§å¸¦ç¬¦å·ç±»å‹ã€‚</p>
</blockquote>
<p>ä¸ºäº†å…¼å®¹cé£æ ¼å­—ç¬¦ä¸²ï¼Œstringç±»å‹åšå‡ºäº†å…¼å®¹æ€§é…ç½®</p>
<ul>
<li>å…è®¸ä½¿ç”¨ä»¥ç©ºå­—ç¬¦ç»“æŸçš„å­—ç¬¦æ•°ç»„æ¥åˆå§‹åŒ–stringå¯¹è±¡æˆ–ä¸ºstringå¯¹è±¡èµ‹å€¼</li>
<li>åœ¨stringå¯¹è±¡çš„åŠ æ³•è¿ç®—ä¸­å…è®¸ä½¿ç”¨ä»¥ç©ºå­—ç¬¦ç»“æŸçš„å­—ç¬¦æ•°ç»„ä½œä¸ºå…¶ä¸­ä¸€ä¸ªè¿ç®—å¯¹è±¡ï¼ˆä¸èƒ½ä¸¤ä¸ªè¿ç®—å¯¹è±¡éƒ½æ˜¯ï¼‰ï¼›åœ¨stringå¯¹è±¡çš„å¤åˆèµ‹å€¼è¿ç®—ä¸­å…è®¸ä½¿ç”¨ä»¥ç©ºå­—ç¬¦ç»“æŸçš„å­—ç¬¦æ•°ç»„ä½œä¸ºå³ä¾§çš„è¿ç®—å¯¹è±¡</li>
</ul>
<p>åè¿‡æ¥ï¼Œå¦‚æœä»¥stringä½œä¸ºå³å€¼ï¼Œä¸å¯ä»¥ç›´æ¥èµ‹ç»™cé£æ ¼å­—ç¬¦ä¸²</p>
<ul>
<li>stringç±»å…·æœ‰c_strå‡½æ•°ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªcé£æ ¼å­—ç¬¦ä¸²<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> c[] = str; <span class="comment">// wrong!</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> c[] = str.c_str(); <span class="comment">//right</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="å¤šç»´æ•°ç»„"><a href="#å¤šç»´æ•°ç»„" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h2><p>å¤šç»´æ•°ç»„çš„åˆå§‹åŒ–å¯ä»¥ç”¨èŠ±æ‹¬å·åˆ†éš”æ¯ä¸€è¡Œçš„æ•°æ®</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::begin;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::end;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">foo</span> &#123;</span>&#125;;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>; <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>; <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>; <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> ia[<span class="number">3</span>][<span class="number">4</span>] = &#123;</span><br><span class="line">		&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,</span><br><span class="line">		&#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;,</span><br><span class="line">		&#123;<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> (*p)[<span class="number">4</span>] = ia; p!=ia+<span class="number">3</span>; p++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> *m = *p; m!=*p+<span class="number">4</span>; m++)</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; *m &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> (*p)[<span class="number">4</span>] = ia; <span class="comment">//right! æŒ‡å‘4å…ƒç´ æ•°ç»„çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">int</span> *p[<span class="number">4</span>] = ia; <span class="comment">//wrong! æ•´å½¢æŒ‡é’ˆçš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line">ç”¨<span class="keyword">auto</span>è§£å†³è¿™ä¸ªé—®é¢˜æœ€å¿«ä¹</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é¦–å…ˆæ˜ç¡®ï¼ˆï¼Špï¼‰æ„å‘³ç€pæ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚æ¥ç€è§‚å¯Ÿå³è¾¹å‘ç°ï¼ŒæŒ‡é’ˆpæ‰€æŒ‡çš„æ˜¯ä¸€ä¸ªç»´åº¦ä¸º4çš„æ•°ç»„ï¼›å†è§‚å¯Ÿå·¦è¾¹çŸ¥é“ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯æ•´æ•°ã€‚å› æ­¤ï¼Œpå°±æ˜¯æŒ‡å‘å«æœ‰4ä¸ªæ•´æ•°çš„æ•°ç»„çš„æŒ‡é’ˆã€‚</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter12</title>
    <url>/2021/02/07/CppPrimer5th-Chapter12/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬åäºŒç« ç¬”è®°å†…å®¹ï¼Œæœ‰å…³æ™ºèƒ½æŒ‡é’ˆå’ŒåŠ¨æ€å†…å­˜çš„ç®¡ç†ã€‚<br><a id="more"></a></p>
<p>ç¨‹åºç›¸å…³çš„å¯¹è±¡å†…å­˜åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œstaticç©ºé—´ï¼Œæ ˆç©ºé—´stackï¼Œå †ç©ºé—´heapã€‚</p>
<ul>
<li>staticç©ºé—´ä¸­çš„å¯¹è±¡åœ¨ç¨‹åºè¿è¡Œå‰ç”Ÿæˆï¼Œç¨‹åºç»“æŸæ—¶é”€æ¯</li>
<li>stackæ ˆç©ºé—´é‡Œçš„å¯¹è±¡åœ¨ç¨‹åºå—ä½œç”¨åŸŸä¸­å­˜åœ¨ï¼Œè¶…å‡ºä½œç”¨åŸŸåé”€æ¯</li>
<li>ä¸Šè¿°ä¸¤è€…éƒ½æ˜¯ç¼–è¯‘å™¨è´Ÿè´£è‡ªåŠ¨åˆ›å»ºå’Œé”€æ¯</li>
<li>heapç©ºé—´ç”±ç¨‹åºè´Ÿè´£åˆ†é…å’Œé”€æ¯ï¼Œå¤„ç†ä¸å¥½ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œè¿™ç§å†…å­˜åˆ†é…ä¹Ÿå«åšåŠ¨æ€å†…å­˜ç®¡ç†</li>
</ul>
<p><strong>åŠ¨æ€å†…å­˜çš„ç®¡ç†ååˆ†é‡è¦ä¸”æ£˜æ‰‹</strong></p>
<h2 id="åŠ¨æ€å†…å­˜ä¸æ™ºèƒ½æŒ‡é’ˆ"><a href="#åŠ¨æ€å†…å­˜ä¸æ™ºèƒ½æŒ‡é’ˆ" class="headerlink" title="åŠ¨æ€å†…å­˜ä¸æ™ºèƒ½æŒ‡é’ˆ"></a>åŠ¨æ€å†…å­˜ä¸æ™ºèƒ½æŒ‡é’ˆ</h2><p>C++ä¸­ä½¿ç”¨ä¸€å¯¹è¿ç®—ç¬¦ new å’Œ delete æ¥åˆ†é…å’Œé”€æ¯å¯¹è±¡å†…å­˜<br>C++11å¼•å…¥äº†æ™ºèƒ½æŒ‡é’ˆshared_ptr unique_ptr weak_ptr , ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå¯ä»¥é™ä½åŠ¨æ€å†…å­˜ç®¡ç†çš„éš¾åº¦</p>
<h3 id="shared-ptr"><a href="#shared-ptr" class="headerlink" title="shared_ptr"></a>shared_ptr</h3><p>æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼ŒæŒ‰ç…§æ¨¡æ¿åˆ›å»ºçš„æ–¹å¼æ¥åˆ›å»ºæ™ºèƒ½æŒ‡é’ˆ<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">shared_ptr</span>&lt;<span class="built_in">string</span>&gt; p1;</span><br><span class="line"><span class="built_in">shared_ptr</span>&lt;<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&gt; p2;</span><br><span class="line"></span><br><span class="line">usageï¼š</span><br><span class="line"><span class="keyword">if</span>(p1 &amp;&amp; !p1-&gt;empty())</span><br><span class="line">    *p1 = <span class="string">"hi"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">shared_ptr</span>ç‹¬æœ‰çš„æ“ä½œï¼š</span><br><span class="line">p1.use_count(); <span class="comment">// è¿”å›æŒ‡å‘å…±äº«å¯¹è±¡çš„æ™ºèƒ½æŒ‡é’ˆæ•°é‡ï¼Œè¿”å›é€Ÿåº¦è¾ƒæ…¢</span></span><br><span class="line">p1.unique(); <span class="comment">// åˆ¤æ–­æ˜¯å¦åªæœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¯¹è±¡</span></span><br><span class="line">make_shared&lt;T&gt;(args); <span class="comment">// åˆå§‹åŒ–shared_ptrå¹¶ç”¨argsåˆå§‹åŒ–</span></span><br><span class="line">p1 = p3; <span class="comment">//p3çš„å¼•ç”¨è®¡æ•°å‡å°‘ï¼Œp1çš„å¼•ç”¨è®¡æ•°å¢åŠ </span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>æœ€å®‰å…¨çš„åˆ†é…å’Œä½¿ç”¨åŠ¨æ€å†…å­˜çš„æ–¹æ³•æ˜¯è°ƒç”¨ä¸€ä¸ªåä¸ºmake_sharedçš„æ ‡å‡†åº“å‡½æ•°ã€‚æ­¤å‡½æ•°åœ¨åŠ¨æ€å†…å­˜ä¸­åˆ†é…ä¸€ä¸ªå¯¹è±¡å¹¶åˆå§‹åŒ–å®ƒï¼Œè¿”å›æŒ‡å‘æ­¤å¯¹è±¡çš„shared_ptrã€‚ä¸æ™ºèƒ½æŒ‡é’ˆä¸€æ ·ï¼Œmake_sharedä¹Ÿå®šä¹‰åœ¨å¤´æ–‡ä»¶memoryä¸­ã€‚</p>
</blockquote>
<p>è®¡æ•°å™¨æ¸…é›¶æ—¶ï¼Œå¯¹è±¡å°±ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ï¼ˆcall destructorï¼‰ï¼Œä¸èƒ½ä¹Ÿä¸ç”¨delete</p>
<blockquote>
<p>ä½¿ç”¨åŠ¨æ€å†…å­˜çš„ä¸€ä¸ªå¸¸è§åŸå› æ˜¯å…è®¸å¤šä¸ªå¯¹è±¡å…±äº«ç›¸åŒçš„çŠ¶æ€ã€‚</p>
</blockquote>
<p>è¿ç”¨shared_pträ¸initialize_listçš„ä¸€ä¸ªä¾‹å­</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;memory&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StrBlob</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">typedef</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;::size_type size_type;</span><br><span class="line">	StrBlob();</span><br><span class="line">	StrBlob(<span class="built_in">initializer_list</span>&lt;<span class="built_in">string</span>&gt; il);</span><br><span class="line">	<span class="function">size_type <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> data-&gt;size(); &#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> data-&gt;empty(); &#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">( <span class="keyword">const</span> <span class="built_in">string</span> &amp;t )</span></span>&#123;data-&gt;push_back(t); &#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">pop_back</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="built_in">string</span> &amp; <span class="title">front</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="built_in">string</span> &amp; <span class="title">back</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">shared_ptr</span> &lt; <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &gt;data;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">(size_type i, <span class="keyword">const</span> <span class="built_in">string</span> &amp;msg)</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">StrBlob::StrBlob():data(make_shared&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;())&#123;&#125;</span><br><span class="line">StrBlob::StrBlob(<span class="built_in">initializer_list</span>&lt;<span class="built_in">string</span>&gt; il): data(make_shared&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;(il))&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StrBlob::check</span><span class="params">(size_type i, <span class="keyword">const</span> <span class="built_in">string</span> &amp;msg)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (i &gt; data-&gt;size())</span><br><span class="line">		<span class="keyword">throw</span> out_of_range(msg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> &amp; <span class="title">StrBlob::front</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	check(<span class="number">0</span>, <span class="string">"front on empty StrBlob"</span>);</span><br><span class="line">	<span class="keyword">return</span> data-&gt;front();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> &amp; <span class="title">StrBlob::back</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	check(<span class="number">0</span>, <span class="string">"back on empty StrBlob"</span>);</span><br><span class="line">	<span class="keyword">return</span> data-&gt;back();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter4</title>
    <url>/2021/01/27/CppPrimer5th-Chapter4/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬å››ç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œç¬¬å››ç« å†…å®¹ä¸ºè¡¨è¾¾å¼</p>
<a id="more"></a>
<h2 id="å·¦å€¼ä¸å³å€¼"><a href="#å·¦å€¼ä¸å³å€¼" class="headerlink" title="å·¦å€¼ä¸å³å€¼"></a>å·¦å€¼ä¸å³å€¼</h2><p>å½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå³å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„å€¼ï¼ˆå†…å®¹ï¼‰ï¼›å½“å¯¹è±¡è¢«ç”¨ä½œå·¦å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„èº«ä»½ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ã€‚<br>ä¸€ä¸ªåŸåˆ™ï¼š</p>
<ul>
<li>åœ¨éœ€è¦å³å€¼çš„åœ°æ–¹å¯ä»¥ç”¨å·¦å€¼æ¥ä»£æ›¿ï¼Œä½¿ç”¨çš„æ˜¯å¯¹è±¡çš„å€¼</li>
<li>ä½†æ˜¯åè¿‡æ¥ï¼Œä¸èƒ½æŠŠå³å€¼å½“æˆå·¦å€¼</li>
</ul>
<h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><p>C++11ä¸­ï¼Œå¯¹äºé™¤æ³•ï¼Œä¸ç®¡æ˜¯æ­£æ•°é™¤ä»¥æ­£æ•°ï¼Œè¿˜æ˜¯è´Ÿæ•°é™¤ä»¥è´Ÿæ•°ï¼Œåœ¨æ— æ³•é™¤å°½çš„æ—¶å€™éƒ½å‘0èˆå…¥ã€‚</p>
<p>èµ‹å€¼è¿ç®—ç¬¦æ»¡è¶³å³ç»“åˆå¾‹ï¼Œæ‰€ä»¥å¯ä»¥å‡ºç°è¿ç»­å¤šä¸ªå˜é‡èµ‹å€¼<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a,b;</span><br><span class="line">a = b = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">++a; <span class="comment">//å…»æˆä½¿ç”¨å‰ç½®ç‰ˆæœ¬é€’å¢è¿ç®—ç¬¦çš„ä¹ æƒ¯ï¼Œå¯¹äºè¿­ä»£å™¨ç­‰å¤æ‚çš„è¿ç®—ç»“æ„ï¼Œå¯ä»¥èŠ‚çœä¸å¿…è¦çš„å¼€é”€</span></span><br></pre></td></tr></table></figure></p>
<h3 id="æ··ç”¨è§£è¿ç®—ç¬¦å’Œé€’å¢"><a href="#æ··ç”¨è§£è¿ç®—ç¬¦å’Œé€’å¢" class="headerlink" title="æ··ç”¨è§£è¿ç®—ç¬¦å’Œé€’å¢"></a>æ··ç”¨è§£è¿ç®—ç¬¦å’Œé€’å¢</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">auto</span> pbeg = v.begin();</span><br><span class="line"><span class="keyword">while</span>(pbeg != v.end())</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *pbeg++ &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<p>é€’å¢è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºè§£è¿ç®—ç¬¦ï¼Œç­‰ä»·äºå…ˆç§»åŠ¨è¿­ä»£å™¨ï¼Œå†è§£å‡ºåŸä½ç½®çš„å€¼ï¼ˆå› ä¸ºåç½®é€’å¢è¿ç®—ç¬¦è¿”å›åŸå€¼ï¼‰ï¼Œ<strong>è¿™ç§å†™æ³•æ˜¯C++å¸¸è§å¹¶æ¨èçš„å†™æ³•</strong>ã€‚</p>
<h2 id="sizeof"><a href="#sizeof" class="headerlink" title="sizeof"></a>sizeof</h2><p>sizeofè¿ç®—ç¬¦è¿”å›çš„æ˜¯size_tç±»å‹çš„å¸¸é‡è¡¨è¾¾å¼</p>
<ul>
<li>å¯¹stringå¯¹è±¡æˆ–vectorå¯¹è±¡æ‰§è¡Œsizeofè¿ç®—åªè¿”å›è¯¥ç±»å‹å›ºå®šéƒ¨åˆ†çš„å¤§å°ï¼Œä¸ä¼šè®¡ç®—å¯¹è±¡ä¸­çš„å…ƒç´ å ç”¨äº†å¤šå°‘ç©ºé—´ã€‚</li>
<li>å¯¹è§£å¼•ç”¨æŒ‡é’ˆæ‰§è¡Œsizeofè¿ç®—å¾—åˆ°æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡æ‰€å ç©ºé—´çš„å¤§å°ï¼ŒæŒ‡é’ˆä¸éœ€æœ‰æ•ˆ</li>
<li>å¯¹charæˆ–è€…ç±»å‹ä¸ºcharçš„è¡¨è¾¾å¼æ‰§è¡Œsizeofè¿ç®—ï¼Œç»“æœå¾—1</li>
<li>å¯¹æ•°ç»„æ‰§è¡Œsizeofè¿ç®—å¾—åˆ°æ•´ä¸ªæ•°ç»„æ‰€å ç©ºé—´çš„å¤§å°ï¼Œç­‰ä»·äºå¯¹æ•°ç»„ä¸­æ‰€æœ‰çš„å…ƒç´ å„æ‰§è¡Œä¸€æ¬¡sizeofè¿ç®—å¹¶å°†æ‰€å¾—ç»“æœæ±‚å’Œã€‚æ³¨æ„ï¼Œsizeofè¿ç®—ä¸ä¼šæŠŠæ•°ç»„è½¬æ¢æˆæŒ‡é’ˆæ¥å¤„ç†ã€‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> ia[<span class="number">3</span>][<span class="number">4</span>] = &#123;</span><br><span class="line">		&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,</span><br><span class="line">		&#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;,</span><br><span class="line">		&#123;<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">auto</span> p = ia;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span> p &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 8</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span> * p &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//16</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span> * ia &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//16</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span> ia &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 48</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><h3 id="è‹¥å¹²éšå½¢è½¬æ¢"><a href="#è‹¥å¹²éšå½¢è½¬æ¢" class="headerlink" title="è‹¥å¹²éšå½¢è½¬æ¢"></a>è‹¥å¹²éšå½¢è½¬æ¢</h3><p>ç®—æœ¯è½¬æ¢ï¼Œä¸€èˆ¬æ€§åŸåˆ™æ˜¯å å†…å­˜åœ°å€å°çš„ç±»å‹è½¬åŒ–ä¸ºå å†…å­˜åœ°å€å¤§çš„ç±»å‹ï¼Œå³char boolå¯ä»¥è½¬æ¢ä¸ºintï¼Œintè½¬æ¢ä¸ºlongå’Œdoubleç­‰</p>
<p><strong>æ•°ç»„è½¬æ¢æˆæŒ‡é’ˆ</strong>ï¼šåœ¨å¤§å¤šæ•°ç”¨åˆ°æ•°ç»„çš„è¡¨è¾¾å¼ä¸­ï¼Œæ•°ç»„è‡ªåŠ¨è½¬æ¢æˆæŒ‡å‘æ•°ç»„é¦–å…ƒç´ çš„æŒ‡é’ˆï¼š<br>å½“æ•°ç»„è¢«ç”¨ä½œdecltypeå…³é”®å­—çš„å‚æ•°ï¼Œæˆ–è€…ä½œä¸ºå–åœ°å€ç¬¦ï¼ˆ&amp;ï¼‰ã€sizeofåŠtypeidç­‰è¿ç®—ç¬¦çš„è¿ç®—å¯¹è±¡æ—¶ï¼Œä¸Šè¿°è½¬æ¢ä¸ä¼šå‘ç”Ÿã€‚</p>
<p><strong>æŒ‡é’ˆçš„è½¬æ¢</strong></p>
<ul>
<li>0å’Œnullptrè½¬æ¢ä¸ºä»»æ„æŒ‡é’ˆç±»å‹</li>
<li>ä»»æ„éå¸¸é‡çš„æŒ‡é’ˆèƒ½è½¬æ¢æˆvoidï¼Š</li>
<li>æŒ‡å‘ä»»æ„å¯¹è±¡çš„æŒ‡é’ˆèƒ½è½¬æ¢æˆconst voidï¼Š</li>
</ul>
<h3 id="æ˜¾æ€§è½¬æ¢"><a href="#æ˜¾æ€§è½¬æ¢" class="headerlink" title="æ˜¾æ€§è½¬æ¢"></a>æ˜¾æ€§è½¬æ¢</h3><p>æœ¬è´¨ä¸Šå¼ºåˆ¶è½¬æ¢æ˜¯ä¸€ç§å±é™©çš„æ“ä½œ<br>æ ‡å‡†å½¢å¼ <em>cast-name<name>(expression)</em></p>
<ul>
<li><p>static_cast,ä»»ä½•å…·æœ‰æ˜ç¡®å®šä¹‰çš„ç±»å‹è½¬æ¢ï¼Œåªè¦ä¸åŒ…å«åº•å±‚constï¼Œéƒ½å¯ä»¥ä½¿ç”¨static_cast</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">double</span> slope = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(j);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥ä½¿ç”¨static_castæ‰¾å›å­˜åœ¨äºvoidï¼ŠæŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">void</span> *p = &amp;d;</span><br><span class="line"><span class="keyword">double</span> *dp = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(p);</span><br></pre></td></tr></table></figure>
<p>å¼ºåˆ¶ç±»å‹è½¬æ¢å‘Šè¯‰ç¨‹åºçš„è¯»è€…å’Œç¼–è¯‘å™¨ï¼šæˆ‘ä»¬çŸ¥é“å¹¶ä¸”ä¸åœ¨ä¹æ½œåœ¨çš„ç²¾åº¦æŸå¤±</p>
</li>
<li><p>const_cast, å¼ºè¡Œå°†ä¸€ä¸ªåªè¯»constå¯¹è±¡å˜æˆå¯å†™çŠ¶æ€</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// cast away the const</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *pc;</span><br><span class="line"><span class="keyword">char</span> *p = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span>*&gt;(pc);</span><br></pre></td></tr></table></figure>
<p>const_caståªèƒ½è§£å†³å¸¸é‡è½¬æ¢ï¼Œä¸èƒ½è¿›è¡Œå…¶ä»–ç±»å‹è½¬æ¢</p>
</li>
<li><p>reinterpret_cast <em>ä¸ºè¿ç®—å¯¹è±¡çš„ä½æ¨¡å¼æä¾›è¾ƒä½å±‚æ¬¡ä¸Šçš„é‡æ–°è§£é‡Š?</em></p>
</li>
</ul>
<p>æˆ‘ä»¬å¿…é¡»ç‰¢è®°pcæ‰€æŒ‡çš„çœŸå®å¯¹è±¡æ˜¯ä¸€ä¸ªintè€Œéå­—ç¬¦ï¼Œå¦‚æœæŠŠpcå½“æˆæ™®é€šçš„å­—ç¬¦æŒ‡é’ˆä½¿ç”¨å°±å¯èƒ½åœ¨è¿è¡Œæ—¶å‘ç”Ÿé”™è¯¯ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *ip;</span><br><span class="line"><span class="keyword">char</span> *pc = <span class="keyword">reinterpret_cast</span>&lt;<span class="keyword">char</span>*&gt;(ip);</span><br><span class="line"><span class="comment">// dangerous</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">str</span><span class="params">(pc)</span></span>;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter5</title>
    <url>/2021/01/28/CppPrimer5th-Chapter5/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬äº”ç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œç¬¬äº”ç« å†…å®¹ä¸ºè¯­å¥</p>
<a id="more"></a>
<h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><p>C++æ ‡å‡†åº“å®šä¹‰äº†ä¸€ç»„ç±»ï¼Œç”¨äºæŠ¥å‘Šæ ‡å‡†åº“å‡½æ•°é‡åˆ°çš„é—®é¢˜ã€‚è¿™äº›å¼‚å¸¸ç±»ä¹Ÿå¯ä»¥åœ¨ç”¨æˆ·ç¼–å†™çš„ç¨‹åºä¸­ä½¿ç”¨ï¼Œå®ƒä»¬åˆ†åˆ«å®šä¹‰åœ¨4ä¸ªå¤´æ–‡ä»¶ä¸­ï¼š<br>Â· exceptionå¤´æ–‡ä»¶å®šä¹‰äº†æœ€é€šç”¨çš„å¼‚å¸¸ç±»exceptionã€‚å®ƒåªæŠ¥å‘Šå¼‚å¸¸çš„å‘ç”Ÿï¼Œä¸æä¾›ä»»ä½•é¢å¤–ä¿¡æ¯ã€‚<br>Â· stdexceptå¤´æ–‡ä»¶å®šä¹‰äº†å‡ ç§å¸¸ç”¨çš„å¼‚å¸¸ç±»ï¼Œè¯¦ç»†ä¿¡æ¯åœ¨è¡¨5.1ä¸­åˆ—å‡ºã€‚<br>Â· newå¤´æ–‡ä»¶å®šä¹‰äº†bad_allocå¼‚å¸¸ç±»å‹ï¼Œè¿™ç§ç±»å‹å°†åœ¨12.1.2èŠ‚ï¼ˆç¬¬407é¡µï¼‰è¯¦ç»†ä»‹ç»ã€‚<br>Â· type_infoå¤´æ–‡ä»¶å®šä¹‰äº†bad_castå¼‚å¸¸ç±»å‹ï¼Œè¿™ç§ç±»å‹å°†åœ¨19.2èŠ‚ï¼ˆç¬¬731é¡µï¼‰è¯¦ç»†ä»‹ç»ã€‚</p>
<p><img src='errtype.png' width=600 title='errtype'></p>
<p>å¼‚å¸¸ç±»å‹åªå®šä¹‰äº†ä¸€ä¸ªåä¸ºwhatçš„æˆå‘˜å‡½æ•°ï¼Œè¯¥å‡½æ•°æ²¡æœ‰ä»»ä½•å‚æ•°ï¼Œ<strong>è¿”å›å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘Cé£æ ¼å­—ç¬¦ä¸²</strong>çš„const charï¼Šã€‚è¯¥å­—ç¬¦ä¸²çš„ç›®çš„æ˜¯æä¾›å…³äºå¼‚å¸¸çš„ä¸€äº›æ–‡æœ¬ä¿¡æ¯ã€‚</p>
<p><img src='what.png' width=600 title='what'></p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter6</title>
    <url>/2021/01/28/CppPrimer5th-Chapter6/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬å…­ç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œç¬¬å…­ç« å†…å®¹ä¸ºå‡½æ•°</p>
<a id="more"></a>
<h2 id="constå½¢å‚å’Œå®å‚"><a href="#constå½¢å‚å’Œå®å‚" class="headerlink" title="constå½¢å‚å’Œå®å‚"></a>constå½¢å‚å’Œå®å‚</h2><p>ä½¿ç”¨å®å‚åˆå§‹åŒ–å½¢å‚çš„æ—¶å€™ä¼šå¿½ç•¥<strong>é¡¶å±‚const</strong>ï¼Œä¹Ÿå°±è¯´å³ä¾¿å½¢å‚è¦æ±‚çš„æ ¼å¼ä¸ºå¸¸é‡å½¢å‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨éå¸¸é‡å½¢å‚ä¸ºå…¶èµ‹å€¼ã€‚<br>å‡½æ•°é‡è½½çš„æ—¶å€™ï¼Œä¸èƒ½å°†é¡¶å±‚constå’Œéconstå½¢å‚è§†ä¸ºé‡è½½<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fcn</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> i)</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fcn</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;&#125; <span class="comment">// wrong: top-level const</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fcn0</span><span class="params">(<span class="keyword">int</span>* p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dcn0</span><span class="params">(<span class="keyword">int</span>* <span class="keyword">const</span> p)</span></span>; <span class="comment">//wrong: top-level const</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fcn1</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>* p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fcn1</span><span class="params">(<span class="keyword">int</span>* p)</span></span>; <span class="comment">//right: low-level const</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fcn2</span><span class="params">(<span class="keyword">int</span>&amp; r)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fcn2</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>&amp; r)</span></span>; <span class="comment">//right: low-level const</span></span><br></pre></td></tr></table></figure><br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éå¸¸é‡åˆå§‹åŒ–ä¸€ä¸ªåº•å±‚constå¯¹è±¡ï¼Œä½†æ˜¯åè¿‡æ¥ä¸è¡Œï¼›åŒæ—¶ä¸€ä¸ªæ™®é€šçš„å¼•ç”¨å¿…é¡»ç”¨åŒç±»å‹çš„å¯¹è±¡åˆå§‹åŒ–ã€‚<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> i=<span class="number">42</span>;</span><br><span class="line"><span class="comment">// right</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *cp = &amp;i;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;r = i;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;r2 = <span class="number">42</span>;</span><br><span class="line"><span class="comment">// wrong</span></span><br><span class="line"><span class="keyword">int</span> *p = cp;</span><br><span class="line"><span class="keyword">int</span> &amp;r3 = r;</span><br><span class="line"><span class="keyword">int</span> &amp;r4 = <span class="number">42</span>;</span><br></pre></td></tr></table></figure><br>ä¸€èˆ¬å°†å¼•ç”¨å½¢å‚è®¾ç½®ä¸ºconstï¼Œå¦åˆ™ç›´æ¥ä»¥å­—é¢å€¼æ— æ³•ä¼ é€’ç»™å½¢å‚ï¼ˆéconstå¼•ç”¨ä¸èƒ½å¼•ç”¨æ— åœ°å€çš„å­—é¢å€¼ï¼‰</p>
<h3 id="å¯¹äºæ•°ç»„çš„å¼•ç”¨"><a href="#å¯¹äºæ•°ç»„çš„å¼•ç”¨" class="headerlink" title="å¯¹äºæ•°ç»„çš„å¼•ç”¨"></a>å¯¹äºæ•°ç»„çš„å¼•ç”¨</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *matrix[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> (*matrix)[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<h2 id="å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°"><a href="#å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°" class="headerlink" title="å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°"></a>å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°</h2><h3 id="initialize-listå½¢å‚"><a href="#initialize-listå½¢å‚" class="headerlink" title="initialize_listå½¢å‚"></a>initialize_listå½¢å‚</h3><p>initializer_listæ˜¯ä¸€ç§æ ‡å‡†åº“ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸç§ç‰¹å®šç±»å‹çš„å€¼çš„æ•°ç»„ï¼Œæ˜¯ä¸€ç§æ¨¡æ¿ç±»å‹</p>
<h3 id="çœç•¥ç¬¦å½¢å‚"><a href="#çœç•¥ç¬¦å½¢å‚" class="headerlink" title="çœç•¥ç¬¦å½¢å‚"></a>çœç•¥ç¬¦å½¢å‚</h3><p>çœç•¥ç¬¦å½¢å‚æ˜¯ä¸ºäº†ä¾¿äºc++å‡½æ•°è®¿é—®éƒ¨åˆ†ç‰¹æ®Šcä»£ç å‡ºç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¹¶éc++æ¨èçš„æ ¼å¼</p>
<h2 id="è¿”å›"><a href="#è¿”å›" class="headerlink" title="è¿”å›"></a>è¿”å›</h2><blockquote>
<p>C++11æ–°æ ‡å‡†è§„å®šï¼Œå‡½æ•°å¯ä»¥è¿”å›èŠ±æ‹¬å·åŒ…å›´çš„å€¼çš„åˆ—è¡¨ã€‚ç±»ä¼¼äºå…¶ä»–è¿”å›ç»“æœï¼Œæ­¤å¤„çš„åˆ—è¡¨ä¹Ÿç”¨æ¥å¯¹è¡¨ç¤ºå‡½æ•°è¿”å›çš„ä¸´æ—¶é‡è¿›è¡Œåˆå§‹åŒ–ã€‚å¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œä¸´æ—¶é‡æ‰§è¡Œå€¼åˆå§‹åŒ–ï¼›å¦åˆ™ï¼Œè¿”å›çš„å€¼ç”±å‡½æ•°çš„è¿”å›ç±»å‹å†³å®š</p>
</blockquote>
<p>åœ¨ä¸‹é¢çš„å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ªvectorå¯¹è±¡ï¼Œç”¨å®ƒå­˜æ”¾è¡¨ç¤ºé”™è¯¯ä¿¡æ¯çš„stringå¯¹è±¡ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; <span class="title">process</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">if</span> (expected.empty())</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (expected == actual)</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">"FunctionX"</span>, <span class="string">"Okay"</span>&#125;;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">"FunctionX"</span>, expected, actual&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>ä½¿ç”¨èŠ±æ‹¬å·çš„å†…å®¹å»åˆå§‹åŒ–vectorï¼Œç„¶åè¿”å›è¿™ä¸ªvector</p>
<h3 id="è¿”å›æ•°ç»„æŒ‡é’ˆ"><a href="#è¿”å›æ•°ç»„æŒ‡é’ˆ" class="headerlink" title="è¿”å›æ•°ç»„æŒ‡é’ˆ"></a>è¿”å›æ•°ç»„æŒ‡é’ˆ</h3><p>å› ä¸ºæ•°ç»„ä¸èƒ½è¢«æ‹·è´ï¼Œæ‰€ä»¥å‡½æ•°ä¸èƒ½è¿”å›æ•°ç»„,ä¸è¿‡ï¼Œå‡½æ•°å¯ä»¥è¿”å›æ•°ç»„çš„æŒ‡é’ˆæˆ–å¼•ç”¨.<br>ä»è¯­æ³•ä¸Šæ¥è¯´ï¼Œè¦æƒ³å®šä¹‰ä¸€ä¸ªè¿”å›æ•°ç»„çš„æŒ‡é’ˆæˆ–å¼•ç”¨çš„å‡½æ•°æ¯”è¾ƒçƒ¦çï¼Œä½†æ˜¯æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥ç®€åŒ–è¿™ä¸€ä»»åŠ¡ï¼Œå…¶ä¸­æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç±»å‹åˆ«å<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> arrT = <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="function">arrT * <span class="title">func</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">ç­‰ä»·äºä¸€ç§å¾ˆå¤æ‚çš„å£°æ˜</span><br><span class="line"><span class="keyword">int</span> (*func(<span class="keyword">int</span> i))[<span class="number">10</span>];</span><br></pre></td></tr></table></figure></p>
<p>C++11ä¸­æœ‰äº†æ–°çš„è¿”å›æ•°ç»„çš„æ–¹å¼</p>
<ol>
<li>è¿”å›å°¾ç½®ç±»å‹<figure class="highlight"><table><tr><td class="code"><pre><span class="line">auto func(int i) -&gt; int(*)[10];</span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨decltype<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> odd[]=&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> even[]=&#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">decltype</span>(odd) * func(<span class="keyword">int</span> i);</span><br></pre></td></tr></table></figure>
æœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼šdecltypeå¹¶ä¸è´Ÿè´£æŠŠæ•°ç»„ç±»å‹è½¬æ¢æˆå¯¹åº”çš„æŒ‡é’ˆï¼Œæ‰€ä»¥decltypeçš„ç»“æœæ˜¯ä¸ªæ•°ç»„ï¼Œè¦æƒ³è¡¨ç¤ºarrPtrè¿”å›æŒ‡é’ˆè¿˜å¿…é¡»åœ¨å‡½æ•°å£°æ˜æ—¶åŠ ä¸€ä¸ªï¼Šç¬¦å·ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter7</title>
    <url>/2021/01/29/CppPrimer5th-Chapter7/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬ä¸ƒç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œç¬¬ä¸ƒç« å†…å®¹ä¸ºç±»</p>
<a id="more"></a>
<h2 id="ç±»çš„å®šä¹‰"><a href="#ç±»çš„å®šä¹‰" class="headerlink" title="ç±»çš„å®šä¹‰"></a>ç±»çš„å®šä¹‰</h2><p><strong>å®šä¹‰åœ¨ç±»å†…éƒ¨çš„å‡½æ•°æ˜¯éšå¼çš„æˆå‘˜å‡½æ•°</strong></p>
<h3 id="constæˆå‘˜å‡½æ•°"><a href="#constæˆå‘˜å‡½æ•°" class="headerlink" title="constæˆå‘˜å‡½æ•°"></a>constæˆå‘˜å‡½æ•°</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> bookNo;&#125;</span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>-&gt;bookNo;&#125; <span class="comment">// same</span></span><br><span class="line"><span class="comment">/***************************/</span></span><br><span class="line">è°ƒç”¨total.isbn()ç­‰ä»·äº</span><br><span class="line">Sales_data::isbn(&amp;total); <span class="comment">// fake code</span></span><br></pre></td></tr></table></figure>
<p>thisæ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆï¼Œä¸å…è®¸æ”¹å˜thisçš„å€¼ï¼ŒæŒ‡å‘è°ƒç”¨æˆå‘˜å‡½æ•°çš„å¯¹è±¡</p>
<p><em>constä½œç”¨æ˜¯ä¿®æ”¹éšå¼æŒ‡é’ˆconstçš„ç±»å‹</em>, constæ˜¯å¸¸é‡æŒ‡é’ˆï¼ˆSales_data <em> constï¼‰ï¼Œå¹¶éæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼Œå› æ­¤æ— æ³•æŒ‡å‘å¸¸é‡å¯¹è±¡ï¼Œæœ‰æ—¶å€™å°±éœ€è¦å°†constè½¬æ¢ä¸ºæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆå½¢å¼(const Sales_data </em> const)ï¼Œconstæ˜¯éšå¼æŒ‡é’ˆï¼Œæ— æ³•ç›´æ¥ä¿®æ”¹ç±»å‹ï¼Œå› æ­¤å€ŸåŠ©constæˆå‘˜å‡½æ•°çš„å¸®åŠ©</p>
<blockquote>
<p>C++è¯­è¨€çš„åšæ³•æ˜¯å…è®¸æŠŠconstå…³é”®å­—æ”¾åœ¨æˆå‘˜å‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¹‹åï¼Œæ­¤æ—¶ï¼Œç´§è·Ÿåœ¨å‚æ•°åˆ—è¡¨åé¢çš„constè¡¨ç¤ºthisæ˜¯ä¸€ä¸ªæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ</p>
</blockquote>
<p>å› ä¸ºthisæ˜¯æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼Œæ‰€ä»¥å¸¸é‡æˆå‘˜å‡½æ•°ä¸èƒ½æ”¹å˜è°ƒç”¨å®ƒçš„å¯¹è±¡çš„å†…å®¹</p>
<h3 id="è¿”å›thiså¯¹è±¡çš„æˆå‘˜å‡½æ•°"><a href="#è¿”å›thiså¯¹è±¡çš„æˆå‘˜å‡½æ•°" class="headerlink" title="è¿”å›thiså¯¹è±¡çš„æˆå‘˜å‡½æ•°"></a>è¿”å›thiså¯¹è±¡çš„æˆå‘˜å‡½æ•°</h3><p>å®Œæˆç±»ä¼¼äºè‡ªå¢çš„å‡½æ•°combineï¼Œè¿”å›thiså¯¹è±¡<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">Sales_data&amp; <span class="title">Sales_data::combine</span><span class="params">(<span class="keyword">const</span> Sales_data&amp; rhs)</span></span>&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>è¯¥å‡½æ•°ä¸€ä¸ªå€¼å¾—å…³æ³¨çš„éƒ¨åˆ†æ˜¯å®ƒçš„è¿”å›ç±»å‹å’Œè¿”å›è¯­å¥ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå½“æˆ‘ä»¬å®šä¹‰çš„å‡½æ•°ç±»ä¼¼äºæŸä¸ªå†…ç½®è¿ç®—ç¬¦æ—¶ï¼Œåº”è¯¥ä»¤è¯¥å‡½æ•°çš„è¡Œä¸ºå°½é‡æ¨¡ä»¿è¿™ä¸ªè¿ç®—ç¬¦ã€‚å†…ç½®çš„èµ‹å€¼è¿ç®—ç¬¦æŠŠå®ƒçš„å·¦ä¾§è¿ç®—å¯¹è±¡å½“æˆå·¦å€¼è¿”å›ï¼ˆå‚è§4.4èŠ‚ï¼Œç¬¬129é¡µï¼‰ï¼Œå› æ­¤ä¸ºäº†ä¸å®ƒä¿æŒä¸€è‡´ï¼Œcombineå‡½æ•°å¿…é¡»è¿”å›å¼•ç”¨ç±»å‹ï¼ˆå‚è§6.3.2èŠ‚ï¼Œç¬¬202é¡µï¼‰ã€‚å› ä¸ºæ­¤æ—¶çš„å·¦ä¾§è¿ç®—å¯¹è±¡æ˜¯ä¸€ä¸ªSales_dataçš„å¯¹è±¡ï¼Œæ‰€ä»¥è¿”å›ç±»å‹åº”è¯¥æ˜¯Sales_data&amp;ã€‚</p>
</blockquote>
<h3 id="IOç±»ä¸æ”¯æŒæ‹·è´"><a href="#IOç±»ä¸æ”¯æŒæ‹·è´" class="headerlink" title="IOç±»ä¸æ”¯æŒæ‹·è´"></a>IOç±»ä¸æ”¯æŒæ‹·è´</h3><p>è°ƒç”¨çš„æ—¶å€™éœ€è¦ç›´æ¥ä½¿ç”¨å¯¹è±¡å¼•ç”¨ã€‚<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">istream&amp; <span class="title">read</span><span class="params">(istream&amp; os, Sales_data&amp; item)</span></span>&#123;</span><br><span class="line">    os &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h2><blockquote>
<p>åœ¨C++11æ–°æ ‡å‡†ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦é»˜è®¤çš„è¡Œä¸ºï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡åœ¨å‚æ•°åˆ—è¡¨åé¢å†™ä¸Š= defaultæ¥è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆæ„é€ å‡½æ•°ã€‚å…¶ä¸­ï¼Œ= defaultæ—¢å¯ä»¥å’Œå£°æ˜ä¸€èµ·å‡ºç°åœ¨ç±»çš„å†…éƒ¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå®šä¹‰å‡ºç°åœ¨ç±»çš„å¤–éƒ¨ã€‚å’Œå…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œå¦‚æœ= defaultåœ¨ç±»çš„å†…éƒ¨ï¼Œåˆ™é»˜è®¤æ„é€ å‡½æ•°æ˜¯å†…è”çš„ï¼›å¦‚æœå®ƒåœ¨ç±»çš„å¤–éƒ¨ï¼Œåˆ™è¯¥æˆå‘˜é»˜è®¤æƒ…å†µä¸‹ä¸æ˜¯å†…è”çš„ã€‚<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sales_data</span>&#123;</span></span><br><span class="line">    Sales_data() = <span class="keyword">default</span>;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s):bookNo(s)&#123;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="è¿›é˜¶å±æ€§"><a href="#è¿›é˜¶å±æ€§" class="headerlink" title="è¿›é˜¶å±æ€§"></a>è¿›é˜¶å±æ€§</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Screen</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">typedef</span> <span class="built_in">string</span>::size_type pos; <span class="comment">// is equivalent to: using pos = string::size_type;</span></span><br><span class="line">	Screen() = <span class="keyword">default</span>; <span class="comment">// default constructor</span></span><br><span class="line">	Screen(pos h, pos w, <span class="keyword">char</span> c) : height&#123; h &#125;, width&#123; w &#125;, contents(h* w, c)&#123;&#125;;</span><br><span class="line">	<span class="function"><span class="keyword">char</span> <span class="title">get</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> contents[cursor]; &#125; <span class="comment">// implicit inline</span></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">get</span><span class="params">(pos h, pos w)</span> <span class="keyword">const</span></span>; <span class="comment">// explicit inline ; overloaded function</span></span><br><span class="line">	<span class="function">Screen&amp; <span class="title">move</span><span class="params">(pos r, pos c)</span></span>;</span><br><span class="line">    <span class="function">Screen&amp; <span class="title">set</span><span class="params">(<span class="keyword">char</span> c)</span></span>; <span class="comment">// return *this</span></span><br><span class="line">    <span class="function">Screen&amp; <span class="title">set</span><span class="params">(pos, pos, <span class="keyword">char</span>)</span></span>; <span class="comment">// return *this</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	pos cursor = <span class="number">0</span>;</span><br><span class="line">	pos height = <span class="number">0</span>, width = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">string</span> contents;</span><br><span class="line">    <span class="keyword">mutable</span> <span class="keyword">size_t</span> access_ctr = <span class="number">0</span>;  <span class="comment">// mutable variable</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Screen::some_member</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;  <span class="comment">// </span></span><br><span class="line">	++access_ctr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡è¿”å›*thisï¼ˆScreenå¯¹è±¡å¼•ç”¨ï¼‰å¯ä»¥å®ç°moveï¼Œsetå‡½æ•°çš„åºåˆ—åŒ–è°ƒç”¨<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">myScreen.move(<span class="number">4</span>,<span class="number">0</span>).<span class="built_in">set</span>(<span class="string">'#'</span>);</span><br></pre></td></tr></table></figure></p>
<p><em>Warning: ä¸€ä¸ªconstæˆå‘˜å‡½æ•°å¦‚æœä»¥å¼•ç”¨çš„å½¢å¼è¿”å›ï¼Šthisï¼Œé‚£ä¹ˆå®ƒçš„è¿”å›ç±»å‹å°†æ˜¯å¸¸é‡å¼•ç”¨ã€‚</em></p>
<p>$\color{red}{å¸¸é‡å¯¹è±¡ï¼Œä»¥åŠå¸¸é‡å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆéƒ½åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°ã€‚}$</p>
<p>ä¸€äº›æˆå‘˜å‡½æ•°éœ€è¦æœ‰constå’Œéconsté‡è½½ç‰ˆæœ¬ï¼Œæ¥æ»¡è¶³ä¸åŒå¯¹è±¡çš„è¦æ±‚ã€‚</p>
<h2 id="æ„é€ å‡½æ•°åˆå§‹åŒ–é¡ºåº"><a href="#æ„é€ å‡½æ•°åˆå§‹åŒ–é¡ºåº" class="headerlink" title="æ„é€ å‡½æ•°åˆå§‹åŒ–é¡ºåº"></a>æ„é€ å‡½æ•°åˆå§‹åŒ–é¡ºåº</h2><p>ä¸€èˆ¬è€Œè¨€ï¼Œè¦æ±‚æ„é€ åˆå§‹åŒ–ç±»æˆå‘˜çš„æ—¶å€™æŒ‰ç…§å®šä¹‰é¡ºåºæ¥ï¼Œå°¤å…¶æ˜¯å­˜åœ¨ç±»æˆå‘˜å˜é‡äº’ç›¸åˆå§‹åŒ–çš„æ—¶å€™ã€‚<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Exp</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    Exp(<span class="keyword">int</span> val): j&#123;val&#125;, i&#123;j&#125; &#123;&#125; <span class="comment">// wrong initialize i with unintialized value</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// iä¼šæŒ‰ç…§å®šä¹‰çš„é¡ºåºå…ˆæ‰§è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯æŒ‰ç…§åˆ—è¡¨åˆå§‹åŒ–é‡Œçš„é¡ºåºæ¥</span></span><br></pre></td></tr></table></figure></p>
<h3 id="å§”æ‰˜æ„é€ å‡½æ•°"><a href="#å§”æ‰˜æ„é€ å‡½æ•°" class="headerlink" title="å§”æ‰˜æ„é€ å‡½æ•°"></a>å§”æ‰˜æ„é€ å‡½æ•°</h3><p>C++11ä¸­å‡ºç°çš„æ–°ç‰¹æ€§ï¼Œç›®çš„æ˜¯å‡å°‘æ„é€ å‡½æ•°ä¸­çš„ä»£ç å†—ä½™ï¼Œå§”æ‰˜æ„é€ å‡½æ•°å¯ä»¥è°ƒç”¨å…¶ä»–æ„é€ å‡½æ•°ï¼Œä»è€Œç®€åŒ–æ„é€ è¿‡ç¨‹ã€‚å°†æ„é€ ä»»åŠ¡éƒ¨åˆ†æˆ–è€…å…¨éƒ¨çš„äº¤ç»™å…¶ä»–æ„é€ å‡½æ•°ã€‚</p>
<p>é»˜è®¤æ„é€ å‡½æ•°è¿˜æ˜¯èƒ½æœ‰å°±æœ‰ï¼Œä¸ç„¶åœ¨æŸäº›æƒ…å½¢ä¸‹ç¼ºå°‘é»˜è®¤æ„é€ å‡½æ•°ä¼šæŠ¥é”™ï¼Œä¾‹å¦‚åˆå§‹åŒ–vectoræ•°ç»„çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°</p>
<h3 id="èšåˆç±»ä¸constexprç±»"><a href="#èšåˆç±»ä¸constexprç±»" class="headerlink" title="èšåˆç±»ä¸constexprç±»"></a>èšåˆç±»ä¸constexprç±»</h3><p>publicæˆå‘˜ï¼Œæ— æˆå‘˜å‡½æ•°ï¼Œéƒ½æ˜¯å­—é¢å€¼</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter9</title>
    <url>/2021/01/29/CppPrimer5th-Chapter9/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬ä¹ç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œè¿™ä¸€ç« çš„å†…å®¹æ˜¯é¡ºåºå®¹å™¨çš„åŸºç¡€çŸ¥è¯†ã€‚<br><a id="more"></a></p>
<h2 id="é¡ºåºå®¹å™¨"><a href="#é¡ºåºå®¹å™¨" class="headerlink" title="é¡ºåºå®¹å™¨"></a>é¡ºåºå®¹å™¨</h2><p>å½“å°†ä¸€ä¸ªå®¹å™¨åˆå§‹åŒ–ä¸ºå¦ä¸€ä¸ªå®¹å™¨çš„æ‹·è´æ—¶ï¼Œä¸¤ä¸ªå®¹å™¨çš„å®¹å™¨ç±»å‹å’Œå…ƒç´ ç±»å‹éƒ½å¿…é¡»ç›¸åŒï¼Œå¦‚æœä½¿ç”¨è¿­ä»£å™¨åˆ™å¯ä»¥ç”¨ä¸åŒç±»å‹çš„å®¹å™¨æ¥åˆå§‹åŒ–<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;<span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">list</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; a&#123;<span class="string">"ac"</span>,<span class="string">"ree"</span>,<span class="string">"wq"</span>&#125;;</span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">const</span> <span class="keyword">char</span>*&gt; b&#123;<span class="string">"aa"</span>,<span class="string">"ew"</span>,<span class="string">"ww"</span>&#125;;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; <span class="title">c</span><span class="params">(b)</span></span>; <span class="comment">//wrong</span></span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; <span class="title">d</span><span class="params">(b.begin(), b.end())</span></span>; <span class="comment">//OK</span></span><br></pre></td></tr></table></figure></p>
<h3 id="swapä¸assign"><a href="#swapä¸assign" class="headerlink" title="swapä¸assign"></a>swapä¸assign</h3><p>è¿™æ˜¯ä¸¤ä¸ªæ“ä½œé¡ºåºå®¹å™¨å…ƒç´ çš„å‡½æ•°ï¼Œswapæœ‰æˆå‘˜å‡½æ•°ç‰ˆæœ¬å’Œéæˆå‘˜å‡½æ•°ç‰ˆæœ¬ï¼Œ<strong>æ¨èä½¿ç”¨éæˆå‘˜å‡½æ•°ç‰ˆæœ¬</strong></p>
<h3 id="å®¹å™¨æ¯”è¾ƒ"><a href="#å®¹å™¨æ¯”è¾ƒ" class="headerlink" title="å®¹å™¨æ¯”è¾ƒ"></a>å®¹å™¨æ¯”è¾ƒ</h3><p>ä¸¤ä¸ªå®¹å™¨å¦‚æœèƒ½è¿›è¡Œæ¯”è¾ƒè¿ç®—ï¼Œåˆ™æ¯”è¾ƒç»“æœä¸ºç¬¬ä¸€ä¸åŒå…ƒç´ ä¹‹é—´çš„å¤§å°</p>
<h3 id="å‘é¡ºåºå®¹å™¨ä¸­æ·»åŠ å…ƒç´ "><a href="#å‘é¡ºåºå®¹å™¨ä¸­æ·»åŠ å…ƒç´ " class="headerlink" title="å‘é¡ºåºå®¹å™¨ä¸­æ·»åŠ å…ƒç´ "></a>å‘é¡ºåºå®¹å™¨ä¸­æ·»åŠ å…ƒç´ </h3><p><img src='add.png' width=600 title='add elems'></p>
<p><strong>æ’å…¥å…ƒç´ ä¼šä½¿å¾—ç°æœ‰çš„è¿­ä»£å™¨ï¼ŒèŒƒå›´å¾ªç¯å¤±æ•ˆ</strong></p>
<p><em>insert()</em>ä¼šè¿”å›æ’å…¥å…ƒç´ çš„ç¬¬ä¸€ä¸ªå…ƒç´ <br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">list</span>&lt;<span class="built_in">string</span>&gt; lst;</span><br><span class="line">iter = lst.begin();</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; word)</span><br><span class="line">    iter = lst.insert(iter, word);</span><br><span class="line"><span class="comment">// ç­‰ä»·äºpush_front</span></span><br></pre></td></tr></table></figure><br>emplaceå‡½æ•°åœ¨å®¹å™¨ä¸­ç›´æ¥æ„é€ å…ƒç´ ã€‚ä¼ é€’ç»™emplaceå‡½æ•°çš„å‚æ•°å¿…é¡»ä¸å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ç›¸åŒ¹é…ã€‚</p>
<blockquote>
<p>å½“è°ƒç”¨pushæˆ–insertæˆå‘˜å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å°†å…ƒç´ ç±»å‹çš„å¯¹è±¡ä¼ é€’ç»™å®ƒä»¬ï¼Œè¿™äº›å¯¹è±¡è¢«æ‹·è´åˆ°å®¹å™¨ä¸­ã€‚è€Œå½“æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªemplaceæˆå‘˜å‡½æ•°æ—¶ï¼Œåˆ™æ˜¯å°†å‚æ•°ä¼ é€’ç»™å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ã€‚emplaceæˆå‘˜ä½¿ç”¨è¿™äº›å‚æ•°åœ¨å®¹å™¨ç®¡ç†çš„å†…å­˜ç©ºé—´ä¸­ç›´æ¥æ„é€ å…ƒç´ ã€‚</p>
</blockquote>
<h2 id="å®¹å™¨æ“ä½œä½¿è¿­ä»£å™¨å¤±æ•ˆ"><a href="#å®¹å™¨æ“ä½œä½¿è¿­ä»£å™¨å¤±æ•ˆ" class="headerlink" title="å®¹å™¨æ“ä½œä½¿è¿­ä»£å™¨å¤±æ•ˆ"></a>å®¹å™¨æ“ä½œä½¿è¿­ä»£å™¨å¤±æ•ˆ</h2><ul>
<li>å¦‚æœå®¹å™¨æ˜¯vectoræˆ–stringï¼Œä¸”å­˜å‚¨ç©ºé—´è¢«é‡æ–°åˆ†é…ï¼Œåˆ™æŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨éƒ½ä¼šå¤±æ•ˆã€‚å¦‚æœå­˜å‚¨ç©ºé—´æœªé‡æ–°åˆ†é…ï¼ŒæŒ‡å‘æ’å…¥ä½ç½®ä¹‹å‰çš„å…ƒç´ çš„è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨ä»æœ‰æ•ˆï¼Œä½†<strong>æŒ‡å‘æ’å…¥ä½ç½®ä¹‹åå…ƒç´ çš„è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨å°†ä¼šå¤±æ•ˆ</strong>ã€‚</li>
<li>å¯¹äºdequeï¼Œæ’å…¥åˆ°é™¤é¦–å°¾ä½ç½®ä¹‹å¤–çš„ä»»ä½•ä½ç½®éƒ½ä¼šå¯¼è‡´è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨å¤±æ•ˆã€‚å¦‚æœåœ¨é¦–å°¾ä½ç½®æ·»åŠ å…ƒç´ ï¼Œè¿­ä»£å™¨ä¼šå¤±æ•ˆï¼Œä½†æŒ‡å‘å­˜åœ¨çš„å…ƒç´ çš„å¼•ç”¨å’ŒæŒ‡é’ˆä¸ä¼šå¤±æ•ˆã€‚</li>
<li>å¯¹äºlistå’Œforward_listï¼ŒæŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ï¼ˆåŒ…æ‹¬å°¾åè¿­ä»£å™¨å’Œé¦–å‰è¿­ä»£å™¨ï¼‰ã€æŒ‡é’ˆå’Œå¼•ç”¨<strong>ä»æœ‰æ•ˆ</strong></li>
</ul>
<p>æ³¨æ„ï¼šå½“æˆ‘ä»¬åˆ é™¤å…ƒç´ æ—¶ï¼Œå°¾åè¿­ä»£å™¨æ€»æ˜¯ä¼šå¤±æ•ˆã€‚</p>
<p><em>ç”±äºå‘è¿­ä»£å™¨æ·»åŠ å…ƒç´ å’Œä»è¿­ä»£å™¨åˆ é™¤å…ƒç´ çš„ä»£ç å¯èƒ½ä¼šä½¿è¿­ä»£å™¨å¤±æ•ˆï¼Œå› æ­¤å¿…é¡»ä¿è¯æ¯æ¬¡æ”¹å˜å®¹å™¨çš„æ“ä½œä¹‹åéƒ½æ­£ç¡®åœ°é‡æ–°å®šä½è¿­ä»£å™¨ã€‚è¿™ä¸ªå»ºè®®å¯¹vectorã€stringå’Œdequeå°¤ä¸ºé‡è¦</em></p>
<p>æ¢è¨€ä¹‹ï¼Œä¿å­˜å°¾è¿­ä»£å™¨æ˜¯ä¸ªåä¸»æ„ï¼Œå› ä¸ºå®ƒæœ‰å¯èƒ½å› ä¸ºæ’å…¥æˆ–è€…åˆ é™¤å…ƒç´ å˜æˆæ— æ•ˆçš„è¿­ä»£å™¨<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">auto</span> end = vec.end();</span><br><span class="line"><span class="keyword">while</span>(p!=end) <span class="comment">// bad</span></span><br><span class="line"><span class="comment">/***/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(p!=vec.end()) <span class="comment">// good</span></span><br><span class="line"><span class="comment">/***/</span></span><br></pre></td></tr></table></figure></p>
<h2 id="vectorå’Œstringçš„é¢å¤–æ“ä½œ"><a href="#vectorå’Œstringçš„é¢å¤–æ“ä½œ" class="headerlink" title="vectorå’Œstringçš„é¢å¤–æ“ä½œ"></a>vectorå’Œstringçš„é¢å¤–æ“ä½œ</h2><p>vectoråœ¨å†…å­˜ç©ºé—´ä¸è¶³çš„æ—¶å€™ä¼šç”³è¯·å½“å‰ç©ºé—´ç¿»å€çš„æ–°ç©ºé—´ï¼Œä½¿ç”¨c++11ä¸­çš„æ–°å‡½æ•° <em>shrink_to_fit()</em>å¯ä»¥é€€å›å¤šä½™çš„capacityã€‚</p>
<p>stringå¯ä»¥é€šè¿‡substræ¥éƒ¨åˆ†çš„æå–ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰appendï¼Œreplaceç­‰å‡½æ•°å¯¹stringè¿›è¡Œæ“ä½œï¼Œå…·ä½“éœ€è¦ç”¨åˆ°çš„æ—¶å€™å†çœ‹ã€‚</p>
<h2 id="å®¹å™¨é€‚é…å™¨"><a href="#å®¹å™¨é€‚é…å™¨" class="headerlink" title="å®¹å™¨é€‚é…å™¨"></a>å®¹å™¨é€‚é…å™¨</h2><p>stackã€queueå’Œpriority_queueæ˜¯ä¸‰ä¸ªé¡ºåºå®¹å™¨é€‚é…å™¨ã€‚<em>æœ¬è´¨ä¸Šï¼Œä¸€ä¸ªé€‚é…å™¨æ˜¯ä¸€ç§æœºåˆ¶ï¼Œèƒ½ä½¿æŸç§äº‹ç‰©çš„è¡Œä¸ºçœ‹èµ·æ¥åƒå¦å¤–ä¸€ç§äº‹ç‰©ä¸€æ ·ã€‚ä¸€ä¸ªå®¹å™¨é€‚é…å™¨æ¥å—ä¸€ç§å·²æœ‰çš„å®¹å™¨ç±»å‹ï¼Œä½¿å…¶è¡Œä¸ºçœ‹èµ·æ¥åƒä¸€ç§ä¸åŒçš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œstacké€‚é…å™¨æ¥å—ä¸€ä¸ªé¡ºåºå®¹å™¨ï¼ˆé™¤arrayæˆ–forward_listå¤–ï¼‰ï¼Œå¹¶ä½¿å…¶æ“ä½œèµ·æ¥åƒä¸€ä¸ªstackä¸€æ ·ã€‚</em></p>
<p>ä»–ä»¬åœ¨é¡ºåºå®¹å™¨ä¹‹ä¸Šå®šä¹‰äº†æ–°çš„æ¥å£ï¼Œä½¿ä¹‹èƒ½è¡¨ç°åœ°åƒç›¸åº”çš„æ•°æ®ç±»å‹</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>CppPrimer5th-Chapter8</title>
    <url>/2021/01/29/CppPrimer5th-Chapter8/</url>
    <content><![CDATA[<p>ã€ŠC++ Primer 5thã€‹ç¬¬å…«ç« ä¸­çš„é‡è¦çŸ¥è¯†ç‚¹ï¼Œä»æœ¬ç« å¼€å§‹è¿›å…¥C++æ ‡å‡†åº“æ–¹é¢çš„ä»‹ç»ï¼Œè¿™ä¸€ç« çš„å†…å®¹æ˜¯IOåº“<br><a id="more"></a></p>
<p>è¿™ä¸€ç« å¼€å§‹è¿›å…¥C++æ ‡å‡†åº“ï¼Œè®²è¿°åºå¤§çš„æ ‡å‡†åº“å†…éœ€è¦ç†Ÿç»ƒæŒæ¡çš„éƒ¨åˆ†ã€‚</p>
<ul>
<li>IOåº“</li>
<li>é¡ºåºå®¹å™¨</li>
<li>æ³›å‹ç®—æ³•</li>
<li>å…³è”å®¹å™¨</li>
<li>åŠ¨æ€å†…å­˜</li>
</ul>
<p>ä»IOåº“å¼€å§‹</p>
<h2 id="IOå¯¹è±¡"><a href="#IOå¯¹è±¡" class="headerlink" title="IOå¯¹è±¡"></a>IOå¯¹è±¡</h2><ul>
<li>æ— æ³•æ‹·è´æˆ–è€…èµ‹å€¼ï¼ŒIOç±»ä¹Ÿéƒ½æ— æ³•æŒ‰å€¼ä¼ é€’</li>
<li>è¯»å†™IOå¯¹è±¡ä¼šæ”¹å˜çŠ¶æ€ï¼Œå› æ­¤ä¼ é€’å’Œè¿”å›çš„å¼•ç”¨ä¸èƒ½æ˜¯constçš„</li>
<li>æµä¼šè¿›å…¥é”™è¯¯çŠ¶æ€ï¼Œé”™è¯¯åæ‰€æœ‰çš„IOæ“ä½œéƒ½ä¼šå¤±è´¥<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; word)&#123;&#125;<span class="comment">//...check status OK</span></span><br><span class="line">istream.clear();<span class="comment">// æ¢å¤æ­£å¸¸çŠ¶æ€</span></span><br><span class="line"><span class="keyword">auto</span> state = istream.rdstate(); <span class="comment">// è¯»å–çŠ¶æ€</span></span><br></pre></td></tr></table></figure>
<h3 id="ç¼“å†²åŒºä¸åˆ·æ–°"><a href="#ç¼“å†²åŒºä¸åˆ·æ–°" class="headerlink" title="ç¼“å†²åŒºä¸åˆ·æ–°"></a>ç¼“å†²åŒºä¸åˆ·æ–°</h3></li>
</ul>
<p>è¾“å‡ºå¯¹è±¡å…·æœ‰ç¼“å†²åŒºï¼Œä¸ºäº†å‡å°‘ç›´æ¥è®¿é—®ç¡¬ä»¶çš„æ¬¡æ•°å¯ä»¥å¤šæ¬¡è¾“å‡ºåˆ°ç¼“å†²åŒºç„¶åç»Ÿä¸€å†™å…¥ç¡¬ä»¶ï¼Œå†™å…¥ç¡¬ä»¶çš„è¿‡ç¨‹å«åšåˆ·æ–°ã€‚</p>
<blockquote>
<p>å¯¼è‡´ç¼“å†²åˆ·æ–°ï¼ˆå³ï¼Œæ•°æ®çœŸæ­£å†™åˆ°è¾“å‡ºè®¾å¤‡æˆ–æ–‡ä»¶ï¼‰çš„åŸå› æœ‰å¾ˆå¤šï¼š<br>Â· ç¨‹åºæ­£å¸¸ç»“æŸï¼Œä½œä¸ºmainå‡½æ•°çš„returnæ“ä½œçš„ä¸€éƒ¨åˆ†ï¼Œç¼“å†²åˆ·æ–°è¢«æ‰§è¡Œã€‚<br>Â· ç¼“å†²åŒºæ»¡æ—¶ï¼Œéœ€è¦åˆ·æ–°ç¼“å†²ï¼Œè€Œåæ–°çš„æ•°æ®æ‰èƒ½ç»§ç»­å†™å…¥ç¼“å†²åŒºã€‚<br>Â· æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ“çºµç¬¦å¦‚endlï¼ˆå‚è§1.2èŠ‚ï¼Œç¬¬6é¡µï¼‰æ¥æ˜¾å¼åˆ·æ–°ç¼“å†²åŒºã€‚<br>Â· åœ¨æ¯ä¸ªè¾“å‡ºæ“ä½œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ“çºµç¬¦unitbufè®¾ç½®æµçš„å†…éƒ¨çŠ¶æ€ï¼Œæ¥æ¸…ç©ºç¼“å†²åŒºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹cerræ˜¯è®¾ç½®unitbufçš„ï¼Œå› æ­¤å†™åˆ°cerrçš„å†…å®¹éƒ½æ˜¯ç«‹å³åˆ·æ–°çš„ã€‚<br>Â· ä¸€ä¸ªè¾“å‡ºæµå¯èƒ½è¢«å…³è”åˆ°å¦ä¸€ä¸ªæµã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“è¯»å†™è¢«å…³è”çš„æµæ—¶ï¼Œå…³è”åˆ°çš„æµçš„ç¼“å†²åŒºä¼šè¢«åˆ·æ–°ã€‚ä¾‹å¦‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œcinå’Œcerréƒ½å…³è”åˆ°coutã€‚å› æ­¤ï¼Œè¯»cinæˆ–å†™cerréƒ½ä¼šå¯¼è‡´coutçš„ç¼“å†²åŒºè¢«åˆ·æ–°ã€‚</p>
</blockquote>
<h2 id="æ–‡ä»¶çš„è¾“å…¥è¾“å‡º"><a href="#æ–‡ä»¶çš„è¾“å…¥è¾“å‡º" class="headerlink" title="æ–‡ä»¶çš„è¾“å…¥è¾“å‡º"></a>æ–‡ä»¶çš„è¾“å…¥è¾“å‡º</h2><p>ä½¿ç”¨fstreamè¿›è¡Œè¯»å†™</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>MITLinearAlgebra(2)</title>
    <url>/2020/11/13/MITLinearAlgebra-2/</url>
    <content><![CDATA[<p>MITçº¿æ€§ä»£æ•°ç¬”è®°çš„ç¬¬äºŒéƒ¨åˆ†</p>
<ul>
<li>çº¿æ€§ç›¸å…³æ€§ä¸çº¿æ€§ç©ºé—´</li>
<li>å››ä¸ªå­ç©ºé—´</li>
<li>å›¾å’Œç½‘ç»œ</li>
<li>æ­£äº¤ç©ºé—´ä¸å­ç©ºé—´æŠ•å½±</li>
<li>æ±‚è§£æœ€å°äºŒä¹˜çš„çŸ©é˜µ</li>
</ul>
<a id="more"></a>
<p>å®Œæ•´é“¾æ¥:<br><a href="/2020/09/27/MITLinearAlgebra/" title="MITLinearAlgebra">MITLinearAlgebra</a><br><a href="/2020/11/13/MITLinearAlgebra-2/" title="MITLinearAlgebra(2)">MITLinearAlgebra(2)</a><br><a href="/2020/11/13/MITLinearAlgebra-3/" title="MITLinearAlgebra(3)">MITLinearAlgebra(3)</a><br><a href="/2021/03/17/MITLinearAlgebra-4/" title="MITLinearAlgebra-4">MITLinearAlgebra-4</a></p>
<h2 id="çº¿æ€§ç›¸å…³æ€§ã€åŸºã€ç»´æ•°"><a href="#çº¿æ€§ç›¸å…³æ€§ã€åŸºã€ç»´æ•°" class="headerlink" title="çº¿æ€§ç›¸å…³æ€§ã€åŸºã€ç»´æ•°"></a>çº¿æ€§ç›¸å…³æ€§ã€åŸºã€ç»´æ•°</h2><p>çº¿æ€§æ— å…³çš„æ˜¯â€œå‘é‡ç»„â€è€Œä¸æ˜¯çŸ©é˜µ</p>
<blockquote>
<p>è‹¥çŸ©é˜µAçš„m &lt; n<br>Ax=0 æœªçŸ¥æ•°å¤§äºæ–¹ç¨‹æ•°ï¼Œå­˜åœ¨æŸäº›è‡ªç”±å˜é‡ï¼Œä¹Ÿå°±æ˜¯å­˜åœ¨é›¶ç©ºé—´çš„ç‰¹è§£ï¼Œè‡³å°‘n-mä¸ª</p>
</blockquote>
<h3 id="çº¿æ€§æ— å…³"><a href="#çº¿æ€§æ— å…³" class="headerlink" title="çº¿æ€§æ— å…³"></a>çº¿æ€§æ— å…³</h3><p>å¦‚æœå‘é‡ç»„çš„éé›¶ç³»æ•°çº¿æ€§ç»„åˆä¸å­˜åœ¨é›¶å‘é‡ï¼Œåˆ™è¿™ä¸€ç»„å‘é‡çº¿æ€§æ— å…³ã€‚æ˜“çŸ¥ï¼Œé›¶å‘é‡ä¸æ‰€æœ‰å‘é‡çº¿æ€§ç›¸å…³ã€‚<br><strong>å¦‚æœçŸ©é˜µAçš„é›¶ç©ºé—´null spaceåŒ…å«éé›¶å‘é‡ï¼Œè¯´æ˜ä»–ä»¬çº¿æ€§ç›¸å…³ã€‚</strong>ä¾‹å¦‚äºŒç»´ç©ºé—´é‡Œï¼Œä¸‰ä¸ªå‘é‡ä¸€å®šæ˜¯çº¿æ€§ç›¸å…³çš„ï¼ŒæŠŠä»–ä»¬ç»„æˆä¸€ä¸ªçŸ©é˜µAï¼Œè¿™æ˜¯ä¸€ä¸ª2*3çŸ©é˜µï¼Œæ˜æ˜¾å­˜åœ¨è‡ªç”±å˜é‡ï¼Œä¹Ÿå°±æ˜¯é›¶ç©ºé—´å­˜åœ¨ç‰¹è§£ã€‚</p>
<h3 id="ç”Ÿæˆå‘é‡ç©ºé—´span"><a href="#ç”Ÿæˆå‘é‡ç©ºé—´span" class="headerlink" title="ç”Ÿæˆå‘é‡ç©ºé—´span"></a>ç”Ÿæˆå‘é‡ç©ºé—´span</h3><p><strong>span</strong>ç”Ÿæˆä¸€ä¸ªç©ºé—´æ˜¯ä½¿ç”¨çº¿æ€§æ— å…³å‘é‡ç»„å»çº¿æ€§ç»„åˆã€‚è¿™ä¸ªç©ºé—´åŒ…å«è¿™äº›å‘é‡çš„çº¿æ€§ç»„åˆã€‚</p>
<p><strong>åŸº</strong>ï¼Œbasisï¼ŒæŒ‡èƒ½å¤Ÿç”Ÿæˆå‘é‡ç©ºé—´çš„ä¸€ç»„çº¿æ€§æ— å…³çš„å‘é‡ã€‚</p>
<p>ç»™å®šå‘é‡ç©ºé—´ï¼Œå„ç»„åŸºå‘é‡çš„ä¸ªæ•°éƒ½æ˜¯ä¸€è‡´çš„ã€‚è¿™ä¸ªä¸ªæ•°ç§°ä½œ<strong>ç©ºé—´ç»´æ•°</strong>ã€‚</p>
<p><strong>Rank=#pivots columns=dimension of column space</strong></p>
<p>è¯·æ³¨æ„ï¼Œè¿™é‡Œå¹¶éæ˜¯<em>çŸ©é˜µçš„ç»´åº¦</em>è€Œæ˜¯<em>åˆ—ç©ºé—´çš„ç»´åº¦</em></p>
<p>ä¸€ä¸ªé—®é¢˜ï¼šnull spaceçš„ç»´åº¦æ˜¯å¤šå°‘ï¼Ÿé›¶ç©ºé—´åœ¨è¡¨ç¤ºæ€æ ·è¿™äº›åˆ—å‘é‡èƒ½å¤Ÿçº¿æ€§ç›¸å…³ã€‚ç»´åº¦æ˜¯<strong>è‡ªç”±å˜é‡çš„æ•°ç›®</strong>ã€‚</p>
<p>dim Nï¼ˆAï¼‰= #free variables = n-r</p>
<h2 id="ç¬¬åè®²-å››ä¸ªåŸºæœ¬å­ç©ºé—´"><a href="#ç¬¬åè®²-å››ä¸ªåŸºæœ¬å­ç©ºé—´" class="headerlink" title="ç¬¬åè®²-å››ä¸ªåŸºæœ¬å­ç©ºé—´"></a>ç¬¬åè®²-å››ä¸ªåŸºæœ¬å­ç©ºé—´</h2><ul>
<li>åˆ—ç©ºé—´$C(A)$</li>
<li>é›¶ç©ºé—´$N(A)$</li>
<li>è¡Œç©ºé—´$C(A^{T})$row space</li>
<li>å·¦é›¶ç©ºé—´$N(A^T)$left null space</li>
</ul>
<ol>
<li>åˆ—ç©ºé—´çš„ç»´åº¦ä¸ºrï¼ŒåŸºæ˜¯ä¸»åˆ—å‘é‡</li>
<li>è¡Œç©ºé—´ä¸åˆ—ç©ºé—´çš„ç»´åº¦ç›¸åŒï¼Œä¹Ÿæ˜¯rï¼ŒåŸºæ˜¯çŸ©é˜µRçš„å‰rè¡Œ</li>
<li>é›¶ç©ºé—´çš„ç»´åº¦ä¸ºn-rï¼ŒåŸºæ˜¯è‡ªç”±å˜é‡å¯¹åº”è‡ªç”±å‘é‡</li>
<li>å·¦é›¶ç©ºé—´çš„ç»´åº¦æ˜¯m-rï¼Œä¹Ÿæ˜¯èƒ½è®©è¡Œå‘é‡çº¿æ€§ç›¸å…³å¾—åˆ°é›¶å‘é‡çš„ä¸€ç»„å‘é‡</li>
</ol>
<p>C(A)å’ŒN(A^T)åœ¨R^mç©ºé—´é‡Œï¼ŒN(A)å’ŒC(A^T)åœ¨R^mä¸­</p>
<p>3<em>3çš„çŸ©é˜µä¹Ÿå¯ä»¥æ‰¾å‡ºä¸€ç»„åŸºï¼Œå½¢æˆä¸€ä¸ªçŸ©é˜µç©ºé—´ï¼Œæœ‰ç‚¹åƒæŠŠå‘é‡ç©ºé—´æ‰©å±•åˆ°äº†çŸ©é˜µç©ºé—´ï¼Œæˆ‘ä»¬ç»™ä»–å–ä¸ªæ›´å¥½çš„åå­—ä¸å¦‚å«<em>*çº¿æ€§ç©ºé—´</em></em>å§ã€‚</p>
<h2 id="çŸ©é˜µç©ºé—´-ç§©1çŸ©é˜µ-å°ä¸–ç•Œå›¾"><a href="#çŸ©é˜µç©ºé—´-ç§©1çŸ©é˜µ-å°ä¸–ç•Œå›¾" class="headerlink" title="çŸ©é˜µç©ºé—´ ç§©1çŸ©é˜µ å°ä¸–ç•Œå›¾"></a>çŸ©é˜µç©ºé—´ ç§©1çŸ©é˜µ å°ä¸–ç•Œå›¾</h2><h3 id="æ–°ç©ºé—´"><a href="#æ–°ç©ºé—´" class="headerlink" title="æ–°ç©ºé—´"></a>æ–°ç©ºé—´</h3><p>all 3 by 3 matricesç»„æˆçŸ©é˜µç©ºé—´Mï¼Œé‡Œé¢çš„çŸ©é˜µæ»¡è¶³åŠ æ³•å’Œæ•°ä¹˜ï¼ŒåŸºä¹Ÿæ˜¯3*3çŸ©é˜µï¼Œ9ä¸ª<br>ä¹ŸåŒ…æ‹¬å„ç§å­ç©ºé—´subspaces: symmetric matrices, upper triangular matrices, lower â€¦<br>é‚£ä¹ˆè¿™äº›å­ç©ºé—´çš„ç»´åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿ<br>å¯¹ç§°çŸ©é˜µSç»´åº¦ä¸º6ï¼Œå¯¹è§’çŸ©é˜µç»´åº¦ä¸º3ï¼Œä¸Šä¸‰è§’ç»´åº¦Uä¸º6</p>
<p><strong>ä¸€ä¸ªè§„å¾‹</strong></p>
<script type="math/tex; mode=display">
dim(S\cap U)+ dim(S+U) = dim(S)+dim(U)\\[4px]
3+9 = 6+6\\</script><p>æ‰©å±•åˆ°å„ç§å‡½æ•°çš„ç»„åˆï¼Œä»–ä»¬éƒ½æ˜¯å¹¿ä¹‰çš„å‘é‡</p>
<h3 id="ç§©1çŸ©é˜µ"><a href="#ç§©1çŸ©é˜µ" class="headerlink" title="ç§©1çŸ©é˜µ"></a>ç§©1çŸ©é˜µ</h3><p>å°±åƒç§¯æœ¨çš„åŸºæœ¬ç»„æˆï¼Œä½†æ˜¯ä¸¤ä¸ªç§©1çŸ©é˜µç›¸åŠ ä¸èƒ½å¾—åˆ°ä¸€ä¸ªç¡®å®šç»´åº¦çš„çŸ©é˜µï¼Œå¯èƒ½ç§©ä¸º1ï¼Œå¯èƒ½ç§©ä¸º2</p>
<script type="math/tex; mode=display">
S = all v in R^4 with v1+v2+v3+v4=0(å„åˆ†é‡ç›¸åŠ ä¸º0)\\\\
é‚£ä¹ˆSçš„ç»´åº¦æ˜¯3\\\\
S = nullspace of A=[1 1 1 1], rank(A)=1=r\\\\
Rank(N(A))=n-r=3\\\\
dim C(A) = 1\\\\
dim C(A^T) = 1\\\\
dim N(A^T)=0</script><h3 id="å°ä¸–ç•Œå›¾"><a href="#å°ä¸–ç•Œå›¾" class="headerlink" title="å°ä¸–ç•Œå›¾"></a>å°ä¸–ç•Œå›¾</h3><p>å›¾graphæ˜¯ç‚¹å’Œè¾¹çš„é›†åˆï¼Œå¯ä»¥ç”¨çŸ©é˜µæ¥è¡¨ç¤ºå›¾çš„è¿æ¥<br>small worldå°ä¸–ç•Œæ˜¯è¯´å…­åº¦ç©ºé—´ç†è®º</p>
<h2 id="å›¾å’Œç½‘ç»œ"><a href="#å›¾å’Œç½‘ç»œ" class="headerlink" title="å›¾å’Œç½‘ç»œ"></a>å›¾å’Œç½‘ç»œ</h2><p>å¼€å§‹å…³æ³¨çº¿æ€§ä»£æ•°çš„åº”ç”¨</p>
<ul>
<li>Graphs&amp;Networks</li>
<li>Incidence Matriceså…³è”çŸ©é˜µ</li>
<li>Kirchhoffâ€™s lawsåŸºå°”éœå¤«ç”µæµå®šå¾‹<br>æ‰€æœ‰å®é™…åº”ç”¨ä¸­çš„çŸ©é˜µå…¶å®éƒ½æœ‰ä¸€äº›ç»“æ„ç‰¹å¾ï¼Œåœ¨å¤„ç†çŸ©é˜µçš„æ—¶å€™è¦æ³¨æ„åˆ©ç”¨è¿™äº›çŸ©é˜µçš„ç‰¹å¾ã€‚</li>
</ul>
<p>å›¾çš„å°é—­è¾¹å¯ä»¥æ„æˆä¸€ä¸ªloop</p>
<script type="math/tex; mode=display">

A = 
\begin{pmatrix}
-1& 1& 0& 0\\
0& -1& 1& 0\\
-1 &0 &1 &0\\
-1 &0 &0 &1\\
0 &0 &-1 &1\\
\end{pmatrix}</script><p>ç”¨å…³è”çŸ©é˜µè¡¨ç¤ºå›¾ï¼š</p>
<ol>
<li>è¡Œä¸ºæœ‰å‘è¾¹edgeï¼Œåˆ—ä¸ºèŠ‚ç‚¹nodeï¼Œå‡ºç‚¹ä¸º-1ï¼Œå…¥ç‚¹ä¸º1</li>
<li>çº¿æ€§ç›¸å…³çš„å‡ ä¸ªè¡Œå‘é‡å¯ä»¥ä»£è¡¨<strong>ç¯loop</strong></li>
<li>å…³è”çŸ©é˜µçš„é›¶ç©ºé—´nullspaceååº”çº¿æ€§ç›¸å…³ï¼Œä¹Ÿå°±ä»£è¡¨ç¯çš„ç»„æˆ</li>
</ol>
<p>$Ax = 0$å¦‚æœæŠŠè¿™ä¸ªæƒ³æˆç”µè·¯ï¼Œxæƒ³è±¡æˆèŠ‚ç‚¹ä¸Šçš„ç”µåŠ¿ï¼Œé›¶ç©ºé—´ä»£è¡¨ä½¿å¾—å„å¤„ç”µåŠ¿ç›¸ç­‰çš„æƒ…å†µã€‚å›è·¯çš„ç”µåŠ¿å·®ä¸º0ã€‚</p>
<p>èŠ‚ç‚¹ä»£è¡¨ç”µåŠ¿ï¼Œè¾¹ä»£è¡¨ç”µæµ</p>
<p>åŸºå°”éœå¤«ç”µæµå®šå¾‹ï¼š$A^Ty=0$å„ä¸ªèŠ‚ç‚¹æµå‡ºçš„ç”µæµå’Œç­‰äºæµå…¥çš„ç”µæµå’Œã€‚</p>
<p><strong>æ ‘æ˜¯æ²¡æœ‰ç¯çš„å›¾ï¼Œåœ¨çŸ©é˜µä¸­æ˜¯çº¿æ€§æ— å…³çš„A^Tçš„åˆ—ç©ºé—´å‘é‡ï¼Œä¹Ÿå°±æ˜¯æ²¡èƒ½ç»„æˆç¯çš„ä¸€å †è¾¹</strong></p>
<p>dim(N(A^T)) = m -r<br>num of loops = #edges-ï¼ˆ#nodes-1ï¼‰<br>rank=n-1</p>
<p><strong>æ¬§æ‹‰å…¬å¼</strong> #nodes-#edges+#loops=1<br><em>ä½¿ç”¨çº¿æ€§ä»£æ•°è¯æ˜äº†æ¬§æ‹‰å…¬å¼</em></p>
<p><strong>åº”ç”¨æ•°å­¦ä¸­çš„æœ€åŸºæœ¬æ–¹ç¨‹</strong><br>$A^{T}CAx=f$</p>
<h2 id="æ­£äº¤ç©ºé—´"><a href="#æ­£äº¤ç©ºé—´" class="headerlink" title="æ­£äº¤ç©ºé—´"></a>æ­£äº¤ç©ºé—´</h2><h3 id="ä¸¤å‘é‡æ­£äº¤"><a href="#ä¸¤å‘é‡æ­£äº¤" class="headerlink" title="ä¸¤å‘é‡æ­£äº¤"></a>ä¸¤å‘é‡æ­£äº¤</h3><p>ä¸¤ä¸ªå‘é‡x, yçš„æ­£äº¤æ¡ä»¶å°±æ˜¯å†…ç§¯ä¸º0</p>
<script type="math/tex; mode=display">
x^{T}y = 0</script><p>å¦‚æœå­˜åœ¨ä¸¤ä¸ªå‘é‡ç©ºé—´Så’ŒT, Sä¸­çš„ä»»æ„å‘é‡éƒ½ä¸Tä¸­çš„ä»»æ„å‘é‡æ­£äº¤, åˆ™ä¸¤ç©ºé—´äº’ä¸ºæ­£äº¤ç©ºé—´.</p>
<p>é›¶ç©ºé—´å’Œè¡Œç©ºé—´æ˜¯æ­£äº¤ç©ºé—´, åˆ—ç©ºé—´å’Œå·¦é›¶ç©ºé—´æ˜¯æ­£äº¤ç©ºé—´</p>
<h3 id="A-TAçš„é‡è¦æ€§è´¨"><a href="#A-TAçš„é‡è¦æ€§è´¨" class="headerlink" title="A^TAçš„é‡è¦æ€§è´¨"></a>A^TAçš„é‡è¦æ€§è´¨</h3><blockquote>
<p>å¦‚æœAx=bæ— è§£, é‚£ä¹ˆå¦‚ä½•â€æ±‚è§£â€å‡ºä¸€ä¸ªè§£</p>
</blockquote>
<p>è¿™ç§é—®é¢˜åœ¨çŸ©é˜µA, m&gt;nçš„æ—¶å€™å¾ˆå¸¸è§, æ–¹ç¨‹çš„ä¸ªæ•°è¶…è¿‡äº†æœªçŸ¥é‡çš„ä¸ªæ•°, å¾ˆå®¹æ˜“æ— è§£(è¶…æ­£å®šé—®é¢˜?)</p>
<p>A^TAæ˜¯å¯¹ç§°çŸ©é˜µ, æœ‰å¯èƒ½æ˜¯å¯é€†çŸ©é˜µ,æ˜¯æ±‚è§£è¿™ç§æ— è§£é—®é¢˜çš„ç­”æ¡ˆ</p>
<h2 id="å­ç©ºé—´æŠ•å½±ä¸æŠ•å½±çŸ©é˜µ"><a href="#å­ç©ºé—´æŠ•å½±ä¸æŠ•å½±çŸ©é˜µ" class="headerlink" title="å­ç©ºé—´æŠ•å½±ä¸æŠ•å½±çŸ©é˜µ"></a>å­ç©ºé—´æŠ•å½±ä¸æŠ•å½±çŸ©é˜µ</h2><p>å…ˆè€ƒè™‘ä¸€ç»´çš„æƒ…å†µ</p>
<p><img src='1dproj.bmp' width='600' title='ä¸€ç»´æŠ•å½±æƒ…å†µ'></p>
<script type="math/tex; mode=display">
å‘é‡BæŠ•å½±è‡³å‘é‡Aæ‰€åœ¨ç›´çº¿ \\[4px]
E = B - P ä¸ºè¯¯å·®å‘é‡\\[4px]
P = Ax, xæ˜¯æ ‡é‡\\[4px]
ç”±äºEä¸Aå‚ç›´æˆ–è€…è¯´æ­£äº¤\\[4px]
E^{T}A=0 \rightarrow (B-Ax)^{T}A=0 \\[4px]
 B^{T}A - xA^{T}A = 0 \rightarrow x = \frac{B^{T}A}{A^{T}A}\\[4px]
 P = xA = Ax = A\frac{A^TB}{A^TA} = Proj*B</script><p>å¯¹ä¸€ç»´åœºæ™¯æ¥è¯´$A^TB=B^TA$ï¼Œå¹¶ä¸”å¯ä»¥ç”¨æŠ•å½±çŸ©é˜µ$Proj$æ¥ä¸å‘é‡$B$ç›¸ä¹˜å¾—åˆ°æŠ•å½±çš„é‡</p>
<p>å†æ¥çœ‹ä¸€ä¸‹äºŒç»´ä¹ƒè‡³Nç»´çš„æƒ…å†µ</p>
<p><img src='2dproj.bmp' width='600' title='äºŒç»´å¹³é¢æŠ•å½±çš„æƒ…å†µ' ></p>
<p>è¿™é‡Œ$A_1$å’Œ$A_2$ä¸¤ä¸ªå‘é‡ç»„æˆäº†å¹³é¢ï¼Œ$B$å‘é‡è¦æŠ•å½±åˆ°è¿™ä¸ªå¹³é¢ç©ºé—´é‡Œï¼ŒæŒ‰ç…§ä¸Šè¿°çš„ä¸€ç»´æ­£äº¤æƒ…å†µï¼Œå‡è®¾æŠ•å½±åçš„å‘é‡$P$ç”¨$A1ï¼ŒA2$è¡¨ç¤ºä¸º$P = c_1A_1+c_2A_2$,æˆ‘ä»¬å¯ä»¥è¿…é€Ÿå†™å‡ºå¦‚ä¸‹æ–¹ç¨‹</p>
<script type="math/tex; mode=display">
A1^{T}(B-(c_1A_1+c_2A_2))=0\\\\
A2^{T}(B-(c_1A_1+c_2A_2))=0\\\\</script><p>ä»¥ä¸Šä¸¤ä¸ªå‘é‡æ­£äº¤çš„è¡¨è¾¾åŒ–æˆçŸ©é˜µå½¢å¼å¯ä»¥ç”¨å¹³é¢å¯¹åº”çš„åˆ—ç©ºé—´çš„çŸ©é˜µAæ¥è¡¨ç¤º</p>
<script type="math/tex; mode=display">
A^T(B-Ax)=0</script><p>ç»è¿‡ä¸€ç•ªç§»é¡¹ä¹˜é€†çŸ©é˜µæ•´ç†</p>
<script type="math/tex; mode=display">
P = Ax =A(A^TA)^{-1} A^TB = Proj*B</script><p>é‚£ä¹ˆè¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†äºŒç»´ä¹ƒè‡³æ‰©å±•åˆ°å¤šç»´ç©ºé—´ä¸Šçš„æŠ•å½±è¡¨è¾¾å¼<br>é‚£ä¹ˆè¿™ç§æŠ•å½±çš„ç”¨å¤„æ˜¯ä»€ä¹ˆå‘¢?</p>
<p>å¯¹äº$Ax=B$, å¯¹äºAæ˜¯ç˜¦é•¿çŸ©é˜µçš„æƒ…å½¢ä¸‹, å¸¸å¸¸æ²¡æœ‰è§£, ä¹Ÿå°±æ˜¯Bä¸åœ¨Açš„åˆ—ç©ºé—´é‡Œé¢, é‚£ä¹ˆè¿™æ—¶å€™, æˆ‘ä»¬æŠŠBæŠ•å½±åˆ°Açš„åˆ—ç©ºé—´é‡Œé¢, å¯ä»¥å¾—åˆ°ä¸€ä¸ªåˆ—ç©ºé—´é‡Œæœ€åƒBçš„å‘é‡, ä¹Ÿå°±è¿‘ä¼¼è§£å‡ºx</p>
<blockquote>
<p>è¿™é‡Œä¸èƒ½å±•å¼€æ±‚é€†æ‹¬å·ï¼Œå› $A$ä¼šå­˜åœ¨ä¸å¯é€†çš„æƒ…å†µ, å¦‚æœå¯é€†äº†å½“ç„¶å¯ä»¥å±•å¼€, é‚£ä¹ˆå°±ç›¸å½“äºæŠŠBæŠ•å½±åˆ°ä¸€ä¸ª$R^N$çš„ç©ºé—´é‡Œ, åªä¼šå¾—åˆ°ä»–è‡ªå·±</p>
</blockquote>
<p>è¿™é‡Œçš„æŠ•å½±çŸ©é˜µå…·æœ‰$Proj^2 = Proj$çš„æ€§è´¨, å±•å¼€å³å¯éªŒè¯</p>
<h2 id="æ­£äº¤çŸ©é˜µä¸Gram-Schmitæ­£äº¤åŒ–"><a href="#æ­£äº¤çŸ©é˜µä¸Gram-Schmitæ­£äº¤åŒ–" class="headerlink" title="æ­£äº¤çŸ©é˜µä¸Gram-Schmitæ­£äº¤åŒ–"></a>æ­£äº¤çŸ©é˜µä¸Gram-Schmitæ­£äº¤åŒ–</h2><h3 id="æ­£äº¤çŸ©é˜µçš„åŸºæœ¬å®šä¹‰"><a href="#æ­£äº¤çŸ©é˜µçš„åŸºæœ¬å®šä¹‰" class="headerlink" title="æ­£äº¤çŸ©é˜µçš„åŸºæœ¬å®šä¹‰"></a>æ­£äº¤çŸ©é˜µçš„åŸºæœ¬å®šä¹‰</h3><p>æ­£äº¤çŸ©é˜µçš„å®šä¹‰æ˜¯, å…¶ä¸­åŒ…å«çš„åˆ—å‘é‡ä¸¤ä¸¤æ­£äº¤(orthonormal vectors)åŒæ—¶æ¯ä¸ªå‘é‡çš„äºŒèŒƒæ•°ä¸º1</p>
<p>æ­£äº¤çŸ©é˜µ(ç¬¦å·ä¸ºQ, orthogonal matrix)èƒ½å¤Ÿå¸¦æ¥å¾ˆå¤šä¼˜è‰¯çš„æ€§è´¨,æ¯”å¦‚è¯´å½“Qæ˜¯ä¸€ä¸ªæ–¹é˜µçš„æ—¶å€™$Q^TQ=I$, å†æ¯”å¦‚Qçš„æŠ•å½±çŸ©é˜µæ˜¯$Q(Q^TQ)^{-1}Q^T = QQ^T$, å½¢å¼ä¼šæ¯”è¾ƒç®€å•, å†æ¯”å¦‚å¯¹äº$Ax=b$Aæ˜¯ç˜¦é•¿çŸ©é˜µæ—¶, å¦‚æœAæ˜¯ä¸€ä¸ªæ­£äº¤çŸ©é˜µ, ä¸¤è¾¹å¯ä»¥å·¦ä¹˜Aè½¬ç½®, å·¦è¾¹å¯ä»¥ç›´æ¥åŒ–ä¸ºå•ä½çŸ©é˜µ</p>
<script type="math/tex; mode=display">
A^TA\hat{x}=A^Tb \\\\
\hat{x} = A^Tb</script><p>åŒæ—¶, $\hat{x}$åœ¨ç¬¬$i$ä¸ªç»´åº¦ä¸Šçš„æŠ•å½±å°±ç­‰äº$q_i^{T}b$</p>
<h3 id="Gram-Schmitæ–¹æ³•"><a href="#Gram-Schmitæ–¹æ³•" class="headerlink" title="Gram-Schmitæ–¹æ³•"></a>Gram-Schmitæ–¹æ³•</h3><p>Gramè´Ÿè´£æ±‚è§£å‡ºæ–¹å‘æ»¡è¶³è¦æ±‚çš„vector, Schmitè´Ÿè´£æŠŠè¯¥å‘é‡çš„èŒƒæ•°å˜æˆ1(å°±æ˜¯é™¤ä»¥èŒƒæ•°å€¼å³å¯)</p>
<p>å‡è®¾ç°åœ¨æœ‰a, bä¸¤ä¸ªå‘é‡,é‚£ä¹ˆè®©ä»–ä»¬å˜æˆorthonormal vectorçš„æ–¹æ³•å°±æ˜¯Gram-Schmit, aåªéœ€è¦ä¿æŒåŸæ¥çš„æ–¹å‘ä¸å˜ä¸ºaâ€™, bå‡å»åœ¨aä¸Šçš„æŠ•å½±å¾—åˆ°bâ€™å°±å¯ä»¥åšåˆ°ä¸aæ­£äº¤, ä¹‹åå†æŠŠaâ€™å’Œbâ€™è¿›è¡Œschmitå˜æ¢å°±å¯ä»¥(æŠ•å½±çŸ©é˜µPå¦‚ä¸Šé¢æ‰€è®²$bâ€™=b-Pa$)</p>
<p>å¦‚æœæœ‰äº†ç¬¬ä¸‰ä¸ªå‘é‡c, ä¹Ÿæƒ³ä¸å‰ä¸¤ä¸ªæ„æˆæ­£äº¤çŸ©é˜µ, åˆ™è®©cå‡å»cåœ¨aâ€™å’Œbâ€™ä¸Šçš„æŠ•å½±, ä»¥æ­¤ç±»æ¨, æ¯ä¸€ä¸ªæ–°çš„å‘é‡éƒ½æ˜¯åŸºäºå‰è¿°æ­£äº¤åŸºå‘é‡æ¥å¾—åˆ°çš„</p>
<p><strong>è¿™éƒ¨åˆ†éœ€è¦çœ‹è¯¾æœ¬å†å¥½å¥½å­¦ä¸€å­¦å•Š</strong></p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>çº¿æ€§ä»£æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>MITLinearAlgebra(3)</title>
    <url>/2020/11/13/MITLinearAlgebra-3/</url>
    <content><![CDATA[<p>MITçº¿æ€§ä»£æ•°ç¬”è®°çš„ç¬¬ä¸‰éƒ¨åˆ†</p>
<ul>
<li>è¡Œåˆ—å¼</li>
<li>å…‹æ‹‰é»˜æ³•åˆ™,é€†çŸ©é˜µ,ä½“ç§¯</li>
<li>ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡</li>
<li>å¯¹è§’åŒ–å’ŒAçš„å¹‚</li>
<li>å¾®åˆ†æ–¹ç¨‹, exp(At)</li>
<li>é©¬å°”å¯å¤«çŸ©é˜µ,å‚…é‡Œå¶çº§æ•°</li>
</ul>
<a id="more"></a>
<p>å®Œæ•´é“¾æ¥:<br><a href="/2020/09/27/MITLinearAlgebra/" title="MITLinearAlgebra">MITLinearAlgebra</a><br><a href="/2020/11/13/MITLinearAlgebra-2/" title="MITLinearAlgebra(2)">MITLinearAlgebra(2)</a><br><a href="/2020/11/13/MITLinearAlgebra-3/" title="MITLinearAlgebra(3)">MITLinearAlgebra(3)</a><br><a href="/2021/03/17/MITLinearAlgebra-4/" title="MITLinearAlgebra-4">MITLinearAlgebra-4</a></p>
<h2 id="è¡Œåˆ—å¼ä¸ä»£æ•°ä½™å­å¼"><a href="#è¡Œåˆ—å¼ä¸ä»£æ•°ä½™å­å¼" class="headerlink" title="è¡Œåˆ—å¼ä¸ä»£æ•°ä½™å­å¼"></a>è¡Œåˆ—å¼ä¸ä»£æ•°ä½™å­å¼</h2><p>é¦–å…ˆæ˜ç¡®å­¦ä¹ è¡Œåˆ—å¼çš„æ„ä¹‰ï¼šä¸ºäº†åç»­è®¡ç®—ç‰¹å¾å€¼åšé“ºå«</p>
<p>$detA$ç”¨äºè¡¨ç¤ºAçš„è¡Œåˆ—å¼</p>
<p>ç›®å‰æˆ‘ä»¬å·²çŸ¥çš„æ˜¯ï¼Œè¡Œåˆ—å¼å¯ä»¥ç”¨æ¥åæ˜ å¯é€†æ€§ï¼ˆinvertibilityï¼‰,è¡Œåˆ—å¼ç­‰äº0ä»£è¡¨çŸ©é˜µ(æ–¹é˜µ)ä¸å¯é€†</p>
<p>ä»è¡Œåˆ—å¼çš„è‹¥å¹²ä¸ªæ€§è´¨å¼€å§‹ï¼š</p>
<ol>
<li>å•ä½çŸ©é˜µçš„è¡Œåˆ—å¼ç­‰äº1</li>
<li>äº¤æ¢çŸ©é˜µçš„è¡Œrow exchange,è¡Œåˆ—å¼çš„å€¼çš„ç¬¦å·ä¼šç›¸åinverse sign of det ç”±æ­¤å¯ä»¥æ¨å‡ºç½®æ¢çŸ©é˜µ(permutation matrices)çš„è¡Œåˆ—å¼ä¸º1æˆ–è€…-1</li>
<li>è¡Œåˆ—å¼å¯ä»¥å¯¹<strong>æŸä¸€è¡Œè¿›è¡Œçº¿æ€§ç»„åˆ</strong><ol>
<li>å¯¹è¡Œåˆ—å¼çš„æ•°ä¹˜ç­‰äºå¯¹æŸä¸€è¡Œå•ç‹¬çš„ä¹˜ç§¯</li>
<li>è¡Œåˆ—å¼ç›¸åŠ ç­‰äºæŸä¸€è¡ŒåŠ ä¸€èµ·è€Œéæ‰€æœ‰è¡ŒåŠ ä¸€èµ·<br><img src='detcom.png' width='500' title='è¡Œåˆ—å¼æ€§è´¨3'></li>
</ol>
</li>
</ol>
<p>æ‰©å±•æ€§è´¨:</p>
<ol>
<li>ä¸¤è¡Œç›¸ç­‰åˆ™è¡Œåˆ—å¼ä¸º0</li>
<li>æ¶ˆå…ƒæ³•æ—¶,å¯¹è¡Œkå‡å»jå€è¡Œi,è¡Œåˆ—å¼ä¸å˜</li>
<li>æŸä¸€è¡Œä¸ºé›¶å‘é‡,è¡Œåˆ—å¼ä¸º0</li>
<li>upper triangular matrixä¸Šä¸‰è§’çŸ©é˜µçš„è¡Œåˆ—å¼ç­‰äºå¯¹è§’å…ƒç´ ä¹˜ç§¯</li>
<li>å½“ä¸”ä»…å½“çŸ©é˜µAæ˜¯singular(not invertible)çš„æ—¶å€™,è¡Œåˆ—å¼ä¸º0</li>
<li>$detAB = detA\times detB$å¯ä»¥ç›´æ¥çš„æ¨å¯¼å‡ºé€†çŸ©é˜µçš„è¡Œåˆ—å¼</li>
<li>è½¬ç½®ä¹‹åè¡Œåˆ—å¼çš„å€¼ä¸å˜(åˆ—äº¤æ¢ä¹Ÿå¯ä»¥æ”¹å˜ç¬¦å·)</li>
</ol>
<p>ä»£æ•°ä½™å­å¼cofactor</p>
<p>æ¯ä¸€ä¸ªè¡Œåˆ—å¼å¯ä»¥è¢«åˆ†è§£ä¸º$N^2$ä¸ªå•ç‹¬çš„è¡Œåˆ—å¼,æ¯ä¸ªéé›¶è¡Œåˆ—å¼çš„æ¯è¡Œæ¯åˆ—éƒ½åªæœ‰ä¸€ä¸ªå…ƒç´ ,å› æ­¤æ¯ä¸ªè¡Œåˆ—å¼å¯ä»¥å¾—åˆ°$N!$ä¸ªéé›¶çš„åŸºç¡€è¡Œåˆ—å¼</p>
<p>$det A= \sum \pm a<em>{1\alpha}a</em>{2\beta}a<em>{3\gamma}â€¦a</em>{n\omega}$</p>
<p>ä»¥ä¸Šå°±æ˜¯è¡Œåˆ—å¼çš„å…¬å¼,ä»£æ•°ä½™å­å¼$C<em>{ij}$<br>$cofactor of a</em>{ij}$æŒ‡çš„æ˜¯å…¶ä¸­åŒ…å«$a_{ij}$çš„é¡¹ç›®,ä¹Ÿå°±æ˜¯æŠŠiè¡Œå’Œjåˆ—é€‰å®šçš„é¡¹, è¡Œåˆ—å¼æ˜¯å¦ä¸ºæ­£å–å†³äº$i+j$çš„æ­£è´Ÿ</p>
<p>è¡Œåˆ—å¼çš„å¦ä¸€ç§è®¡ç®—æ–¹å¼å°±æ˜¯æŠŠæŸä¸€è¡Œçš„å…ƒç´ ä¹˜ä»¥ä»–ä»¬çš„ä»£æ•°ä½™å­å¼çš„å’Œ<br>$det A = a<em>{11}C</em>{11}+a<em>{12}C</em>{12}+a<em>{13}C</em>{13}$</p>
<h2 id="å…‹æ‹‰é»˜æ³•åˆ™ä¸é€†çŸ©é˜µå’Œä½“ç§¯"><a href="#å…‹æ‹‰é»˜æ³•åˆ™ä¸é€†çŸ©é˜µå’Œä½“ç§¯" class="headerlink" title="å…‹æ‹‰é»˜æ³•åˆ™ä¸é€†çŸ©é˜µå’Œä½“ç§¯"></a>å…‹æ‹‰é»˜æ³•åˆ™ä¸é€†çŸ©é˜µå’Œä½“ç§¯</h2><h2 id="ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡"><a href="#ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡" class="headerlink" title="ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡"></a>ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡</h2><p>å®šä¹‰å¼éå¸¸ç†Ÿæ‚‰äº†</p>
<script type="math/tex; mode=display">
Ax = \lambda x</script><ul>
<li>ç‰¹å¾å€¼çš„å’Œç­‰äºçŸ©é˜µçš„<strong>è¿¹</strong></li>
<li>ç‰¹å¾å€¼çš„ä¹˜ç§¯ç­‰äºçŸ©é˜µçš„<strong>è¡Œåˆ—å¼</strong></li>
</ul>
<p>æŠ•å½±çŸ©é˜µçš„ç‰¹å¾å‘é‡ï¼Œåˆ†ä¸ºåœ¨æŠ•å½±å¹³é¢ä¸Šçš„æ‰€æœ‰å‘é‡å’Œå‚ç›´äºæŠ•å½±å¹³é¢çš„å‘é‡</p>
<p>æ±‚è§£æ–¹å¼å°±æ˜¯ç§»é¡¹åè¡Œåˆ—å¼$det(A-\lambda I)=0$ï¼Œå¯èƒ½ä¼šå‡ºç°é‡æ ¹ï¼Œé‡æ ¹æ¯”è¾ƒéº»çƒ¦ï¼ˆè€å¸ˆåŸè¯ï¼šé‡æ ¹æ˜¯18.06ç—›è‹¦çš„æ ¹æºï¼‰</p>
<p>ç‰¹å¾å‘é‡æ˜¯ä¸Šé¢é‚£ä¸ªç§»é¡¹åçŸ©é˜µçš„é›¶ç©ºé—´æˆå‘˜ï¼ˆé›¶å‘é‡æœ‰å¾ˆå¤šï¼Œåªéœ€è¦åˆ—å‡ºæ¥ä¸€ä¸ªï¼‰</p>
<p>ä¸€ä¸ªæ€§è´¨ï¼šå¦‚æœç»™å®šçš„çŸ©é˜µAåŠ ä¸Šè‹¥å¹²ä¸ªï¼Œä¾‹å¦‚mä¸ªå•ä½çŸ©é˜µï¼Œåˆ™ç‰¹å¾å‘é‡ä¸å˜ï¼Œä½†æ˜¯æ‰€æœ‰ç‰¹å¾å€¼éƒ½ä¼šåŒæ­¥åŠ ä¸Šm</p>
<ul>
<li><p>å½“ç³»æ•°çŸ©é˜µæ˜¯æ—‹è½¬çŸ©é˜µï¼ˆè¡Œåˆ—å¼ä¸º1çš„æ­£äº¤çŸ©é˜µï¼‰çš„æ—¶å€™ï¼Œå®ƒçš„ç‰¹å¾å€¼è®¡ç®—ä¼šå‡ºç°<strong>å¤æ•°</strong>ï¼Œåå¯¹ç§°çš„çŸ©é˜µç‰¹å¾å€¼æ˜¯çº¯è™šæ•°ï¼Œå¯¹ç§°çš„çŸ©é˜µç‰¹å¾å€¼æ˜¯å®æ•°</p>
</li>
<li><p>ä¸Šä¸‰è§’çŸ©é˜µçš„å¯¹è§’çº¿å…ƒç´ å°±æ˜¯ç‰¹å¾å€¼ï¼Œé€€åŒ–çŸ©é˜µï¼Œ2x2çš„çŸ©é˜µåªæœ‰ä¸€ä¸ªç‰¹å¾å‘é‡</p>
</li>
</ul>
<h2 id="å¯¹è§’åŒ–å’ŒAçš„å¹‚"><a href="#å¯¹è§’åŒ–å’ŒAçš„å¹‚" class="headerlink" title="å¯¹è§’åŒ–å’ŒAçš„å¹‚"></a>å¯¹è§’åŒ–å’ŒAçš„å¹‚</h2><p>å¦‚æœAçŸ©é˜µæœ‰nä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡ï¼Œç»„æˆç‰¹å¾å‘é‡çŸ©é˜µS</p>
<script type="math/tex; mode=display">
AS = S\Lambda</script><p>å¯¹è§’åŒ–çŸ©é˜µçš„å…ƒç´ å°±æ˜¯æ¯ä¸ªç‰¹å¾å€¼</p>
<ul>
<li>å¯¹è§’åŒ–ä¹‹åå¯ä»¥å¾ˆæ–¹ä¾¿çš„æ±‚Açš„å¹‚</li>
<li>æ‰€æœ‰çš„ç‰¹å¾å€¼ç»å¯¹å€¼å°äº1æ˜¯ä¸€ä¸ªä½¿å¾—çŸ©é˜µå¹‚â€œç¨³å®šâ€çš„æ¡ä»¶ï¼Œå³ç»“æœä¼šè¶‹å‘äº0</li>
</ul>
<p>é‚£ä¹ˆå“ªäº›çŸ©é˜µå¯ä»¥å¯¹è§’åŒ–ï¼Ÿ<br>å³å¦‚ä½•ç¡®ä¿çŸ©é˜µå¿…ç„¶æœ‰nä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡ï¼Ÿ</p>
<ul>
<li>æ‰€æœ‰çš„ç‰¹å¾å€¼ä¸åŒ</li>
</ul>
<p>æ–æ³¢é‚£å¥‘æ•°åˆ—å¯ä»¥å†™æˆçŸ©é˜µçš„å½¢å¼ï¼Œå¢é•¿é€Ÿåº¦ç”±ç‰¹å¾å€¼çš„æœ€å¤§å€¼å†³å®š</p>
<script type="math/tex; mode=display">
u_{k+1} = Au_k</script><p>å¯ä»¥å†™æˆå·®åˆ†æ–¹ç¨‹å½¢å¼</p>
<script type="math/tex; mode=display">
[F_{k+2} , F_{k+1}]^T = A [F_{k+1} , F_k]^T</script><p>æ±‚è§£Açš„ç‰¹å¾å€¼å°±çŸ¥é“æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å¢é•¿é€Ÿåº¦äº†</p>
<h2 id="å¾®åˆ†æ–¹ç¨‹å’Œexp-A"><a href="#å¾®åˆ†æ–¹ç¨‹å’Œexp-A" class="headerlink" title="å¾®åˆ†æ–¹ç¨‹å’Œexp(A)"></a>å¾®åˆ†æ–¹ç¨‹å’Œexp(A)</h2><script type="math/tex; mode=display">
\frac{du}{dt}=Au</script><p>è§£ç­‰äºæŒ‡æ•°çš„ç‰¹å¾å€¼çš„ç»„åˆï¼ˆ//TODOï¼‰</p>
<p>exp(At)å¯ä»¥è¿›è¡Œæ³°å‹’å±•å¼€ï¼Œå¦‚æœAå¯ä»¥å¯¹è§’åŒ–ï¼Œè¿˜å¯ä»¥å†™æˆ<br>$Se^{\Lambda t}S^{-1}$</p>
<h2 id="é©¬å°”å¯å¤«çŸ©é˜µï¼Œå‚…é‡Œå¶çº§æ•°"><a href="#é©¬å°”å¯å¤«çŸ©é˜µï¼Œå‚…é‡Œå¶çº§æ•°" class="headerlink" title="é©¬å°”å¯å¤«çŸ©é˜µï¼Œå‚…é‡Œå¶çº§æ•°"></a>é©¬å°”å¯å¤«çŸ©é˜µï¼Œå‚…é‡Œå¶çº§æ•°</h2><p>åº”ç”¨å±‚é¢</p>
<p>é©¬å°”å¯å¤«çŸ©é˜µï¼š</p>
<ol>
<li>æ‰€æœ‰çš„å…ƒç´ å¤§äº0</li>
<li>æ‰€æœ‰åˆ—å…ƒç´ åŠ èµ·æ¥ç­‰äº1</li>
<li>æ‰€æœ‰çŸ©é˜µçš„å¹‚ä»æ˜¯é©¬å°”å¯å¤«çŸ©é˜µ</li>
</ol>
<h2 id="å¯¹ç§°çŸ©é˜µ"><a href="#å¯¹ç§°çŸ©é˜µ" class="headerlink" title="å¯¹ç§°çŸ©é˜µ"></a>å¯¹ç§°çŸ©é˜µ</h2><p>symmetric matrix</p>
<script type="math/tex; mode=display">A^T = A</script><p>å®å¯¹ç§°çŸ©é˜µæœ‰è¾ƒå¥½çš„æ€§è´¨:</p>
<ol>
<li>å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼éƒ½æ˜¯å®æ•°</li>
<li><strong>èƒ½å¤ŸæŒ‘é€‰å‡º</strong>å®Œå…¨æ­£äº¤çš„ä¸€ç»„ç‰¹å¾å‘é‡ï¼Œè¿™ç»„ç»è¿‡æŒ‘é€‰å¾—åˆ°çš„å‘é‡å¯ä»¥ç»„æˆ<strong>æ­£äº¤çŸ©é˜µ</strong></li>
</ol>
<p>ä»ç¬¬äºŒæ¡å¯ä»¥å¾—åˆ°å¯¹ç§°çŸ©é˜µçš„<strong>è°±å®šç†</strong></p>
<script type="math/tex; mode=display">A = Q\Lambda Q^{-1}= Q\Lambda Q^T</script><p>è¿™ä¸ªå®šç†ååˆ†é‡è¦ï¼Œåœ¨ç‰©ç†ä¸Šè¢«å«åšä¸»è½´å®šç†</p>
<p>æ ¹æ®è°±å®šç†ï¼Œå¦‚æœæŠŠæ­£äº¤çŸ©é˜µå†™æˆä¸€ç¾¤åˆ—å‘é‡ï¼Œåˆ™å¯ä»¥æŠŠä¸Šé¢çš„å…¬å¼å±•å¼€æˆnä¸ª<strong>æŠ•å½±çŸ©é˜µ</strong>çš„å’Œ</p>
<script type="math/tex; mode=display">A = q_1\lambda_1q^T_1 + .... + q_n\lambda_1q^T_n</script><p>å®å¯¹ç§°çŸ©é˜µè¿˜æœ‰ä¸€æ¡æ¯”è¾ƒé‡è¦çš„æ€§è´¨ï¼šçŸ©é˜µä¸»å…ƒä¸­positiveçš„æ•°é‡ç­‰äºç‰¹å¾å€¼ä¸­positiveçš„æ•°é‡</p>
<p>ç‰¹å¾å€¼å…¨ä¸ºæ­£æ•°çš„å¯¹ç§°çŸ©é˜µæ˜¯<strong>æ­£å®šçŸ©é˜µ</strong>ä¸­é‡è¦çš„ä¸€ç±»ï¼Œå…³äºæ­£å®šçŸ©é˜µä¼šåœ¨åé¢è¿›è¡Œæ›´è¯¦ç»†çš„è®¨è®º</p>
<h2 id="æ­£å®šçŸ©é˜µå’Œæœ€å°å€¼"><a href="#æ­£å®šçŸ©é˜µå’Œæœ€å°å€¼" class="headerlink" title="æ­£å®šçŸ©é˜µå’Œæœ€å°å€¼"></a>æ­£å®šçŸ©é˜µå’Œæœ€å°å€¼</h2><p>æ­£å®šçŸ©é˜µæœ‰å‡ ç§åˆ¤å®šçš„æ¡ä»¶ï¼Œæ­£å®šçŸ©é˜µå®šä¹‰åœ¨å¯¹ç§°çŸ©é˜µä¹‹ä¸Š</p>
<ol>
<li>çŸ©é˜µæ‰€æœ‰çš„ä¸»å…ƒå¤§äº0</li>
<li>çŸ©é˜µæ‰€æœ‰çš„ç‰¹å¾å€¼å¤§äº0</li>
<li>çŸ©é˜µçš„å„é˜¶ä¸»å­å¼è¡Œåˆ—å¼å€¼å¤§äº0</li>
<li>$x^TAx$æ’å¤§äºé›¶</li>
</ol>
<p>ç¬¬å››ç‚¹æ˜¯æ¯”è¾ƒæ¥è¿‘<strong>æ­£å®š</strong>å®šä¹‰çš„ä¸€ç§åˆ¤å®šæ–¹å¼ï¼Œå®ƒåæ˜ äº†ä»¥å®ƒä¸ºäºŒæ¬¡å‹çŸ©é˜µæ—¶ï¼Œf(x)å‡½æ•°å€¼æ’å¤§äº0çš„æƒ…å½¢ï¼Œè¿›ä¸€æ­¥è¿™ä¸ªf(x)çš„åå¯¼æ•°çŸ©é˜µï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªçŸ©é˜µA</p>
<p>å¦‚æœå°†f(x)è¿›è¡Œé…å‡‘ï¼Œå¾—åˆ°äºŒæ¬¡é¡¹ä¹‹å’Œï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªäºŒæ¬¡é¡¹å‰é¢çš„ç³»æ•°éƒ½æ˜¯ä¸»å…ƒï¼Œè¿™ä¹Ÿæ˜¯ä¸»å…ƒã€ç‰¹å¾å€¼ä½œä¸ºåˆ¤å®šæ¡ä»¶çš„åŸå› </p>
<p>å¯¹äºéæ­£å®šçš„çŸ©é˜µï¼Œå½¢æˆçš„äºŒæ¬¡å‹çš„å›¾åƒä¼šåœ¨åŸç‚¹å½¢æˆä¸€ä¸ªéç‚¹saddle pointï¼Œéç‚¹ä¸åŒæ–¹å‘çš„æ¢¯åº¦æ­£è´Ÿä¸åŒã€‚è€Œå¯¹äºæ­£å®šçŸ©é˜µå¯¹åº”çš„äºŒæ¬¡å‹å‡½æ•°çš„å›¾å½¢ï¼Œæ˜¯ä¸€ä¸ªæŠ½è±¡çš„bowlçš„å½¢çŠ¶æˆ–è€…è¯´æ˜¯ä¸€ä¸ªæŠ›ç‰©é¢ã€‚</p>
<p>å¯¹äºå‘é‡$x$ç»´åº¦ä¸º3çš„æ—¶å€™ï¼Œbowlä¼šæŠ½è±¡ä¸ºä¸€ä¸ªæ¤­çƒï¼Œè¿™ä¸ªæ¤­çƒçš„ä¸»è½´å°±æ˜¯ç‰¹å¾å‘é‡çš„æ–¹å‘ï¼Œè¿™ä¹Ÿæ˜¯ä¸Šä¸€éƒ¨åˆ†<strong>ä¸»è½´å®šç†</strong>åå­—çš„ç”±æ¥</p>
<p>æ’æ’­ä¸€éƒ¨åˆ†æ­£å®šçŸ©é˜µçš„å†…å®¹ï¼Œæ­£å®šçŸ©é˜µçš„å®šä¹‰å¼æ¥è‡ªäºæœ€å°äºŒä¹˜é—®é¢˜ $A^TA$ ï¼Œæˆ‘ä»¬æƒ³äº†è§£å…³äºè¿™ä¸ªè¡¨è¾¾å¼çš„æ­£å®šæ€§ï¼Œ $A$ æ˜¯ä¸€ä¸ªé•¿æ–¹å½¢çŸ©é˜µï¼Œè¡Œæ•°å¤§äºåˆ—æ•°ã€‚<br>ä¸¤ä¸ªå‰ç½®ç»“è®ºï¼š</p>
<ul>
<li>ä¸€ä¸ªæ­£å®šçŸ©é˜µçš„é€†çŸ©é˜µè¿˜ä¼šæ˜¯æ­£å®šçŸ©é˜µå—ï¼Ÿæ˜¯çš„ã€‚é€†çŸ©é˜µçš„ç‰¹å¾å€¼ç­‰äºåŸçŸ©é˜µç‰¹å¾å€¼çš„å€’æ•°ï¼Œä¹Ÿå› æ­¤ä¿æŒåŒå·ï¼Œè¿›è€ŒåŒæ ·æ»¡è¶³æ­£å®šçŸ©é˜µç‰¹å¾å€¼éƒ½ä¸ºæ­£çš„åˆ¤å®šæ¡ä»¶ã€‚</li>
<li>ä¸¤ä¸ªæ­£å®šçŸ©é˜µçš„å’Œä¹Ÿä»ç„¶æ˜¯æ­£å®šçŸ©é˜µã€‚<br>ä½¿ç”¨æ­£å®šçŸ©é˜µçš„å®šä¹‰å¼åˆ¤æ–­$A^TA$<script type="math/tex; mode=display">
x^T(A^TA)x = (Ax)^TAx = \|Ax\|^2 \ge 0</script></li>
</ul>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>çº¿æ€§ä»£æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Embedded Linux System</title>
    <url>/2020/11/28/Embedded-Linux-System/</url>
    <content><![CDATA[<p>åµŒå…¥å¼Linuxç³»ç»Ÿçš„ä¸€äº›æ¦‚å¿µï¼Œåšä¸€äº›è®°å½•ï¼Œå†…å®¹æ¥æºäºLinux Foundation Instructor John Bonesioçš„ç³»åˆ—æ–‡ç« ã€‚<br><a href="https://thenewstack.io/an-introduction-to-using-linux-in-embedded-systems/" target="_blank" rel="noopener">https://thenewstack.io/an-introduction-to-using-linux-in-embedded-systems/</a></p>
<a id="more"></a>
<h2 id="Major-components-for-embedded-linux-system"><a href="#Major-components-for-embedded-linux-system" class="headerlink" title="Major components for embedded linux system"></a>Major components for embedded linux system</h2><p>ä»‹ç»åµŒå…¥å¼Linuxç³»ç»Ÿä¸­çš„ç›¸å…³ç»„ä»¶ï¼Œè¿™é‡Œé¢bootloaderå¸¸å¸¸ä¸ç®—åšLinuxç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œè€Œè¢«è§†ä½œå¸¸è§„åµŒå…¥å¼ç³»ç»Ÿçš„å†…å®¹</p>
<h3 id="bootloader"><a href="#bootloader" class="headerlink" title="bootloader"></a>bootloader</h3><p>bootæ¥è‡ªäºä¸€ä¸ªç¬‘è¯</p>
<blockquote>
<p>pick yourself up by your bootstraps</p>
</blockquote>
<p><strong>bootloader: find the Linux kernalâ€™s program code, and load it into the memory</strong></p>
<p>the bootloader is different from what in desktop or server computer.</p>
<ul>
<li>desktop: BIOS â€”&gt; grub(bootloader) â€”&gt; os</li>
<li>embedded: init â€”&gt; Das-uboot(bootloader) â€”&gt; os</li>
</ul>
<p>Question: why we need bootloader? why canâ€™t the os loaded itself into the memeory<br>Answer: for flexibility, without bootloader user can not set up multi-os computer</p>
<p>å¦ä¸€ç§å›ç­”è¯´ï¼Œè¿™ä¸ªé—®é¢˜æé—®çš„ç­”æ¡ˆå°±æ˜¯bootloaderçš„ä½œç”¨ï¼Œä¸Šé¢çš„å›ç­”å¯èƒ½è§£ç­”äº†ä¸ºä»€ä¹ˆosä¸æ”¾åœ¨å›ºä»¶ROMä¸Šï¼ˆä¸çµæ´»ï¼Œä¸å¯æ›´æ¢ï¼Œåœ°æ–¹ä¸å¤Ÿï¼‰</p>
<h3 id="kernal"><a href="#kernal" class="headerlink" title="kernal"></a>kernal</h3><p><strong>kernal: start the program and provide coordination among them</strong></p>
<p>the very first program: <em>init</em></p>
<p>initæä¾›ç³»ç»Ÿè¿è¡Œæ‰€å¿…é¡»çš„æœåŠ¡</p>
<p>è¿™ä¸€éƒ¨åˆ†kernalå’Œx86ä¸Šçš„åœ¨è¿è¡Œä½œç”¨ä¸Šæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½†åº•å±‚çš„å®ç°æ˜æ˜¾ä¸åŒ</p>
<h3 id="root-file-system"><a href="#root-file-system" class="headerlink" title="root file system"></a>root file system</h3><p>storage medium can be SD cards, flash memory or even RAM in embedded system<br>åœ¨initç¨‹åºè¿è¡Œä¹‹å‰ï¼Œ/æ ¹ç›®å½•å°±åº”è¯¥æŒ‚è½½å¥½ï¼Œä»¥æ”¾å†…æ ¸æ‰¾ä¸åˆ°initç¨‹åºè€Œå´©æºƒ<br>åœ¨åµŒå…¥å¼ç³»ç»Ÿä¸Šçš„Linuxæ–‡ä»¶ç³»ç»Ÿå¾ˆä¸ä¸€æ ·</p>
<h3 id="services"><a href="#services" class="headerlink" title="services"></a>services</h3><blockquote>
<p>Linux folks traditionally call these services daemons or daemon programs</p>
</blockquote>
<p>é€šè¿‡initç¨‹åºå¯åŠ¨çš„ï¼Œåœ¨åå°è¿è¡Œçš„æœåŠ¡/å®ˆæŠ¤è¿›ç¨‹</p>
<h3 id="summary"><a href="#summary" class="headerlink" title="summary"></a>summary</h3><p>when an embedded computer starts, the Linux system will perform these steps:</p>
<ul>
<li>jump into the bootloader</li>
<li>jump into the kernel</li>
<li>mount the root filesystem</li>
<li>load and run init</li>
<li>load and run background services (or daemons)</li>
<li>load and run applications</li>
</ul>
<h3 id="cross-compiler"><a href="#cross-compiler" class="headerlink" title="cross compiler"></a>cross compiler</h3><p>äº¤å‰ç¼–è¯‘ï¼šæŒ‡çš„æ˜¯ç¨‹åºç¼–è¯‘å¹³å°å’Œè¿è¡Œå¹³å°ä¸åŒ</p>
]]></content>
      <categories>
        <category>UNIX/LINUX</category>
      </categories>
      <tags>
        <tag>åµŒå…¥å¼</tag>
        <tag>UNIX/LINUX</tag>
      </tags>
  </entry>
  <entry>
    <title>MITLinearAlgebra</title>
    <url>/2020/09/27/MITLinearAlgebra/</url>
    <content><![CDATA[<p>MIT Prof. Gilbert Strang çš„å…¬å¼€è¯¾ï¼Œè®²è§£çº¿æ€§ä»£æ•°çš„çŸ¥è¯†ï¼Œè¿™é‡Œåšä¸€ä¸ªå°ç¬”è®°ï¼Œç®€å•è®°å½•æ¯ä¸ªè¯¾å ‚é‡Œçš„é‡ç‚¹ã€‚</p>
<ul>
<li>æ–¹ç¨‹ç»„çš„å‡ ä½•è§£é‡Š</li>
<li>çŸ©é˜µçš„æ¶ˆå…ƒå’ŒLUåˆ†è§£</li>
<li>åˆ—ç©ºé—´ä¸é›¶ç©ºé—´</li>
<li>æ±‚è§£Ax=b</li>
</ul>
<a id="more"></a>
<p>å®Œæ•´é“¾æ¥:<br><a href="/2020/09/27/MITLinearAlgebra/" title="MITLinearAlgebra">MITLinearAlgebra</a><br><a href="/2020/11/13/MITLinearAlgebra-2/" title="MITLinearAlgebra(2)">MITLinearAlgebra(2)</a><br><a href="/2020/11/13/MITLinearAlgebra-3/" title="MITLinearAlgebra(3)">MITLinearAlgebra(3)</a><br><a href="/2021/03/17/MITLinearAlgebra-4/" title="MITLinearAlgebra-4">MITLinearAlgebra-4</a></p>
<h2 id="æ–¹ç¨‹ç»„çš„å‡ ä½•è§£é‡Š"><a href="#æ–¹ç¨‹ç»„çš„å‡ ä½•è§£é‡Š" class="headerlink" title="æ–¹ç¨‹ç»„çš„å‡ ä½•è§£é‡Š"></a>æ–¹ç¨‹ç»„çš„å‡ ä½•è§£é‡Š</h2><p>ä»¥ä¸‰ç»´çš„æ–¹ç¨‹ç»„ä¸ºä¾‹(éšä¾¿å†™çš„)</p>
<script type="math/tex; mode=display">

5x + 4y -  z = 0\\\\</script><script type="math/tex; mode=display">
2x +  y - 3z = 1\\\\</script><script type="math/tex; mode=display">
3x - 4y - 2z =-2\\\\</script><script type="math/tex; mode=display">
A=
\begin{pmatrix}

5 & 4& -1\\
2 & 1& -3\\
3 &-4& -2\\
\end{pmatrix}</script><ul>
<li>row pictureï¼šé€è¡Œè§£é‡Šï¼Œæ»¡è¶³æ¯è¡Œæ–¹ç¨‹çš„ç‚¹åœ¨ä¸‰ç»´ç©ºé—´é‡Œèƒ½å¤Ÿå½¢æˆä¸€ä¸ªäºŒç»´çš„å¹³é¢ï¼Œä¸‰ä¸ªå¹³é¢çš„äº¤ç‚¹å°±æ˜¯æ»¡è¶³æ–¹ç¨‹ç»„çš„è§£</li>
<li>column pictureï¼šæŠŠç³»æ•°çŸ©é˜µAè§†ä½œä¸‰ä¸ªåˆ—å‘é‡ï¼ŒåŸæ–¹ç¨‹è§†ä½œä¸‰ä¸ªä¸‰ç»´åˆ—å‘é‡çš„çº¿æ€§ç»„åˆ</li>
</ul>
<script type="math/tex; mode=display">

x\begin{bmatrix}
5&\\
2&\\
3
\end{bmatrix}

+y\begin{bmatrix}
4&\\
1&\\
-4
\end{bmatrix}

+z\begin{bmatrix}
-1&\\
-3&\\
-2
\end{bmatrix}</script><p>$\color{red}{çŸ©é˜µ\timesåˆ—å‘é‡=åˆ—å‘é‡}$</p>
<p>æ˜æ˜¾ï¼Œä»¥åˆ—å‘é‡çº¿æ€§ç»„åˆçš„æ–¹å¼æ›´ç®€æ´ï¼Œæ›´ç¬¦åˆç›´è§‚è®¤è¯†ã€‚</p>
<h2 id="çŸ©é˜µæ¶ˆå…ƒ"><a href="#çŸ©é˜µæ¶ˆå…ƒ" class="headerlink" title="çŸ©é˜µæ¶ˆå…ƒ"></a>çŸ©é˜µæ¶ˆå…ƒ</h2><p>è®²è§£çš„å†…å®¹ä¸ºé«˜æ–¯æ¶ˆå…ƒæ³•ï¼Œæ€è·¯å¾ˆç®€å•ï¼Œæ‰€æ¶‰åŠåˆ°çš„éƒ½æ˜¯<strong>è¡Œå˜æ¢</strong></p>
<p>æ¶ˆå…ƒï¼š</p>
<ol>
<li>å¦‚æœ(1,1)å…ƒç´ é0ï¼Œå°†å…¶ä½œä¸ºç¬¬ä¸€åˆ—ä¸»å…ƒï¼Œä¿ç•™ç¬¬ä¸€è¡Œä¸å˜</li>
<li>é€šè¿‡çŸ©é˜µè¡ŒåŠ æ³•ï¼Œå°†ç¬¬ä¸€åˆ—å…¶ä½™å…ƒç´ å˜ä¸º0</li>
<li>æŸ¥çœ‹ç¬¬äºŒåˆ—ï¼Œè‹¥(2,2)å…ƒç´ ä¸º0ï¼Œå¯»æ‰¾éé›¶ä¸»å…ƒpivotï¼Œæ‰¾åˆ°åå°†å…¶æ‰€åœ¨è¡Œä¸ç¬¬äºŒè¡Œäº¤æ¢ï¼Œä½¿ç”¨çŸ©é˜µè¡ŒåŠ æ³•å°†å…¶ä½™è¡Œçš„ç¬¬äºŒåˆ—å…ƒç´ å˜ä¸º0</li>
<li>é‡å¤ä¸Šè¿°æ¶ˆå…ƒæ­¥éª¤ï¼Œç›´è‡³å°†Aå˜åŒ–ä¸ºä¸Šä¸‰è§’çŸ©é˜µU</li>
</ol>
<p>å›ä»£ï¼š</p>
<ol>
<li>å¯¹$Ax=b$ç­‰å¼å³ä¾§çš„$b$åˆ—å‘é‡è¿ç”¨åŒæ ·çš„ä¸Šè¿°å˜æ¢</li>
<li>å…ˆè®¡ç®—å‡ºæœ€åä¸€ç»´çš„è§£ï¼Œå†ä¾æ¬¡æ±‚è§£æ‰€æœ‰çš„å˜é‡è§£</li>
</ol>
<p>é‚£ä¹ˆä¸Šè¿°çš„è¡Œå˜æ¢è¿‡ç¨‹å¦‚ä½•ç”¨çŸ©é˜µè¡¨ç¤ºå‘¢ï¼Ÿ</p>
<p>éœ€è¦é¦–å…ˆæ˜ç¡®çš„æ˜¯ï¼Œè¡Œå˜æ¢éœ€è¦çš„æ˜¯å·¦ä¹˜ï¼Œä¸ä¸Šä¸€èŠ‚å³ä¹˜åˆ—å‘é‡å¾—åˆ°åˆ—å‘é‡ç±»ä¼¼ï¼Œæœ‰</p>
<p>$\color{red}{è¡Œå‘é‡\timesçŸ©é˜µ=è¡Œå‘é‡}$</p>
<p>ä¸€ä¸ªè¡Œå‘é‡çš„å·¦ä¹˜å°±ä»£è¡¨ä¸€æ¬¡çŸ©é˜µ$A$è¡Œå‘é‡çš„çº¿æ€§ç»„åˆï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„è¡Œå‘é‡ã€‚æ¯ä¸€æ¬¡æ¯ä¸€åˆ—çš„æ¶ˆå…ƒï¼Œå°±æ˜¯næ¬¡çš„çŸ©é˜µAè¡Œå‘é‡çš„çº¿æ€§ç»„åˆï¼Œå½¢æˆçš„æ˜¯$n$ä¸ªæ–°çš„è¡Œå‘é‡ã€‚</p>
<p>å› æ­¤ï¼Œæ¯ä¸€åˆ—çš„æ¶ˆå…ƒéƒ½æ˜¯å·¦ä¹˜ä¸€ä¸ªè·Ÿ$A$ä¸€æ ·ç»´åº¦çš„æ–¹é˜µï¼Œå¦‚æœå¯¹ä¸Šé¢çš„ä¸‰ç»´çŸ©é˜µ$A$ï¼Œå°†æ–¹é˜µçš„ä¸‹æ ‡å†™æˆæ¯æ¬¡è¦æ¶ˆå»çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä»£å·ï¼Œé‚£ä¹ˆå¯ä»¥å°†ä¸¤æ¬¡æ¶ˆå…ƒçš„æ–¹é˜µå†™ä½œ$E<em>{(2,1)}å’ŒE</em>{(3,2)}$ï¼Œä»–ä»¬çš„ä¹˜ç§¯$E$å°±æ˜¯è¿™æ¬¡è¡¨ç¤ºæ¶ˆå…ƒæ‰€éœ€è¦çš„çŸ©é˜µã€‚</p>
<script type="math/tex; mode=display">
A=
\begin{pmatrix}

5 & 4& -1\\
2 & 1& -3\\
3 &-4& -2\\
\end{pmatrix}</script><p>ä¸‹é¢ç®€è¦è¯´æ˜å…¶ä¸­ä¸€ä¸ªæ–¹é˜µçš„ä¹¦å†™æ€è·¯ï¼Œä¹Ÿå°±æ˜¯çº¿æ€§ç»„åˆçš„æ€è·¯</p>
<script type="math/tex; mode=display">
E_{(2,1)}ç¬¬ä¸€è¡Œè´Ÿè´£è®¡ç®—æ–°çŸ©é˜µçš„ç¬¬ä¸€è¡Œ\\ä¿æŒä¸å˜æ‰€ä»¥æ˜¯{1ï¼Œ0ï¼Œ0},ä»¥æ­¤ç±»æ¨\\æ–°ç¬¬äºŒè¡Œæ˜¯æ—§çš„ç¬¬äºŒè¡Œå‡å»0.4å€çš„ç¬¬ä¸€è¡Œ\\æ–°ç¬¬ä¸‰è¡Œæ˜¯æ—§ç¬¬ä¸‰è¡Œå‡å»0.6å€çš„æ—§ç¬¬ä¸€è¡Œ\\
E_{(2,1)}=
\begin{pmatrix}

1 & 0&  0\\
-0.4 & 1& 0\\
-0.6 &0& 1\\
\end{pmatrix}</script><p>ä¸Šè¿°æ˜¯è¡Œå˜æ¢çš„çŸ©é˜µï¼Œå¦‚æœéœ€è¦è®¡ç®—åˆ—å˜æ¢å¯¹åº”çš„çŸ©é˜µï¼Œå’Œä¸Šé¢çš„æ€è·¯æ˜¯ä¸€è‡´çš„ï¼Œåªä¸è¿‡çŸ©é˜µå˜æˆäº†å³ä¹˜ã€‚</p>
<p><strong><em>çŸ©é˜µæ¶ˆå…ƒæ³•ä¹Ÿä¼šæœ‰å¤±è´¥çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯æœ€åå‘ç°æŸä¸€åˆ—æ‰¾ä¸åˆ°ä¸»å…ƒå…ƒç´ äº†ï¼Œå³å‰©ä½™çš„å…ƒç´ éƒ½æ˜¯0</em></strong></p>
<p><em>ä¸€èˆ¬ä¸ä¼šå»ç›´æ¥è®¡ç®—Eï¼Œè€Œæ˜¯å»è®¡ç®—å„æ–¹é˜µçš„é€†</em>ï¼ˆåŸå› å¥½åƒæ²¡è§£é‡Šï¼‰</p>
<h2 id="çŸ©é˜µçš„ä¹˜æ³•å’Œé€†çŸ©é˜µ"><a href="#çŸ©é˜µçš„ä¹˜æ³•å’Œé€†çŸ©é˜µ" class="headerlink" title="çŸ©é˜µçš„ä¹˜æ³•å’Œé€†çŸ©é˜µ"></a>çŸ©é˜µçš„ä¹˜æ³•å’Œé€†çŸ©é˜µ</h2><h3 id="ä¹˜æ³•"><a href="#ä¹˜æ³•" class="headerlink" title="ä¹˜æ³•"></a>ä¹˜æ³•</h3><script type="math/tex; mode=display">A\times B=C</script><p>çŸ©é˜µä¹˜æ³•çš„å››ç§æ–¹æ³•ï¼š</p>
<ol>
<li>ç‚¹ä¹˜å¯¹åº”Aè¡ŒBåˆ—å¾—åˆ°Cä¸­çš„æŸä¸€ä¸ªå…ƒç´ </li>
<li>Aä¸­åˆ—å‘é‡çš„çº¿æ€§ç»„åˆï¼ŒAåˆ†åˆ«ä¸Bä¸­æ¯ä¸ªåˆ—å‘é‡ç›¸ä¹˜</li>
<li>Bä¸­è¡Œå‘é‡çš„çº¿æ€§ç»„åˆï¼ŒBåˆ†åˆ«ä¸Aä¸­æ¯ä¸ªè¡Œå‘é‡ç›¸ä¹˜</li>
<li>Aå’ŒBä¸­å¯¹åº”åˆ—å¯¹åº”è¡Œåˆ†åˆ«çš„ä¹˜ç§¯ï¼Œå¾—åˆ°è‹¥å¹²ä¸ªçŸ©é˜µï¼ŒçŸ©é˜µç›¸åŠ ä¸ºç»“æœï¼ˆä¸€åˆ—ä¹˜ä¸€è¡Œå¾—åˆ°ä¸€ä¸ªçŸ©é˜µï¼Œå¾ˆç‰¹æ®Šï¼Œæ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—éƒ½æ˜¯çº¿æ€§ç›¸å…³ï¼‰</li>
</ol>
<p>çŸ©é˜µè¿˜å¯ä»¥åˆ†å—ä¹˜ç§¯</p>
<h3 id="é€†çŸ©é˜µ"><a href="#é€†çŸ©é˜µ" class="headerlink" title="é€†çŸ©é˜µ"></a>é€†çŸ©é˜µ</h3><p>è¿™é‡Œè®¨è®ºçš„éƒ½æ˜¯æ–¹é˜µçš„é€†çŸ©é˜µï¼Œæ–¹é˜µçš„é€†çŸ©é˜µå·¦å³ä¹˜éƒ½å¯ä»¥ï¼Œéæ–¹é˜µçš„ä¸å¯ä»¥</p>
<p>å¯é€†çš„ï¼Œéå¥‡å¼‚çš„<br>invertibleï¼Œnonsingular</p>
<p><strong>ä»€ä¹ˆæ ·çš„æ–¹é˜µæ˜¯ä¸å¯é€†çš„ï¼š</strong></p>
<ul>
<li>è¡Œåˆ—å¼ä¸º0çš„çŸ©é˜µ</li>
<li>çŸ©é˜µçš„è¡Œå‘é‡æˆ–è€…åˆ—å‘é‡å­˜åœ¨çº¿æ€§ç›¸å…³</li>
<li>å­˜åœ¨éé›¶å‘é‡$x$ï¼Œä½¿å¾—$Ax=0$æˆç«‹</li>
</ul>
<blockquote>
<p>ç¬¬ä¸‰ä¸ªçš„ç®€å•è¯æ˜ï¼Œä½¿ç”¨åè¯æ³•ï¼Œè‹¥å­˜åœ¨$A^{-1}$ï¼Œåˆ™è‹¥$Ax=0$æˆç«‹ï¼Œé‚£ä¹ˆ$A^{-1}Ax=Ix=0 \Rightarrow x=0$ï¼ŒçŸ›ç›¾</p>
</blockquote>
<p><strong>ä½¿ç”¨Gauss-Jordanæ€è·¯æ±‚é€†çŸ©é˜µï¼š</strong></p>
<ol>
<li>å°†åŸçŸ©é˜µ$A$ä¸å•ä½çŸ©é˜µ$I$ç»„åˆå½¢æˆå¢å¹¿çŸ©é˜µ$[A|I]$</li>
<li>å¯¹å¢å¹¿çŸ©é˜µè¿›è¡Œé«˜æ–¯æ¶ˆå…ƒï¼Œä½¿ç”¨è¡Œå˜æ¢æ–¹æ³•ï¼Œå°†å·¦åŠéƒ¨åˆ†è½¬åŒ–ä¸ºä¸Šä¸‰è§’çŸ©é˜µ</li>
<li>ä½¿ç”¨jordanæ€è·¯ï¼Œåå‘è¡Œå˜æ¢ï¼Œå°†ä¸Šä¸‰è§’çŸ©é˜µå˜æˆå•ä½é˜µï¼Œåˆ™æ­¤æ—¶å³åŠéƒ¨åˆ†å³ä¸º$A^{-1}$</li>
</ol>
<h2 id="çŸ©é˜µçš„LUåˆ†è§£"><a href="#çŸ©é˜µçš„LUåˆ†è§£" class="headerlink" title="çŸ©é˜µçš„LUåˆ†è§£"></a>çŸ©é˜µçš„LUåˆ†è§£</h2><p>æœ¬èŠ‚å†…å®¹ï¼š</p>
<ul>
<li>é€†çŸ©é˜µå’Œè½¬ç½®çŸ©é˜µçš„åŸºæœ¬çŸ¥è¯†</li>
<li>å¦‚ä½•ç†è§£A=LUåˆ†è§£</li>
<li>Açš„é«˜æ–¯æ¶ˆå»éœ€è¦å¤šå°‘æ­¥éª¤</li>
<li>permutationç½®æ¢çŸ©é˜µæ˜¯å•¥ä»¥åŠå®ƒçš„æ€§è´¨</li>
</ul>
<h3 id="é€†çŸ©é˜µå’Œè½¬ç½®çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†"><a href="#é€†çŸ©é˜µå’Œè½¬ç½®çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†" class="headerlink" title="é€†çŸ©é˜µå’Œè½¬ç½®çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†"></a>é€†çŸ©é˜µå’Œè½¬ç½®çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†</h3><script type="math/tex; mode=display">

(AB)^{-1} = B^{-1}A^{-1} \\\\</script><script type="math/tex; mode=display">
(AB)^{T} = B^{T}A^{T}  \\\\</script><script type="math/tex; mode=display">
(A^{T})^{-1} = (A^{-1})^{T} \\\\</script><h3 id="LUåˆ†è§£"><a href="#LUåˆ†è§£" class="headerlink" title="LUåˆ†è§£"></a>LUåˆ†è§£</h3><blockquote>
<p>å‰æï¼š<br>çŸ©é˜µæ˜¯æ–¹é˜µï¼ˆLUåˆ†è§£ä¸»è¦æ˜¯é’ˆå¯¹æ–¹é˜µï¼‰ï¼›<br>çŸ©é˜µæ˜¯å¯é€†çš„ï¼Œä¹Ÿå°±æ˜¯è¯¥çŸ©é˜µæ˜¯æ»¡ç§©çŸ©é˜µï¼Œæ¯ä¸€è¡Œéƒ½æ˜¯ç‹¬ç«‹å‘é‡ï¼›<br>æ¶ˆå…ƒè¿‡ç¨‹ä¸­æ²¡æœ‰0ä¸»å…ƒå‡ºç°ï¼Œä¹Ÿå°±æ˜¯æ¶ˆå…ƒè¿‡ç¨‹ä¸­ä¸èƒ½å‡ºç°è¡Œäº¤æ¢çš„åˆç­‰å˜æ¢ã€‚</p>
</blockquote>
<p>æ„ä¹‰ï¼šå•æ¬¡LUåˆ†è§£é‡ä¸å°ï¼Œä½†æ˜¯å¯ä»¥åå¤åˆ©ç”¨LU</p>
<blockquote>
<p>çœ‹èµ·æ¥æ¯”é«˜æ–¯æ¶ˆå…ƒç»å†äº†æ›´å¤šçš„æ­¥éª¤ï¼Œé‚£ä¸ºä»€ä¹ˆåˆè¯´LUåˆ†è§£æ›´å¿«å‘¢ï¼Ÿåœ¨å®è·µä¸­ï¼Œbæ˜¯è¾“å‡ºï¼Œè¾“å‡ºåˆç»å¸¸å˜åŠ¨ï¼Œä»Ax = bé¢‘ç¹åœ°å˜æˆAx = bâ€™ï¼Œæ­¤æ—¶é«˜æ–¯æ¶ˆå…ƒå°±éœ€è¦å…¨éƒ¨é‡æ–°è®¡ç®—ï¼ˆé«˜æ–¯æ¶ˆå…ƒç”¨å¢å¹¿çŸ©é˜µæ¶ˆå…ƒï¼Œå˜åŒ–è¿‡ç¨‹æ˜¯[A, b]â†’[U, bâ€™]ï¼‰ï¼Œè¿™å¯¹å¤§å‹çŸ©é˜µæ¥è¯´åŠå…¶è€—æ—¶ã€‚åè§‚LUåˆ†è§£ï¼Œå› ä¸ºå®ƒä¸ä¾èµ–äºbï¼Œæ‰€ä»¥è®¡ç®—ä¸€æ¬¡åå°±å¯ä»¥å­˜å‚¨Uå’ŒL-1ï¼Œåœ¨è¾“å‡ºå˜åŒ–åä¹Ÿåªæ˜¯éœ€è¦ç®€å•çš„ç›¸ä¹˜ã€‚å®é™…ä¸Šï¼Œç”±äºLå·²ç»æ˜¯æ•´ç†è¿‡çš„æ–œå¯¹è§’å…¨æ˜¯1çš„ä¸‹ä¸‰è§’çŸ©é˜µï¼Œæ‰€ä»¥ç”¨é«˜æ–¯-è¯ºå½“æ¶ˆå…ƒæ³•å¯¹Læ±‚é€†éå¸¸ç®€å•ã€‚</p>
</blockquote>
<script type="math/tex; mode=display">
EA = U\\\\</script><script type="math/tex; mode=display">
L = E^{-1}\\\\</script><script type="math/tex; mode=display">
A = LU \\\\</script><p>Uä»£è¡¨upperä¸Šä¸‰è§’çŸ©é˜µï¼ŒLä»£è¡¨lowerä¸‹ä¸‰è§’çŸ©é˜µã€‚<br>å¦‚æœå°†Uç»§ç»­åˆ†è§£ä¸ºDU,å¯ä»¥å¾—åˆ°æ–°çš„åˆ†è§£LDUï¼Œä¸‹ä¸‰è§’ä¹˜å¯¹è§’ä¹˜ä¸Šä¸‰è§’ã€‚</p>
<script type="math/tex; mode=display">

A = LDU</script><p>æ¨èLUåˆ†è§£çš„åŸå› åœ¨äºï¼Œåˆ©ç”¨å•ä¸ªçš„æ¶ˆå…ƒçŸ©é˜µ$E<em>{2,1},E</em>{3,1}$è¿™ç§ç›´æ¥å»æ±‚$E$å…¶å®å¾ˆéº»çƒ¦ï¼Œå› ä¸ºä¼šæ¶‰åŠåˆ°å¤æ‚çš„çŸ©é˜µä¹˜æ³•è¿ç®—ï¼Œåç»­çš„æ­¥éª¤ä¼šå—åˆ°å‰åºæ¶ˆå…ƒçš„å½±å“ï¼Œä¸èƒ½ç›´æ¥é€šè¿‡ç†è§£å†™å‡º$E$ã€‚</p>
<p>è€ŒLçŸ©é˜µå› ä¸ºæ˜¯é€†çŸ©é˜µçš„ä¹˜ç§¯ï¼Œé¡ºåºä»æœ€åä¸€è¡Œè¿”å›ç¬¬ä¸€è¡Œï¼Œæ¯ä¸€ä¸ªéƒ½ä¸ä¼šå—åˆ°å‰åºçŸ©é˜µçš„å½±å“ï¼Œå› æ­¤èƒ½å¤Ÿç›´æ¥æŠŠå•ä¸ªçš„æ¶ˆå…ƒçŸ©é˜µçš„å…ƒç´ æ‹¼æ¥åˆ°ä¸€èµ·å½¢æˆä¸€ä¸ªä¸‹ä¸‰è§’çŸ©é˜µã€‚</p>
<blockquote>
<p>å¦‚æœæ²¡æœ‰è¡Œäº¤æ¢æ“ä½œï¼Œåˆ™æ¶ˆå…ƒçŸ©é˜µçš„å› å­å¯ä»¥ç›´æ¥å†™å…¥çŸ©é˜µLã€‚æ²¡æœ‰å¤šä½™çš„äº¤å‰é¡¹å‡ºç°æ˜¯LUåˆ†è§£è¦ä¼˜äºEA=Uè¿™ç§å½¢å¼çš„åŸå› ä¹‹ä¸€ã€‚</p>
</blockquote>
<h3 id="æ¶ˆå…ƒæ³•çš„è®¡ç®—é‡"><a href="#æ¶ˆå…ƒæ³•çš„è®¡ç®—é‡" class="headerlink" title="æ¶ˆå…ƒæ³•çš„è®¡ç®—é‡"></a>æ¶ˆå…ƒæ³•çš„è®¡ç®—é‡</h3><p>å°†çº¿æ€§ç»„åˆæ¯è¿›è¡Œä¸€æ¬¡è¡Œå…ƒç´ çš„ä¹˜å’ŒåŠ å‡ä½œä¸ºä¸€æ¬¡æ“ä½œï¼Œä¾‹å¦‚å°†ç¬¬ä¸€è¡ŒæŸä¸€ä¸ªå…ƒç´ ä¹˜ä»¥ä¸¤å€ï¼Œå†ç”¨ç¬¬äºŒè¡Œå¯¹åº”å…ƒç´ å‡å»ï¼Œè¿™ä¸ªç®—ä¸€æ¬¡æ“ä½œã€‚</p>
<p>ç¬¬ä¸€åˆ—é™¤äº†ç¬¬ä¸€ä¸ªå…ƒç´ å¤–æ¶ˆæˆ0ï¼Œè¿™ä¸ªæµç¨‹æ€»å…±éœ€è¦å¤§çº¦$n^2$æ¬¡æ“ä½œï¼Œä¸€ä¸ªçŸ©é˜µå®Œæˆæ¶ˆå…ƒéœ€è¦$\sum^{N}_{i} i^2$æ¬¡ï¼Œæ‹¿å¾®ç§¯åˆ†å…¬å¼è¿‘ä¼¼è®¡ç®—ä¸€ä¸‹å‘ç°éœ€è¦$1/3N^{3}$æ¬¡è®¡ç®—æ“ä½œã€‚</p>
<p>ç­‰å·å³ä¾§å‘é‡bçš„è¡Œå˜æ¢å¤§è‡´éœ€è¦nxnæ¬¡è¿ç®—ã€‚</p>
<h3 id="ç½®æ¢çŸ©é˜µ"><a href="#ç½®æ¢çŸ©é˜µ" class="headerlink" title="ç½®æ¢çŸ©é˜µ"></a>ç½®æ¢çŸ©é˜µ</h3><p>è¡¨ç¤ºrow exchangeè¡Œäº¤æ¢çš„çŸ©é˜µï¼Œè¡Œäº¤æ¢åœ¨é«˜æ–¯æ¶ˆå…ƒæ³•é‡Œç”¨äºå¯»æ‰¾ä¸»å…ƒï¼Œ</p>
<p>ç›´æ¥ç”¨å•ä½çŸ©é˜µçš„å„ç§è¡Œäº¤æ¢çŸ©é˜µå°±å¯ä»¥è¡¨ç¤ºå‡ºç½®æ¢çŸ©é˜µçš„æ ·å­ã€‚</p>
<p>å¯¹äºné˜¶çš„æ–¹é˜µï¼Œæ€»å…±æœ‰nï¼ä¸ªç½®æ¢çŸ©é˜µï¼Œç½®æ¢çŸ©é˜µçš„é€†çŸ©é˜µä¹Ÿæ˜¯ç½®æ¢çŸ©é˜µï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç½®æ¢çŸ©é˜µçš„è½¬ç½®çŸ©é˜µã€‚å³å¦‚æœç½®æ¢çŸ©é˜µæ˜¯å¯¹ç§°çŸ©é˜µï¼Œåˆ™å…¶æ˜¯ä¸‰çŸ©é˜µä¸€ä½“ï¼ŒåŸçŸ©é˜µ=é€†çŸ©é˜µ=è½¬ç½®çŸ©é˜µã€‚</p>
<h2 id="è½¬ç½®-ç½®æ¢-å‘é‡ç©ºé—´"><a href="#è½¬ç½®-ç½®æ¢-å‘é‡ç©ºé—´" class="headerlink" title="è½¬ç½®-ç½®æ¢-å‘é‡ç©ºé—´"></a>è½¬ç½®-ç½®æ¢-å‘é‡ç©ºé—´</h2><p>symmetric matrix</p>
<script type="math/tex; mode=display">

M^{T} = M</script><p>ä»»ä½•è½¬ç½®çŸ©é˜µä¹˜ä»¥æœ¬èº«å¾—åˆ°çš„éƒ½æ˜¯å¯¹ç§°çŸ©é˜µ$R^{T}R=(R^{T}R)^{T}$</p>
<p>$R^{T}R$ is always symmetric</p>
<h3 id="å‘é‡ç©ºé—´"><a href="#å‘é‡ç©ºé—´" class="headerlink" title="å‘é‡ç©ºé—´"></a>å‘é‡ç©ºé—´</h3><p>å¯¹äºå…¶ä¸­å‘é‡è¿›è¡Œçº¿æ€§è®¡ç®—ï¼ˆåŠ æ³•å’Œæ•°ä¹˜ï¼‰å°é—­ï¼ˆclosedï¼‰çš„ç©ºé—´$R^{n}$æ˜¾ç„¶æ˜¯å‘é‡ç©ºé—´<br>0å‘é‡å¿…é¡»æ˜¯å‘é‡ç©ºé—´ä¸­çš„ä¸€éƒ¨åˆ†<br>å‘é‡å­ç©ºé—´æ˜¯å‘é‡ç©ºé—´ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæœ¬è´¨ä¸Šæ„Ÿè§‰æ˜¯å¯¹n-1ç»´åŸºå‘é‡é‡æ–°å±•å¼€çš„ç»“æœï¼Œæ¯”å¦‚åœ¨$R^{2}$ä¸­è¿‡é›¶ç‚¹çš„ç›´çº¿ã€‚ï¼ˆä¸ï¼Œè¿™ä¸ä¸€æ ·ï¼Œä¸æ˜¯ä¸€ç»´çš„ï¼‰</p>
<p><strong>subspace of $R^{2}$</strong>:</p>
<ul>
<li>$R^{2}$</li>
<li>any line through origin</li>
<li>zero vector only</li>
</ul>
<p>æ¯”è¾ƒç‰¹æ®Šçš„æ˜¯é›¶å‘é‡ç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´é‡Œåªæœ‰0å‘é‡ï¼Œæ‰€ä»¥çº¿æ€§è®¡ç®—éƒ½èƒ½æˆç«‹ï¼Œæ˜¯ä¸ªå•çŸ¢é‡ç©ºé—´</p>
<h3 id="åˆ—ç©ºé—´å’Œé›¶ç©ºé—´"><a href="#åˆ—ç©ºé—´å’Œé›¶ç©ºé—´" class="headerlink" title="åˆ—ç©ºé—´å’Œé›¶ç©ºé—´"></a>åˆ—ç©ºé—´å’Œé›¶ç©ºé—´</h3><p>ç”¨çŸ©é˜µä¸­çš„åˆ—å‘é‡ä½œä¸ºåŸºå‘é‡ï¼Œå½¢æˆspinå¾—åˆ°çš„å­ç©ºé—´ç§°ä¸ºåˆ—ç©ºé—´Cï¼ˆAï¼‰ï¼Œcolumn space</p>
<p>ä¸¤ä¸ªå‘é‡å­ç©ºé—´ï¼ŒPå’ŒLï¼Œé‚£ä¹ˆä¸¤ä¸ªå­ç©ºé—´çš„å¹¶é›†å¹¶éå‘é‡ç©ºé—´ï¼Œå› ä¸ºå¯¹åŠ æ³•ä¸å°é—­ã€‚ä¸¤ä¸ªç©ºé—´çš„äº¤é›†åˆ™æ˜¯å­ç©ºé—´ï¼Œå› ä¸ºæ‰€åŒ…å«çš„å‘é‡æ— è®ºåšåŠ æ³•è¿˜æ˜¯æ•°ä¹˜éƒ½ä¸€å®šåœ¨è¿™ä¸ªäº¤é›†é‡Œé¢ã€‚</p>
<script type="math/tex; mode=display">

A=
\begin{pmatrix}

1 & 1& 2\\
2 & 1& 3\\
3 & 1& 4\\
4 & 1& 5\\ 
\end{pmatrix}</script><p>å¯¹äº$Ax=b$ï¼Œå½“bå±äºAçš„åˆ—ç©ºé—´æ—¶æœ‰è§£ã€‚<br>è§‚å¯ŸçŸ©é˜µAï¼Œå‘ç°ç¬¬ä¸‰åˆ—æ˜¯å‰ä¸¤åˆ—çš„çº¿æ€§ç»„åˆï¼Œè¿™é‡Œå°†å‰ä¸¤åˆ—ç§°ä½œä¸»åˆ—ï¼Œå¹¶è¯´è¿™ä¸‰åˆ—æ˜¯çº¿æ€§ç›¸å…³çš„ï¼Œå»æ‰éä¸»åˆ—ä¸å½±å“åˆ—ç©ºé—´çš„è§„æ¨¡ã€‚</p>
<h4 id="é›¶ç©ºé—´"><a href="#é›¶ç©ºé—´" class="headerlink" title="é›¶ç©ºé—´"></a>é›¶ç©ºé—´</h4><p>null space of Aï¼š add solutions to $Ax=0$ä½¿å¾—æ–¹ç¨‹æˆç«‹çš„è§£ç»„æˆçš„ç©ºé—´æ˜¯é›¶ç©ºé—´</p>
<ul>
<li>nullspace certainly contains zeroé›¶ç©ºé—´åŒ…å«é›¶å‘é‡ï¼Œçš„ç¡®æ˜¯ä¸ªå‘é‡ç©ºé—´</li>
<li>å¯¹äºAçŸ©é˜µæ¥è¯´ï¼Œé›¶ç©ºé—´å¾—åˆ°äº†ä¸€æ¡ç›´çº¿ [c,c-c]</li>
<li>a line in $R^3$</li>
<li>é›¶ç©ºé—´æ˜¯å‘é‡ç©ºé—´çš„æ£€éªŒï¼Œå’Œå‘é‡ä¸æ•°ä¹˜åå‘é‡ä¾ç„¶æ»¡è¶³$Ax=0$çš„æ–¹ç¨‹ï¼Œè¯æ˜éå¸¸æ˜æ˜¾$A(w+v)=0, A(kw)=0$<h4 id="è§£ç©ºé—´ï¼Ÿ"><a href="#è§£ç©ºé—´ï¼Ÿ" class="headerlink" title="è§£ç©ºé—´ï¼Ÿ"></a>è§£ç©ºé—´ï¼Ÿ</h4>ï¼Ÿï¼Ÿï¼Ÿå¯¹äº$Ax=b,b\ne0$è¿™ä¸ªæ–¹ç¨‹çš„è§£ä¸æ„æˆå‘é‡ç©ºé—´ï¼Œæœ€å®¹æ˜“è¯æ˜çš„æ˜¯è¿™ä¸ªè§£é‡Œé¢ä¸åŒ…å«0ã€‚è§£æ˜¯ä¸€ä¸ªä¸é€šè¿‡é›¶ç‚¹çš„ç›´çº¿ã€‚</li>
</ul>
<h3 id="è§£Ax-0ä¸»å˜é‡å’Œç‰¹è§£"><a href="#è§£Ax-0ä¸»å˜é‡å’Œç‰¹è§£" class="headerlink" title="è§£Ax=0ä¸»å˜é‡å’Œç‰¹è§£"></a>è§£Ax=0ä¸»å˜é‡å’Œç‰¹è§£</h3><script type="math/tex; mode=display">
A=
\begin{pmatrix}
1 & 2& 2&2 \\
2 & 4& 6&8 \\
3 & 6& 8&10 \\
\end{pmatrix}</script><p>éšç€æ¶ˆå…ƒæ³•è¿›è¡Œï¼Œé›¶ç©ºé—´ä¸æ”¹å˜ï¼Œæ”¹å˜äº†åˆ—ç©ºé—´ã€‚</p>
<script type="math/tex; mode=display">
å¾—åˆ°äº†ä¸€ä¸ªechelon form
staircase formé˜¶æ¢¯å½¢çŸ©é˜µ
U=
\begin{pmatrix}
1 & 2& 2&2 \\
0 & 0& 2&4 \\
0 & 0& 0&0 \\
\end{pmatrix}</script><p>è¿™é‡Œå¼•å…¥äº†<strong>Rank</strong>çš„å®šä¹‰ï¼šè¡¨ç¤ºUx=0ä¸­é˜¶æ¢¯å‹çŸ©é˜µUä¸»å…ƒï¼ˆ<strong>pivot variable</strong>ï¼‰çš„ä¸ªæ•°ã€‚ä¸»å…ƒæ‰€åœ¨çš„åˆ—ç§°ä½œä¸»åˆ—ï¼ˆ<strong>pivot column</strong>ï¼‰ï¼Œå…¶ä½™åˆ—ä¸ºè‡ªç”±åˆ—ï¼ˆ<strong>free column</strong>ï¼‰ï¼Œè‡ªç”±åˆ—å¯¹åº”çš„å˜é‡å…ƒç´ ï¼ˆ<strong>free variable</strong>ï¼‰å¯ä»¥è‡ªç”±çš„å–å€¼ï¼Œæˆ‘ä»¬è¦æ±‚è§£çš„åªæœ‰ä¸»å…ƒçš„å€¼ã€‚</p>
<ul>
<li><strong>ä»»æ„å¯¹free variableèµ‹å€¼å¯ä»¥å¾—åˆ°special solutionç‰¹è§£</strong>ï¼Œç‰¹è§£çš„çº¿æ€§ç»„åˆå°±æ˜¯null spaceã€‚</li>
<li>æ¯ä¸€ä¸ªè‡ªç”±å˜é‡å¯¹åº”ä¸€ä¸ªç‰¹è§£ã€‚</li>
<li>è‡ªç”±å˜é‡æœ‰å¤šå°‘å‘¢ï¼Ÿè‡ªç”±å˜é‡=åˆ—æ•°n-ä¸»å…ƒrï¼Œrä¸ªä¸»å˜é‡ä»£è¡¨åªæœ‰rä¸ªæ–¹ç¨‹èµ·ä½œç”¨ï¼Œé‚£ä¹ˆï¼ˆn-rï¼‰ä¸ªè‡ªç”±å˜é‡å¯ä»¥å¾—åˆ°ï¼ˆn-rï¼‰ä¸ªç‰¹è§£ã€‚</li>
</ul>
<h4 id="è¿›ä¸€æ­¥ç®€åŒ–"><a href="#è¿›ä¸€æ­¥ç®€åŒ–" class="headerlink" title="è¿›ä¸€æ­¥ç®€åŒ–"></a>è¿›ä¸€æ­¥ç®€åŒ–</h4><p>çŸ©é˜µR = Reduced row echelon matrix<br>åšå‘ä¸Šæ¶ˆå…ƒï¼Œä½¿å¾—ä¸»å…ƒä¸Šä¸‹éƒ½æ˜¯0ï¼Œä¸»å…ƒåŒ–1</p>
<script type="math/tex; mode=display">
R=
\begin{pmatrix}
1 & 2& 0&-2 \\
0 & 0& 1&2 \\
0 & 0& 0&0 \\
\end{pmatrix}</script><p>åŒ…å«æ‰€æœ‰ä¿¡æ¯çš„æœ€ç®€å½¢å¼ï¼Œæ‰€æœ‰ä¸»å…ƒä¸º1ï¼Œå½¢æˆä¸€ä¸ªå•ä½çŸ©é˜µã€‚$Rx=0$ä»ç„¶æ˜¯é›¶ç©ºé—´çš„å‘é‡ã€‚<br>ç§»åŠ¨Rä¸­åˆ—ï¼Œå¾—åˆ°</p>
<script type="math/tex; mode=display">
\begin{pmatrix}
I&F\\
0&0\\
\end{pmatrix}</script><p>Né›¶ç©ºé—´çŸ©é˜µnullspace matrix<br>ä¸ºäº†$RN=0$</p>
<script type="math/tex; mode=display">
N=
\begin{pmatrix}
-F\\
I\\
\end{pmatrix}</script><p>Nå°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªç‰¹è§£ï¼Œè¿™é‡Œå¯ä»¥æ¸…æ™°çœ‹åˆ°é€šè¿‡ç®€åŒ–è¡ŒçŸ©é˜µï¼Œå¯ä»¥æ¸…æ¥šçš„å†™å‡ºé›¶ç©ºé—´ç‰¹è§£ã€‚<br><em>è¿™é‡Œæœ‰ç‚¹è¿·æƒ‘ï¼Œå› ä¸ºæ„Ÿè§‰è¿™æ ·ä¼šé€ æˆè§£å…ƒç´ é¡ºåºçš„æ··ä¹±ã€‚ã€‚ã€‚</em></p>
<h2 id="æ±‚è§£Ax-bï¼Œcomplete-solution"><a href="#æ±‚è§£Ax-bï¼Œcomplete-solution" class="headerlink" title="æ±‚è§£Ax=bï¼Œcomplete solution"></a>æ±‚è§£Ax=bï¼Œcomplete solution</h2><script type="math/tex; mode=display">
Augmented Matrix=
\begin{pmatrix}
1& 2& 2& 2& b1\\
2& 4& 6& 8& b2\\
3& 6& 8& 10& b3\\
\end{pmatrix}</script><p>ä¸ºäº†æœ‰è§£b1ï¼Œb2ï¼Œb3éœ€è¦æ»¡è¶³æ¡ä»¶ã€‚</p>
<h3 id="å¯è§£æ€§"><a href="#å¯è§£æ€§" class="headerlink" title="å¯è§£æ€§"></a>å¯è§£æ€§</h3><p>å¦‚ä½•å¯ä»¥è®©Ax=bæœ‰è§£ï¼Ÿ</p>
<ul>
<li>ä»…å½“bå±äºCï¼ˆAï¼‰çš„æ—¶å€™æœ‰è§£</li>
<li>å¦‚ä½•Açš„<strong>è¡Œå‘é‡ç»„åˆ</strong>å¾—åˆ°äº†0ï¼Œé‚£ä¹ˆbçš„ç»„åˆä¹Ÿè¦ç­‰äº0</li>
</ul>
<p>æ±‚è§£è¿‡ç¨‹ï¼š</p>
<ol>
<li>æ‰¾å‡ºä¸€ä¸ªç‰¹è§£<ol>
<li>å°†è‡ªç”±å‘é‡ç½®0</li>
<li>æ±‚è§£Ax=bä¸­çš„ä¸»å…ƒç´ </li>
</ol>
</li>
<li>å¯ä»¥åŠ ä¸Šnullspaceä¸­çš„ä»»æ„å‘é‡</li>
<li>æœ€ç»ˆç»“æœå°±æ˜¯å…¨è§£<br>ï¼ˆä¸çº¿æ€§å¾®åˆ†æ–¹ç¨‹æƒŠäººä¸€è‡´ï¼Œè¿™ç§å½¢å¼å­˜åœ¨äºå„ç§çº¿æ€§æ–¹ç¨‹ä¸­ï¼‰<br>$X<em>{complete}=X</em>{p}+c<em>{1}Xn</em>{1}+c<em>{2}Xn</em>{2}$<br>é›¶ç©ºé—´æ˜¯ä¸€ä¸ªäºŒç»´å‘é‡å­ç©ºé—´ï¼Œä½†æ˜¯xçš„å…¨è§£çš„ç©ºé—´ä¸æ˜¯å‘é‡ç©ºé—´ï¼Œå› ä¸ºä¸è¿‡0ç‚¹ã€‚</li>
</ol>
<p><strong>æ‰©å±•æ€è€ƒå¯è§£æ€§</strong><br>m*n matrix A of rank r<br>know:</p>
<ul>
<li>$r\le m$</li>
<li>$r\le n$</li>
</ul>
<p>è®¨è®ºæ»¡ç§©æƒ…å†µ<br><strong>full column rank</strong><br>æ²¡æœ‰è‡ªç”±å‘é‡ï¼Œå…¨éƒ½æ˜¯ä¸»å…ƒï¼Œå°±æ„å‘³ç€æ²¡æœ‰é›¶ç©ºé—´çš„ç‰¹è§£ã€‚Nï¼ˆAï¼‰åªæœ‰é›¶å‘é‡ã€‚$Ax=b$çš„è§£åªæœ‰ä¸€ä¸ªç‰¹è§£$X_{unique}$ã€‚</p>
<p><em>åˆ—æ»¡ç§©æƒ…å†µå¦‚æœè§£å­˜åœ¨åˆ™è§£å”¯ä¸€</em><br>båœ¨Aåˆ—ç©ºé—´ä¸­çš„æ—¶å€™æœ‰è§£</p>
<p><strong>full row rank</strong> </p>
<ul>
<li>å¯¹ä»»æ„béƒ½ä¼šæœ‰è§£ï¼Œå¯¹äºbæ²¡æœ‰è¦æ±‚ï¼Œæ¯ä¸€è¡Œéƒ½æœ‰ä¸»å…ƒï¼Œ<em>ä¸ä¼šæœ‰é›¶è¡Œ</em>ã€‚</li>
<li>è‡ªç”±å˜é‡æ•°ç›®ä¸ºn-mä¸ªfree variables</li>
</ul>
<ol>
<li><p><strong>r=n=m</strong><br>æ»¡ç§©æ–¹é˜µ<br>R = I æœ‰å”¯ä¸€è§£</p>
</li>
<li><p>r=n &lt; m<br>R = [I;0] æ²¡æœ‰è§£æˆ–è€…å”¯ä¸€è§£</p>
</li>
<li><p>r=m &lt; n<br>R = [I F] æœ‰è§£ Iå’ŒFä¼šäº¤å‰å‡ºç°ï¼Œæ— ç©·å¤šè§£</p>
</li>
<li><p>r &lt; m, r &lt; n<br>R = [I F; 0 0]<br>0æˆ–è€…æ— ç©·å¤šè§£</p>
</li>
</ol>
<p>æ˜¯å¦æœ‰è§£åœ¨äºAx=bçš„ç‰¹è§£æ˜¯å¦å­˜åœ¨ï¼Œè€Œæ˜¯å¦æœ‰æ— ç©·è§£åˆ™çœ‹é›¶ç©ºé—´æ˜¯å¦åªå«é›¶å‘é‡ï¼ˆæ˜¯å¦æœ‰è‡ªç”±å˜é‡ï¼‰ã€‚</p>
<p><strong>Ranké‡ŒåŒ…å«äº†æ‰€æœ‰è§£æ•°é‡çš„ä¿¡æ¯</strong></p>
<a href="/2020/11/13/MITLinearAlgebra-2/" title="MITLinearAlgebra(2)">MITLinearAlgebra(2)</a>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>çº¿æ€§ä»£æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>ML2020Note-1</title>
    <url>/2020/09/29/ML2020Note-1/</url>
    <content><![CDATA[<p>æå®æ¯…è€å¸ˆ2020å¹´æœºå™¨å­¦ä¹ è¯¾ç¨‹çš„ä¸€ç‚¹å­¦ä¹ ç¬”è®°ï¼Œä½œä¸ºé‡æ–°å­¦ä¹ æœºå™¨å­¦ä¹ çš„å¼€å§‹å§ã€‚<br><a id="more"></a></p>
<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>15æ¬¡ä½œä¸šï¼Œä½¿ç”¨Pytorchã€‚</p>
<p>å‰æ²¿ç ”ç©¶ï¼š</p>
<ul>
<li>Explainable AI è§£é‡ŠåŸå› </li>
<li>Adversarial Attack æ¶æ„æ”»å‡»</li>
<li>Network Compression ç½‘ç»œå‹ç¼©</li>
<li>Anomaly Detection å¼‚å¸¸è¯†åˆ«</li>
<li>Transfer Learning è¿ç§»å­¦ä¹ </li>
<li>Meta Learning è‡ªå­¦æˆæ‰ï¼šå­¦ä¹ å¦‚ä½•å¾—åˆ°å­¦ä¹ ç®—æ³•</li>
<li>Life-long Learningï¼šç»ˆèº«å­¦ä¹ </li>
</ul>
<p><img src='intro.PNG' width='600' title='learning map'></p>
<p><strong>hand-crafted rules</strong></p>
<ul>
<li>æ°¸è¿œæ— æ³•è¶…è¿‡åˆ›é€ è€…</li>
<li>Lots of human effort</li>
</ul>
<ol>
<li>å»githubä¸Šå®‰è£…pyenvï¼Œä¸€ä¸ªå­¦ä¹ ç¯å¢ƒï¼Œé˜²æ­¢è£…å´©</li>
<li>kaggleæ¯ä¸ªäººäº”æ¬¡é¢„æµ‹ç»“æœ</li>
<li>githubæäº¤ä½œä¸š</li>
</ol>
<h2 id="Regression"><a href="#Regression" class="headerlink" title="Regression"></a>Regression</h2><p>çº¿æ€§å›å½’åŸºæœ¬çš„æµç¨‹:</p>
<ol>
<li>é€‰å–ä¸€ç§modelæˆ–è€…function</li>
<li>é€‰æ‹©ä¸€ç§cost function</li>
<li>åœ¨è®­ç»ƒé›†ä¸Šé€‰å–å¹¶ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•å¯¹modelçš„å‚æ•°è¿›è¡Œä¼˜åŒ–</li>
<li>åœ¨æµ‹è¯•é›†ä¸Šå¯¹modelè¿›è¡Œè¯„ä¼°</li>
<li>è‹¥å¯¹äºç»“æœè¡¨ç°ä¸æ»¡æ„é‡æ–°é€‰å–model, æˆ–è€…å®¡è§†æ•°æ®é‡æ–°å¤„ç†(ä¹Ÿç®—é‡é€‰model)</li>
</ol>
<h3 id="complex-better"><a href="#complex-better" class="headerlink" title="complex!=better"></a>complex!=better</h3><p>æ¨¡å‹åœ¨é€‰æ‹©æ—¶å€™ä¸ä¸€å®šè¶Šå¤æ‚æ•ˆæœè¶Šå¥½,è¶Šå¤æ‚çš„æ¨¡å‹é€šå¸¸ä¼šåœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°è¶Šæ¥è¶Šå¥½, ä½†æ˜¯åœ¨æµ‹è¯•é›†ä¸Šè¯¯å·®ä¸ä¸€å®šä¼šå˜å¥½, å³æœ‰å¯èƒ½å‡ºç°äº†overfitè¿™ç§æƒ…å†µ</p>
<p><img src='overfit-regression.png' width='500' title='çº¿æ€§å›å½’ä¸­å‡ºç°çš„è¿‡æ‹Ÿåˆç°è±¡'></p>
<p>åœ¨å›¾ä¸­, ä½¿ç”¨å¤šé¡¹å¼è¿›è¡Œçº¿æ€§å›å½’, æ¨ªè½´ä»£è¡¨å¤šé¡¹å¼çš„ç»´åº¦è¶Šæ¥è¶Šé«˜, çºµè½´æ˜¯å¹³å‡è¯¯å·®å€¼, å‡ºç°äº†å…ˆä¸Šå‡åä¸‹é™çš„æƒ…å½¢, è¿™ä»£è¡¨å‡ºç°äº†è¿‡æ‹Ÿåˆçš„æƒ…å†µ</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜, å¯ä»¥1.é‡æ–°é€‰æ‹©æ¨¡å‹ 2.ä½¿ç”¨regularizationæ­£åˆ™åŒ–æ‰‹æ®µ</p>
<h3 id="regularization"><a href="#regularization" class="headerlink" title="regularization"></a>regularization</h3><p>æ­£åˆ™åŒ–åœ¨è¿™é‡Œè¯´çš„æ˜¯å¢åŠ ä¸€é¡¹è¿›å…¥cost function, ä½¿å¾—å‚æ•°è¶‹å‘äº0, è¿™å¯ä»¥è®©æ¯æ¬¡çš„å˜åŠ¨æ›´å°, æ¢¯åº¦ä¸‹é™çš„æ›´ä¸ºå¹³æ»‘, æ¢è¨€ä¹‹å°±æ˜¯å¯¹è¾“å…¥çš„æ•æ„Ÿç¨‹åº¦å¤§å¹…ä¸‹é™, èƒ½å¸®åŠ©å¤„ç†å™ªå£°é€ æˆçš„å½±å“</p>
<p><img src='regularization-regression.png' width='500' title='æ­£åˆ™åŒ–ä½¿å¾—æ¨¡å‹å¯¹äºè¾“å…¥ä¸æ•æ„Ÿ'></p>
<p>æ­£åˆ™åŒ–çš„ä¸¤ç‚¹å¥½å¤„:</p>
<ol>
<li>å˜åŒ–å¹…åº¦å°,æ›´å¹³æ»‘</li>
<li>å¯¹äºå™ªå£°çš„æŠµæŠ—åŠ›å¢å¼º</li>
</ol>
<p><img src='regularization-regression2.png' width='500' title='æ­£åˆ™åŒ–ç³»æ•°å¯¹äºæ€§èƒ½çš„å½±å“'></p>
<p>ä½†æ˜¯,æˆ‘ä»¬ä¹Ÿè¦çœ‹åˆ°æ­£åˆ™åŒ–çš„ç³»æ•°å¹¶éè¶Šå¤§è¶Šå¥½, æ¢è¨€ä¹‹æ¨¡å‹çš„æ¢¯åº¦ä¸‹é™ä¹Ÿä¸åº”è¯¥è¿‡äºçš„smooth</p>
<p><strong>åç½®é¡¹ä¸éœ€è¦åŠ å…¥æ­£åˆ™åŒ–é‡Œé¢</strong></p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>ML2020Note-2</title>
    <url>/2020/12/14/ML2020Note-2/</url>
    <content><![CDATA[<p>ML2020note2ï¼šRNN å¾ªç¯ç¥ç»ç½‘ç»œçš„ç”±æ¥ åŸç† ä»¥åŠæ ‡å‡†LSTM<br><a id="more"></a></p>
<h2 id="RNN"><a href="#RNN" class="headerlink" title="RNN"></a>RNN</h2><h3 id="Slot-Filling"><a href="#Slot-Filling" class="headerlink" title="Slot Filling"></a>Slot Filling</h3><p><strong>I will arrive Taipei on November 2nd</strong><br>æŒ–è¯æ§½ï¼Œæ‰¾åˆ°å…³é”®è¯çš„ä»»åŠ¡ï¼Œå¦‚æœä½¿ç”¨åŸæœ¬çš„ç¥ç»ç½‘ç»œï¼ˆå¯¹æ¯ä¸€ä¸ªè¯æ±‡è¿›è¡Œç¼–ç ï¼‰ï¼Œéš¾ä»¥åˆ†æå‰åæ–‡çš„ä¿¡æ¯ï¼Œå³ç½‘ç»œç¼ºä¹<strong>è®°å¿†åŠ›</strong>ã€‚</p>
<p><strong>Recurrent Neural Network</strong><br>å¾ªç¯ç¥ç»ç½‘ç»œï¼Œéšè—å±‚çš„è¾“å‡ºä¼šè¢«å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå‚ä¸ä¸‹ä¸€ä¸ªåºåˆ—å€¼çš„è®¡ç®—<br><img src='rnn.png' width='600' title='rnn'><br>å›¾ä¸­è“è‰²éƒ¨åˆ†å°±æ˜¯è¢«è®°å¿†çš„éƒ¨åˆ†ï¼Œåˆå§‹ä¼šæœ‰ä¸€ä¸ªå€¼ï¼Œä¹‹åæ¯æ¬¡åºåˆ—è®¡ç®—å®Œæˆåéƒ½ä¼šæŠŠç»¿è‰²å­˜å…¥è“è‰²</p>
<p>æ”¹å˜è¾“å…¥åºåˆ—çš„é¡ºåºï¼Œå¾—åˆ°çš„ç»“æœå®Œå…¨ä¸ä¸€æ ·ï¼åºåˆ—è¾“å…¥çš„é¡ºåºå½±å“è¾“å‡ºçš„å€¼ã€‚</p>
<p>æœ‰ä¸¤ç±»RNNçš„åŸºæœ¬ç»“æ„ï¼Œjordanæ˜¯æŠŠç»“æœä¿å­˜åœ¨å†…å­˜é‡Œï¼ŒLeeè¯´jordançš„æ•ˆæœä¼¼ä¹æ›´å¥½ï¼Œå¯èƒ½æ˜¯å› ä¸ºæœ‰ç»“æœtarget<br><img src='rnn-2.png' width='600' title='elman vs jordan'></p>
<h3 id="BidirectionåŒå‘çš„ç½‘ç»œ"><a href="#BidirectionåŒå‘çš„ç½‘ç»œ" class="headerlink" title="BidirectionåŒå‘çš„ç½‘ç»œ"></a>BidirectionåŒå‘çš„ç½‘ç»œ</h3><p><img src='brnn.png' width='600' title='Bi-RNN'><br>åºåˆ—ä¸åŒæ–¹å‘è®­ç»ƒï¼Œç»“æœç›¸åŠ è¾“å‡º<br>ç½‘ç»œå¯ä»¥çœ‹åˆ°æ•´ä¸ªçš„å¥å­</p>
<h3 id="LSTM"><a href="#LSTM" class="headerlink" title="LSTM"></a>LSTM</h3><p><em>è¾ƒé•¿çš„çŸ­æœŸè®°å¿†</em><br>Long Short-Term Memory<br><img src='lstm.png' width='600' title='LSTM'><br>æœ‰å‡ é“é—¨æ§åˆ¶ç€è®°å¿†å•å…ƒçš„å­˜å‚¨å†…å®¹ï¼Œé—¨çš„å¼€å…³ä¿¡å·éƒ½æ˜¯é€šè¿‡å­¦ä¹ å¾—åˆ°</p>
<p>ä½¿ç”¨sigmoidæ¥æ¨¡æ‹Ÿ0ï¼Œ1ä¿¡å·ï¼Œæ¨¡æ‹Ÿé—¨çš„å¼€å…³ã€‚$f(z_f)=0$æ—¶æ‰§è¡Œäº†é—å¿˜çš„åŠŸèƒ½ï¼Œ$f(z_i)=0$æ—¶æ‰§è¡Œè¾“å…¥å…³é—­çš„æ•ˆæœ<br><img src='lstm-2.png' width='600' title='LSTM GATES'></p>
<p>å®é™…ä¸Šè¿™äº›é—¨æ˜¯é€šè¿‡è°ƒæ•´æƒé‡å®ç°çš„ï¼Œä¼šè®©è¾“å…¥çš„å‘é‡ä¸­çš„æŸä¸€äº›å…ƒç´ ä¹˜ä»¥æƒé‡å¾—åˆ°æ§åˆ¶é—¨å¼€é—­çš„æ•ˆæœ<br>ä¾‹å¦‚åœ¨ä¸‹å›¾ä¸­ï¼Œå‘é‡ç¬¬ä¸€ä¸ªå…ƒç´ ä»£è¡¨è¾“å…¥ï¼Œç¬¬äºŒä¸ªå…ƒç´ 1çš„æ—¶å€™å¼€è¾“å…¥é—¨ï¼Œ-1çš„æ—¶å€™å…³é—­é—å¿˜é—¨ï¼Œç¬¬ä¸‰ä¸ªå…ƒç´ ç­‰äº1çš„æ—¶å€™å¼€å¯è¾“å‡ºé—¨<br><img src='lstm-3.png' width='600' title='LSTM GATES2'></p>
<p>å¦‚æœç”¨LSTMæ¨¡å—ç›´æ¥æ›¿ä»£åŸæœ‰çš„ç½‘ç»œç¥ç»å•å…ƒï¼Œå‚æ•°ä¼šå˜æˆ<strong>å››å€</strong>ï¼<br><img src='lstm-4.png' width='600' title='LSTM GATES3'></p>
<p>LSTMçš„å¾ªç¯æ‰§è¡Œè¿‡ç¨‹ï¼Œæ¯ä¸€æ—¶åˆ»è¾“å…¥çš„é‡æœ‰åŸè¾“å…¥ï¼ŒLSTMæ¨¡å—ä¸Šä¸€æ—¶åˆ»çš„è¾“å‡ºï¼Œä»¥åŠä¸Šä¸€æ—¶åˆ»çš„cellçš„å†…å®¹<br><img src='lstm-5.png' width='600' title='LSTM Layer'></p>
<p>ä¸Šè¿°çš„LSTMå±‚ä¼šé‡å¤ä¸ªäº”å…­å±‚ä»¥æ¥è¾¾åˆ°è¾ƒå¥½çš„æ•ˆæœï¼Œç›¸å½“å¤æ‚ï¼Œï¼Œä½†æ˜¯ç›®å‰ä¹Ÿæˆäº†RNNçš„æ ‡å‡†æ“ä½œï¼Œå½“äººä»¬è°ˆè®ºRNNçš„æ—¶å€™ï¼Œä»–ä¸€èˆ¬å°±æ˜¯åœ¨è¯´lstm<br><img src='lstm-6.png' width='600' title='LSTM NET FULL'></p>
<p><strong>GRU</strong>ï¼šLSTMçš„ç®€åŒ–ç‰ˆæœ¬ï¼Œåªæœ‰ä¸¤ä¸ªgateï¼Œä½†æ®è¯´è¡¨ç°æ¯”è¾ƒç›¸å½“ï¼Œå‚æ•°å°‘äº†ä¸‰åˆ†ä¹‹ä¸€</p>
<p><strong>SimpleRNN</strong>ï¼šä¸€å¼€å§‹è®²çš„æœ€ç®€å•çš„rnnç»“æ„</p>
<h3 id="cost-func-and-training"><a href="#cost-func-and-training" class="headerlink" title="cost func and training"></a>cost func and training</h3><p>Backpropagation through time BPTT<br>ã€‚ã€‚ã€‚Leeæ²¡æœ‰è®²ï¼Œæ˜¯ä¸æ—¶é—´åºåˆ—æœ‰å…³çš„åå‘ä¼ æ’­ç®—æ³•</p>
<p>RNNçš„è®­ç»ƒæ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œè®­ç»ƒçš„lossæ›²çº¿ä¼šæœ‰å¾ˆå‰§çƒˆçš„æŠ–åŠ¨ï¼ŒRNNçš„error surfaceéå¸¸éƒ½å¹³å¦æˆ–è€…é™¡å³­ï¼Œå¯¼è‡´æŒ¯è¡å¯èƒ½å¾ˆå‰§çƒˆ</p>
<p><img src='rnn-lose.png' width='600' title='RNN-LOSE'></p>
<p>è¿™ç§å´å²–çš„åŸå› åœ¨äºå¾ªç¯ç¥ç»ç½‘ç»œä¼šå¯¼è‡´memoryä¹˜ä»¥wçš„å¤šæ¬¡æ–¹ï¼Œå‡ºç°æ¢¯åº¦å¼¥æ•£å’Œçˆ†ç‚¸</p>
<p><strong>LSTMçš„ä¼˜åŠ¿ï¼šå¯ä»¥å¤„ç†æ¢¯åº¦å¼¥æ•£ï¼ˆéçˆ†ç‚¸ï¼‰ï¼è¿™æ˜¯å¹¿æ³›ä½¿ç”¨çš„åŸå› </strong></p>
<p>ä¼šæ‹¿æ‰ä¸€äº›æ¯”è¾ƒå¹³å¦çš„åœ°æ–¹ï¼Œä½†è¿˜æ˜¯æœ‰æ¯”è¾ƒé™¡å³­çš„åœ°æ–¹ï¼Œä¸€èˆ¬å­¦ä¹ ç‡learning rateè®¾ç½®çš„æ¯”è¾ƒå°</p>
<ul>
<li>memoryå’Œinputæ˜¯ç›¸åŠ çš„å…³ç³»</li>
<li>å¦‚æœforget gateå¼€ç€é‚£ä¹ˆå°±ä¸ä¼šæœ‰æ¢¯åº¦å¼¥æ•£gradient vanishingï¼ˆç®€å•RNNçš„memoryæ¯ä¸€ä¸ªæ—¶åˆ»éƒ½ä¼šforgetç„¶åå˜æˆæ–°çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹memoryé€ æˆå½±å“çš„ä¸œè¥¿ä¼šè¾ƒä¸ºé•¿ä¹…çš„ç•™åœ¨é‡Œé¢ï¼Œé€ æˆå½±å“ï¼‰</li>
<li>GRU Gated Recurrent Unitåªæœ‰ä¸¤ä¸ªgateï¼Œå‚æ•°å°‘ä¸å®¹æ˜“overfitï¼Œç²¾ç¥æ˜¯â€œæ—§çš„ä¸å»æ–°çš„ä¸æ¥â€</li>
</ul>
<p>ä¸€äº›åº”ç”¨ï¼š</p>
<ul>
<li>Many to One</li>
<li>Many to Manyï¼ˆNLPï¼ŒCTCï¼‰</li>
<li>Many to Manyï¼ˆNo Limitationï¼‰</li>
<li>beyond sequence</li>
<li>auto encoderä½¿è¯­éŸ³å˜æˆå‘é‡</li>
</ul>
<h3 id="Attention-based-model"><a href="#Attention-based-model" class="headerlink" title="Attention-based model"></a>Attention-based model</h3><p>æ³¨æ„åŠ›æœºåˆ¶æ˜¯ä»æœºå™¨çš„memoryä¸­æå–å‡ºæ„Ÿå…´è¶£çš„éƒ¨åˆ†</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>ML2020Note-3</title>
    <url>/2020/12/17/ML2020Note-3/</url>
    <content><![CDATA[<p>åˆ°äº†æœŸå¾…å·²ä¹…çš„å¼‚å¸¸æ£€æµ‹éƒ¨åˆ†ï¼Œå­¦ç‚¹æ–°çŸ¥è¯†</p>
<a id="more"></a>
<h2 id="ä»€ä¹ˆæ˜¯å¼‚å¸¸æ£€æµ‹"><a href="#ä»€ä¹ˆæ˜¯å¼‚å¸¸æ£€æµ‹" class="headerlink" title="ä»€ä¹ˆæ˜¯å¼‚å¸¸æ£€æµ‹"></a>ä»€ä¹ˆæ˜¯å¼‚å¸¸æ£€æµ‹</h2><p><strong>Anomaly Detection</strong>ï¼šè®©æœºå™¨çŸ¥é“è‡ªå·±ä¸çŸ¥é“</p>
<p>Anomalyå¹¶ä¸æ˜¯é”™è¯¯ï¼Œåªæ˜¯æ ·æœ¬ä¸å±äºåŸæœ‰æ¨¡å‹å¯ä»¥è¯†åˆ«è¿›è¡Œåˆ†ç±»çš„æ•°æ®</p>
<p>å¼‚å¸¸æ£€æµ‹é—®é¢˜çš„åˆ†ç±»categoriesï¼š</p>
<ul>
<li>è®­ç»ƒæ•°æ®å¸¦æœ‰æ ‡ç­¾ï¼šclassifier</li>
<li>æ— æ ‡ç­¾æ•°æ®<ul>
<li>æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨ä¸ºæ­£å¸¸æ•°æ®</li>
<li>éƒ¨åˆ†æ•°æ®è¢«æ±¡æŸ“ï¼ŒåŒ…å«å¼‚å¸¸æ•°æ®ï¼ˆé“¶è¡Œçš„äº¤æ˜“è®°å½•ï¼‰</li>
</ul>
</li>
</ul>
<h2 id="å¸¦æ ‡ç­¾æ•°æ®çš„æ£€æµ‹"><a href="#å¸¦æ ‡ç­¾æ•°æ®çš„æ£€æµ‹" class="headerlink" title="å¸¦æ ‡ç­¾æ•°æ®çš„æ£€æµ‹"></a>å¸¦æ ‡ç­¾æ•°æ®çš„æ£€æµ‹</h2><h3 id="ä¸€ç§ç®€å•çš„æ–¹æ³•"><a href="#ä¸€ç§ç®€å•çš„æ–¹æ³•" class="headerlink" title="ä¸€ç§ç®€å•çš„æ–¹æ³•"></a>ä¸€ç§ç®€å•çš„æ–¹æ³•</h3><p>ä»ä¸€ä¸ªåˆ†ç±»å™¨å…¥æ‰‹ï¼Œå‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªè®­ç»ƒå¥½çš„classifierï¼Œä¼šä¸ºæ¯ä¸€ä¸ªè¾“å…¥çš„å›¾ç‰‡è¾“å‡ºå±äºå„ç§ç±»åˆ«çš„æ¦‚ç‡ã€‚<br>ç°åœ¨è®¾å®šä¸€ä¸ªé¢å¤–çš„æ•°å€¼ï¼Œç§°ä¸ºconfidenceä¿¡å¿ƒï¼Œconfidenceçš„è®¡ç®—æ–¹æ³•å¯ä»¥äººä¸ºè®¾å®šï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯é€‰å–å„ç±»åˆ«é¢„ä¼°æ¦‚ç‡ä¸­çš„æœ€å¤§å€¼ã€‚<br>å¦‚æœä¿¡å¿ƒå€¼å°äºé˜ˆå€¼$\lambda$ï¼Œåˆ™è®¤ä¸ºè¾“å…¥çš„æ ·æœ¬å±äºå¼‚å¸¸å€¼ã€‚ä¿¡å¿ƒå€¼è¿‡å°ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯åˆ†ç±»å™¨å¯¹ä¸ä¼°è®¡çš„æŠŠæ¡å¾ˆå°ï¼Œæˆ–è€…ç†è§£ä¸ºå‡ºç°äº†å®ƒæ— æ³•è¯†åˆ«çš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯åˆ†ç±»æ„ä¹‰ä¸Šçš„å¼‚å¸¸ç±»åˆ«ã€‚<br><em>è¿™ç§æ–¹æ³•å¾ˆç®€å•ï¼Œä½†æ˜¯ç›®å‰æ˜¯å¾ˆæœ‰æ•ˆçš„æ–¹æ³•ä¹‹ä¸€</em></p>
<p><img src='confidence.png' width='600' title='normal-anomaly confidence'></p>
<p>ä¸Šå›¾æ˜¯ä¸€ä¸ªâ€œè¾›æ™®æ£®å®¶æ—åˆ†ç±»å™¨â€é¢å¯¹ä¸¤ç§æ•°æ®ï¼ˆæ­£å¸¸ä¸å¼‚å¸¸æ•°æ®ï¼Œå¼‚å¸¸ä¸ºè¾›æ™®æ£®å®¶æ—ä¹‹å¤–çš„åŠ¨æ¼«å›¾ç‰‡ï¼‰æ—¶çš„åˆ†ç±»ä¿¡å¿ƒå€¼ï¼Œå¯ä»¥çœ‹åˆ°é¢å¯¹æ­£å¸¸æ•°æ®çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„ä¿¡å¿ƒå€¼çš„ç»“æœéƒ½æ¥è¿‘1ï¼Œè€Œå¯¹äºå¼‚å¸¸æ•°æ®ï¼ˆå‡‰å®«æ˜¥æ—¥ï¼‰çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„ä¿¡å¿ƒå€¼ç›¸å¯¹è¾ƒä½ã€‚ä¹Ÿå°±æ˜¯ä¿¡å¿ƒå€¼å¯¹äºæ­£å¸¸ã€å¼‚å¸¸æ•°æ®çš„åˆ†å¸ƒæœ‰æ¯”è¾ƒæ˜æ˜¾çš„åŒºåˆ«ã€‚</p>
<h3 id="ç¤ºä¾‹æ¡†æ¶"><a href="#ç¤ºä¾‹æ¡†æ¶" class="headerlink" title="ç¤ºä¾‹æ¡†æ¶"></a>ç¤ºä¾‹æ¡†æ¶</h3><p>Training Setï¼šå…¨éƒ¨æ•°æ®æ¥è‡ªäºè¾›æ™®æ£®å®¶æ—çš„å›¾ç‰‡ï¼Œå¹¶å¾—åˆ°äº†è‰¯å¥½çš„æ ‡æ³¨<br>Dev Setï¼š å›¾ç‰‡æœ‰ä¸€äº›ä¸æ˜¯æ¥è‡ªè¾›æ™®æ£®å®¶æ—ï¼Œå¾—åˆ°äº†è‰¯å¥½çš„æ ‡æ³¨ï¼Œç”¨äºè°ƒæ•´è¶…å‚æ•°$\lambda$<br>Test Set: æµ‹è¯•ç”¨ä¾‹</p>
<p><img src='evaluation.png' width='600' title='result'></p>
<p>çº¢è‰²çš„ç‚¹æ˜¯å¼‚å¸¸å€¼ï¼Œå‘ç°ä¹Ÿæœ‰å­˜åœ¨éƒ¨åˆ†ä¿¡å¿ƒå€¼å¾ˆé«˜çš„å¼‚å¸¸æ•°æ®ï¼Œä½†æ€»çš„æ¥è¯´å¤§éƒ¨åˆ†æ­£å¸¸æ•°æ®çš„ä¿¡å¿ƒå€¼éƒ½éå¸¸é«˜ã€‚<br>å¦‚æœåªä½¿ç”¨accuracyæ¥è¡¡é‡ç»“æœï¼Œå¯¹äºå¼‚å¸¸æ£€æµ‹æ¥è¯´å¾ˆä¸åˆç†ï¼Œå› ä¸ºç»å¤§å¤šæ•°æ•°æ®éƒ½æ˜¯æ­£å¸¸çš„ï¼Œç³»ç»Ÿä¼šè¶‹å‘äºç›´æ¥æŠŠæ‰€æœ‰æ•°æ®å˜æˆæ­£å¸¸ï¼<br>è¿™è¾¹å°±åˆè¦ç”¨precision+recallæ¥åˆ¤æ–­äº†ï¼Œå…·ä½“é—®é¢˜precisionå’Œrecallçš„é‡è¦åº¦å¹¶ä¸åŒï¼Œæ¯”å¦‚ç™Œç—‡åˆ¤æ–­çš„æ—¶å€™äººä»¬å¯¹äºå¬å›ç‡æ›´çœ‹é‡ã€‚</p>
<p>ä¸€äº›æ¨¡å‹å¯ä»¥ç›´æ¥å­¦ä¹ å‡ºconfidenceã€‚<br>ä½¿ç”¨GANå»ç”Ÿæˆå¼‚å¸¸æ•°æ®ï¼Œæ¥å¼¥è¡¥å¼‚å¸¸æ•°æ®ä¸å¤Ÿçš„é—®é¢˜ã€‚</p>
<h2 id="æ— æ ‡ç­¾æ•°æ®çš„æ£€æµ‹"><a href="#æ— æ ‡ç­¾æ•°æ®çš„æ£€æµ‹" class="headerlink" title="æ— æ ‡ç­¾æ•°æ®çš„æ£€æµ‹"></a>æ— æ ‡ç­¾æ•°æ®çš„æ£€æµ‹</h2><p>æ£€æµ‹ç¤ºä¾‹ï¼šå®å¯æ¢¦åœ¨çº¿æ¸¸æˆä¸­æ£€æµ‹æ¸¸æˆå°ç™½</p>
<ul>
<li>ä»è¾“å…¥ä¸­æå–å‘é‡æ•°æ®</li>
<li>æ²¡æœ‰æ ‡ç­¾æ•°æ®</li>
</ul>
<h3 id="æœ€å¤§ä¼¼ç„¶å‡½æ•°"><a href="#æœ€å¤§ä¼¼ç„¶å‡½æ•°" class="headerlink" title="æœ€å¤§ä¼¼ç„¶å‡½æ•°"></a>æœ€å¤§ä¼¼ç„¶å‡½æ•°</h3><p>å‡è®¾æ‰€æœ‰çš„æ•°æ®ç‚¹éƒ½æ˜¯ä¸€ä¸ªæ¦‚ç‡å¯†åº¦å‡½æ•°$f_\theta(x)$</p>
<script type="math/tex; mode=display">
L(\theta) = f_\theta(x^1)f_\theta(x^2)...f_\theta(x^N)</script><p><strong>Likelihood</strong></p>
<script type="math/tex; mode=display">
\theta^* = argmax_\theta L(\theta)</script><p>ä¸€ç§å¸¸ç”¨çš„æ¨¡å‹ï¼šé«˜æ–¯åˆ†å¸ƒ<br><img src='gaussian.png' width='600' title='gaussian distribution'></p>
<p>é«˜æ–¯åˆ†å¸ƒç”±å‡å€¼ï¼ˆvectorï¼‰å’Œç›¸å…³çŸ©é˜µï¼ˆmatrixï¼‰å†³å®š</p>
<p><strong>ä¸ºä»€ä¹ˆç”¨é«˜æ–¯åˆ†å¸ƒï¼Ÿ</strong>ï¼šå¸¸ç”¨ï¼Œæ•ˆæœå¾ˆå¥½ï¼Œæœ‰æ—¶å€™çœ‹èµ·æ¥æ ¹æœ¬ä¸æ˜¯é«˜æ–¯çš„åˆ†å¸ƒï¼Œå¯ä»¥æ›´æ·±å…¥çš„å¯»æ‰¾function</p>
<h2 id="Outlook"><a href="#Outlook" class="headerlink" title="Outlook"></a>Outlook</h2><ol>
<li><p>Auto-Encoder è®­ç»ƒè¾“å…¥ä¸è¾“å‡ºè¶Šåƒè¶Šå¥½ã€‚æµ‹è¯•çš„æ—¶å€™ï¼Œå¦‚æœè¿˜åŸå›æ¥çš„å›¾ç‰‡å’ŒåŸå›¾ç‰‡å¾ˆåƒï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºæ˜¯å¼‚å¸¸å›¾ç‰‡</p>
</li>
<li><p>One-class SVM</p>
</li>
<li><p>Isolated Forest å‘¨å¿—å</p>
</li>
</ol>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>ML2020Note-4</title>
    <url>/2020/12/22/ML2020Note-4/</url>
    <content><![CDATA[<p>æ— ç›‘ç£å­¦ä¹  è‡ªç¼–ç å™¨ è‡ªç¼–ç ç½‘ç»œ<br>Auto-Encoder and More Auto-Encoder<br><a id="more"></a></p>
<p><img src='auto.png' width='500' title='auto-encoder'></p>
<h2 id="PCA-and-Deep-Auto-Encoder"><a href="#PCA-and-Deep-Auto-Encoder" class="headerlink" title="PCA and Deep Auto-Encoder"></a>PCA and Deep Auto-Encoder</h2><p>Auto Encoderæ˜¯æ— ç›‘ç£å­¦ä¹ çš„ä¸€ç§ï¼Œç›¸æ¯”ç›‘ç£å­¦ä¹ å¯ä»¥åˆ©ç”¨çš„dataæ•°æ®æ›´å¤šï¼ˆä¸éœ€è¦æ ‡æ³¨ï¼‰</p>
<p>PCAæ˜¯ä¸€ç§ç¼–è§£ç å™¨ï¼Œç¼–ç å’Œè§£ç çš„æƒé‡æ˜¯è½¬ç½®çš„å…³ç³»</p>
<h2 id="Text-Retrieval"><a href="#Text-Retrieval" class="headerlink" title="Text Retrieval"></a>Text Retrieval</h2><p>æ–‡æœ¬æ£€ç´¢ï¼Œè¾“å…¥queryè¿”å›æœ€æ¥è¿‘çš„æ–‡ä»¶</p>
<p><img src='textRetrieval.png' width='500' title='textRetrieval'></p>
<p>ä½¿ç”¨auto-encoderå°†ç»´åº¦é™ä½åˆ°2ç»´ï¼Œå¯ä»¥çœ‹åˆ°éå¸¸æ»¡æ„çš„åˆ†ç±»ç»“æœ<br><img src='textRetrieval2.png' width='500' title='textRetrieval2'></p>
<h2 id="Similar-Imgae-Search"><a href="#Similar-Imgae-Search" class="headerlink" title="Similar Imgae Search"></a>Similar Imgae Search</h2><p>ç›¸ä¼¼å›¾åƒæœå¯»<br>å¦‚æœåœ¨åƒç´ ç­‰çº§è¿›è¡Œè·ç¦»è®¡ç®—ï¼Œç»“æœä»¤äººå¾ˆä¸æ»¡æ„ï¼Œè€Œä½¿ç”¨encoderåœ¨ç¼–ç ä¹‹å</p>
<p><img src='imageSearch.png' width='500' title='imageSearch'><br><img src='imageSearch2.png' width='500' title='imageSearch'></p>
<h2 id="Pre-Training"><a href="#Pre-Training" class="headerlink" title="Pre-Training"></a>Pre-Training</h2><p><img src='pre.png' width='500' title='pre'><br>å¦‚æœencoderçš„hidden layerè¶…è¿‡äº†è¾“å…¥è¾“å‡ºï¼Œé‚£ä¹ˆéœ€è¦åœ¨éšè—å±‚æ·»åŠ ä¸€ä¸ªå¾ˆå¼ºçš„regularzationï¼Œéœ€è¦ä¸­é—´å¾ˆå¤§çš„ç»´åº¦æ˜¯ä¸€ä¸ªç³»æ•°çš„çŸ©é˜µï¼Œè®©èµ·åˆ°ä½œç”¨çš„ç¥ç»å…ƒæ•°é‡æ¯”è¾ƒå°‘ï¼Œé˜²æ­¢ç½‘ç»œç›´æ¥æŠŠè¾“å…¥åŸæ ·è¾“å‡º</p>
<p><img src='pre2.png' width='500' title='pre2'></p>
<p>é€å±‚çš„ç”¨auto-encoderå­¦ä¹ éšè—å±‚ï¼Œä½œä¸ºé¢„è®­ç»ƒçš„å‚æ•°<br>è¿™æ ·ç±»ä¼¼identityå­¦ä¹ çš„æ–¹å¼å¯ä»¥å­¦åˆ°æ¯”è¾ƒå¥½çš„æƒé‡ï¼Œä¹‹åfine-tuneä¼šå¾—åˆ°æ¯”è¾ƒå¥½çš„æ•°æ®</p>
<h2 id="De-Noising-auto-encoder"><a href="#De-Noising-auto-encoder" class="headerlink" title="De-Noising auto-encoder"></a>De-Noising auto-encoder</h2><p>ç”¨åŠ å™ªå£°åçš„æ•°æ®ä½œä¸ºè¾“å…¥ï¼Œä»¥åŠ å™ªå£°ä¹‹å‰çš„æ•°æ®ä½œä¸ºè¦å­¦ä¹ çš„targetï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå»å™ªçš„ç½‘ç»œ</p>
<p><img src='noise.png' width='500' title='noise'></p>
<h2 id="CNN-Unpooling-Deconvolution"><a href="#CNN-Unpooling-Deconvolution" class="headerlink" title="CNN-Unpooling-Deconvolution"></a>CNN-Unpooling-Deconvolution</h2><p><img src='unpooling.png' width='500' title='unpooling'></p>
<p>åpoolingæ˜¯ä¸€ç§æ‰©å……imageçš„æ–¹æ³•</p>
<p>åå·ç§¯å®é™…ä¸Šå°±æ˜¯å·ç§¯ï¼Œåªä¸è¿‡æƒé‡çš„é¡ºåºä¸ä¸€æ ·</p>
<h2 id="More-About-Auto-Encoder"><a href="#More-About-Auto-Encoder" class="headerlink" title="More About Auto-Encoder"></a>More About Auto-Encoder</h2><h3 id="discriminator"><a href="#discriminator" class="headerlink" title="discriminator"></a>discriminator</h3><p><img src='discri.png' width='500' title='discriminator'></p>
<p>æŠŠencoderå’Œdiscriminatorä¸€èµ·è®­ç»ƒï¼Œdiscriminatoræ˜¯è¯„ä»·encoderçš„ä¸€ä¸ªæŒ‡æ ‡</p>
<p>è¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„auto-encoder</p>
<h3 id="sequential-data"><a href="#sequential-data" class="headerlink" title="sequential data"></a>sequential data</h3><p>to  be continued</p>
<h3 id="Explainable-Encoder"><a href="#Explainable-Encoder" class="headerlink" title="Explainable Encoder"></a>Explainable Encoder</h3><p>Encoderå¦‚ä½•å˜å¾—å¯è§£é‡Š<br>Feature Disentangle<br>ä»æ•°æ®ä¸­æå–ä¸è½»æ˜“å¯ä»¥çœ‹åˆ°çš„ç‰¹å¾ä¿¡æ¯ï¼Œæ¯”å¦‚ä»ä¸€æ®µè¯­éŸ³ä¸­æå–åˆ°å£°éŸ³ä¿¡æ¯</p>
<h3 id="Discrete-Representation"><a href="#Discrete-Representation" class="headerlink" title="Discrete Representation"></a>Discrete Representation</h3><p>Encoderå¾—åˆ°vectoråï¼Œå»codebookä¸­å¯»æ‰¾æœ€ç›¸ä¼¼çš„vectorï¼Œå†æ”¾å…¥decoderä¸­ï¼Œæœ€å°åŒ–reconstruction lossï¼Œè¾¾åˆ°ä¸€ä¸ªåˆ†ç±»çš„æ•ˆæœ</p>
<p><img src='VQVAE.png' width='500' title='VQVAE'></p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>UNIX/LINUXå¤§å­¦æŒ‡å—</title>
    <url>/2020/09/26/UNIX-LINUX%E5%A4%A7%E5%AD%A6%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<p>ã€ŠHarley Hanhâ€™s Guide to UNIX&amp;LINUXã€‹æ˜¯ä¸€æœ¬ç»™UNIX/LINUXåˆå­¦è€…å­¦ä¹ çš„è¯»ç‰©ï¼Œå†…å®¹æ¯”è¾ƒæ´»æ³¼æœ‰è¶£ï¼Œè¿™é‡Œè®°å½•ä¸€äº›æœ‰è¶£çš„çŸ¥è¯†ç‚¹ã€‚</p>
<a id="more"></a>
<h2 id="ä»€ä¹ˆæ˜¯UNIXå’ŒLINUX"><a href="#ä»€ä¹ˆæ˜¯UNIXå’ŒLINUX" class="headerlink" title="ä»€ä¹ˆæ˜¯UNIXå’ŒLINUX"></a>ä»€ä¹ˆæ˜¯UNIXå’ŒLINUX</h2><p>UNIXæ˜¯è´å°”å®éªŒå®¤çš„äº§å“ï¼Œç‰ˆæƒåœ¨AT&amp;Tæ‰‹é‡Œï¼Œä½†æ˜¯å› ä¸ºç‰ˆæƒé—®é¢˜ä¸€ç›´å—åˆ°å¹¿å¤§ç¨‹åºå‘˜çš„ä¸æ»¡ï¼Œä¸æ–­å°è¯•çªç ´åŸæœ¬Systemçš„é™åˆ¶ï¼ŒBSDå’ŒLinuxéƒ½å¯ä»¥è¯´æ˜¯è¿™ç§å¼€æ”¾ç²¾ç¥çš„äº§ç‰©ã€‚</p>
<p>UNIXæ˜¯ä¸€ç§å¤šç”¨æˆ·ã€å¤šä»»åŠ¡å¤„ç†çš„æ“ä½œç³»ç»Ÿã€‚åŒ…æ‹¬ä¸€ä¸ªç±»UNIXå†…æ ¸ï¼Œè®¸å¤šç±»UNIXå®ç”¨å·¥å…·å’Œä¸€ä¸ªç±»UNIX shellç»„æˆã€‚</p>
<p>Linuxæ˜¯ä»»ä½•ä½¿ç”¨Linuxå†…æ ¸çš„Unixçš„åç§°ã€‚ï¼ˆéµå¾ªGNUçš„GPLåè®®ï¼‰</p>
<p>ä»æˆ‘ç†è§£çš„è§’åº¦ï¼Œç›®å‰çš„UNIX=BSDå‘è¡Œç‰ˆ+LINUXå‘è¡Œç‰ˆ+SystemVå‘è¡Œç‰ˆï¼ˆå­˜ç–‘ï¼‰ã€‚</p>
<blockquote>
<p> ç±»UNIXè¿™ä¸ªæœ¯è¯­å¾ˆæ€ªå¼‚ä¹Ÿè§£é‡Šä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œä½†æ˜¯å¤§å®¶çœ‹åˆ°äº†éƒ½æ˜ç™½åœ¨è¯´ä»€ä¹ˆå“ˆå“ˆå“ˆ</p>
</blockquote>
<hr>
<h2 id="å‘½ä»¤è¡Œ"><a href="#å‘½ä»¤è¡Œ" class="headerlink" title="å‘½ä»¤è¡Œ"></a>å‘½ä»¤è¡Œ</h2><h3 id="ç™»å½•ä¸åŸºæœ¬ç”¨æˆ·ç›¸å…³"><a href="#ç™»å½•ä¸åŸºæœ¬ç”¨æˆ·ç›¸å…³" class="headerlink" title="ç™»å½•ä¸åŸºæœ¬ç”¨æˆ·ç›¸å…³"></a>ç™»å½•ä¸åŸºæœ¬ç”¨æˆ·ç›¸å…³</h3><ul>
<li>æŸ¥çœ‹æ—¥æœŸï¼šdateï¼Œcal,calendar</li>
<li>ä¸ç™»å½•çŠ¶æ€ç›¸å…³ï¼šwhoï¼Œwï¼Œwhoamiï¼Œpasswdï¼Œlast</li>
<li>ç³»ç»ŸçŠ¶æ€ï¼šhostnameï¼Œunameï¼Œuptime</li>
<li>æ³¨é”€ï¼šlogooutï¼Œexitï¼Œloginï¼ˆä¸ä¸€å®šå®Œå…¨æ³¨é”€ï¼‰ï¼Œ^Dï¼ˆå¼ºè¡Œæ³¨é”€ï¼‰</li>
<li>echo $TERM æŸ¥çœ‹ç»ˆç«¯ç±»å‹ï¼Œsttyæ˜¾ç¤ºæˆ–æ”¹å˜ç»ˆç«¯è®¾ç½®ï¼ŒttyæŸ¥çœ‹ç»ˆç«¯å†…éƒ¨åç§°<ul>
<li>ttyæ˜¯teletypeç»ˆç«¯è¾“å…¥ï¼ˆå…¶å®å°±æ˜¯é”®ç›˜ï¼‰çš„ç¼©å†™</li>
<li>printä¹Ÿæ˜¯å› ä¸ºä¹‹å‰çš„ç»ˆç«¯è¾“å‡ºæ˜¯æ‰“å°çº¸å¸¦è€Œå‘½åçš„</li>
</ul>
</li>
</ul>
<h3 id="Unixé”®ç›˜ä¿¡å·"><a href="#Unixé”®ç›˜ä¿¡å·" class="headerlink" title="Unixé”®ç›˜ä¿¡å·"></a>Unixé”®ç›˜ä¿¡å·</h3><blockquote>
<p>é”®ç›˜æ˜ å°„ç³»ç»Ÿå¯ä»¥é€‚ç”¨äºä»»ä½•ç±»å‹é”®ç›˜ï¼Œè¿™ç§æ˜ å°„å¯ä»¥è¢«æ”¹å˜ï¼Œç†è§£å¹¶æ”¹å˜æ˜¯Unix CLIï¼ˆCommand Line Interfaceï¼‰çš„ä½¿ç”¨è€…å¿…å¤‡æŠ€èƒ½ã€‚</p>
</blockquote>
<p>stty -aå¯ä»¥æ˜¾ç¤ºç›®å‰çš„æ˜ å°„ï¼ˆset terminal -allï¼‰</p>
<h4 id="é”®å…¥è¿‡ç¨‹ä¸­çš„ä¿¡å·"><a href="#é”®å…¥è¿‡ç¨‹ä¸­çš„ä¿¡å·" class="headerlink" title="é”®å…¥è¿‡ç¨‹ä¸­çš„ä¿¡å·"></a>é”®å…¥è¿‡ç¨‹ä¸­çš„ä¿¡å·</h4><ul>
<li>eraseåˆ é™¤æœ€åä¸€ä¸ªå­—ç¬¦</li>
<li>weraseåˆ é™¤æœ€åä¸€ä¸ªé”®å…¥çš„å•è¯(maybe word-erase?)</li>
<li>killåˆ é™¤æ•´è¡Œ</li>
</ul>
<p><em>Backspace</em> æˆ–è€… <em>Delete</em> <em>^H</em> è´Ÿè´£å‘é€eraseä¿¡å·</p>
<p><em>^W</em>ä¼šè§¦å‘weraseä¿¡å·</p>
<p><em>^X</em>æˆ–è€…<em>^U</em>è§¦å‘æ¸…é™¤æ•´è¡Œçš„killä¿¡å·ï¼Œåœ¨WSLä¸­æµ‹è¯•ä¸º<em>^U</em></p>
<blockquote>
<p>killä¿¡å·å¹¶ä¸ä¼šåœæ­¢ç¨‹åºï¼Œå®ƒåªåˆ é™¤åˆšé”®å…¥çš„ä¸€è¡Œï¼Œä¸ºäº†åœæ­¢éœ€è¦^Cä¸­æ–­ä¿¡å·</p>
</blockquote>
<h4 id="Backspaceä»ä½•å¤„æ¥"><a href="#Backspaceä»ä½•å¤„æ¥" class="headerlink" title="Backspaceä»ä½•å¤„æ¥"></a>Backspaceä»ä½•å¤„æ¥</h4><p>ä»¥å‰çš„æ‰“å°æœºç»ˆç«¯çš„è¾“å…¥è¾“å‡ºéƒ½æ˜¯æ‰“å°çº¸å¸¦å­”ï¼Œæ¯ä¸€ä¸ªå­”ä»£è¡¨2è¿›åˆ¶çš„ä¸€ä½0/1ï¼Œå¦‚æœè¾“å…¥é”™è¯¯äº†ï¼Œä¸èƒ½åƒç°åœ¨çš„å±å¹•ç›´æ¥åˆ æ‰ï¼Œè€Œæ˜¯è¦å…ˆå›ä½ï¼ˆè¾“å…¥^Hï¼Œå›ä½Backspaceï¼ŒBSå‘½ä»¤ï¼‰ï¼Œç„¶å<em>Rubout</em>ï¼ˆæ“¦æ‰ï¼Œå‘é€DELå‘½ä»¤ï¼‰ï¼Œä½¿å¾—ç©¿å­”æœº8ä½éƒ½æ‰“å­”ç½®1ï¼Œä½¿å¾—è¯¥å¿½ç•¥è¯¥å­—ç¬¦ã€‚ï¼ˆ127æ— æ•ˆï¼Ÿï¼‰</p>
<p>^Håæ¥ç”±BackspaceæŒ‰é”®ä»£æ›¿ï¼ŒRuboutç”±Deleteä»£æ›¿</p>
<p><em>åæ¥æ··ä¹±äº†ï¼ŒBackspaceç›´æ¥æ˜ å°„åˆ°äº†eraseï¼Œä¹±ä¸ƒå…«ç³Ÿçš„æˆ‘ä¹Ÿçœ‹ä¸æ‡‚ã€‚ç°åœ¨PCä¸Šçš„deleteå’Œå½“æ—¶çš„deleteä¹Ÿå®Œå…¨ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿äº†ï¼Œæ²¡æœ‰æ˜ å°„åˆ°eraseã€‚</em></p>
<p><strong>æŒ‰ä¸‹^/åœ¨æˆ‘çš„WSLä¸­æ˜¯æ’¤é”€æ“ä½œ</strong></p>
<h4 id="ç¥ç§˜å­—ç¬¦-H"><a href="#ç¥ç§˜å­—ç¬¦-H" class="headerlink" title="ç¥ç§˜å­—ç¬¦^H"></a>ç¥ç§˜å­—ç¬¦^H</h4><blockquote>
<p>å¦‚æœå‘ç°è‡ªå·±ç‹‚æŒ‰backspaceæ²¡æœ‰å‡ºç°åˆ é™¤æ•ˆæœï¼Œè€Œæ˜¯å‡ºæ¥äº†å¥½å‡ ä¸ª^Hï¼Œä»£è¡¨åœ¨ä½ çš„è¿œç¨‹ä¸»æœºé‚£é‡Œï¼Œ^?è¢«æ˜ å°„ä½eraseä¿¡å·ï¼Œä½ å‘é€çš„éƒ½æ˜¯æ— æ•ˆçš„æŒ‡ä»¤ã€‚</p>
</blockquote>
<p>ä¸ºäº†æµ‹è¯•è¿™ä¸ªä¸œè¥¿ï¼Œæˆ‘ç”¨äº†ä¹¦ä¸Šçš„stty erase ^Hå‘½ä»¤ï¼Œå°†ä¸»æœºçš„æ˜ å°„æ”¹å˜äº†ï¼Œç»“æœå‘ç°WSLçš„ç»ˆç«¯ä¸Šbackspaceæ˜ å°„çš„æ˜¯^?ï¼Œå¯¼è‡´æˆ‘ç°åœ¨æŒ‰ä¸‹backspaceä¼šå‡ºæ¥ä¸€å †^?ï¼Œç€å®å¯çˆ±</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adin@LAPTOP-VA1IGCFC:~$ stty erase ^H</span><br><span class="line">adin@LAPTOP-VA1IGCFC:~$ ^?^?^?^?^?^?</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è¿˜æ˜¯æ”¹å›å»äº† stty erase ^?</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adin@LAPTOP-VA1IGCFC:~$ stty erase ^?</span><br></pre></td></tr></table></figure>
<h4 id="åœæ­¢ä¸å¯åŠ¨ç¨‹åº"><a href="#åœæ­¢ä¸å¯åŠ¨ç¨‹åº" class="headerlink" title="åœæ­¢ä¸å¯åŠ¨ç¨‹åº"></a>åœæ­¢ä¸å¯åŠ¨ç¨‹åº</h4><ul>
<li>intrï¼š</li>
</ul>
<p>ä¸€äº›ç¨‹åºä¸ºäº†é˜²æ­¢è¯¯æ“ä½œï¼ŒæŠŠ^Cå‘½ä»¤ç»™ç¦æ­¢äº†ï¼Œæ¯”å¦‚viï¼Œæ‰€ä»¥åœ¨ç¼–è¾‘çš„æ—¶å€™ç»å¸¸ä¼šå‡ºç°å¥‡å¥‡æ€ªæ€ªçš„ç¥ç§˜æ˜ å°„åå­—ç¬¦ã€‚</p>
<ul>
<li>quitï¼š</li>
</ul>
<p>quitæ˜¯å½“å¹´ç”¨äºè°ƒè¯•ç”¨çš„è€å‘½ä»¤ï¼Œåœæ­¢ç¨‹åºåŠ å¤åˆ¶ä¸€ä»½å†…å­˜ä¿ç•™ï¼Œä»¥ä¾¿åç»­åˆ†æå½“æ—¶çš„åŸå› ï¼Œæ–‡ä»¶å‘½åä¸ºcoreï¼ˆå†…å­˜çš„è€åå­—ï¼‰ï¼Œç§°ä½œ<strong>ç£èŠ¯æ–‡ä»¶</strong></p>
<p>å‘½ä»¤æ˜¯^\ï¼Œä½†åœ¨WSLä¸Šæµ‹è¯•å‘ç°ä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿï¼ˆå¯èƒ½æ˜¯æ—¶æœºä¸å¯¹ï¼Œåœ¨bashæ²¡æœ‰è¿è¡Œçš„æ—¶å€™å•ç‹¬æŒ‰æ²¡ååº”ï¼‰</p>
<ul>
<li>stopï¼š</li>
</ul>
<p>^Så‘é€stopä¿¡å·ç”¨äºç»ˆæ­¢å±å¹•çš„æ˜¾ç¤ºï¼Œåœ¨å¤§ç¯‡å¹…ç–¯ç‹‚æ»šåŠ¨çš„æ—¶å€™ä¼šæœ‰ç”¨ï¼Œå½“ç„¶æ›´å¥½çš„æ˜¯lesså‘½ä»¤</p>
<ul>
<li>start</li>
</ul>
<p>^Qå‘é€startå‘½ä»¤ï¼Œå’Œä¹‹å‰çš„stopå¯¹åº”ç€ï¼Œæ¢å¤å±å¹•çš„è¾“å‡ºï¼Œå¦‚æœå±å¹•</p>
<h4 id="ç»ˆæ­¢ä¿¡å·eof"><a href="#ç»ˆæ­¢ä¿¡å·eof" class="headerlink" title="ç»ˆæ­¢ä¿¡å·eof"></a>ç»ˆæ­¢ä¿¡å·eof</h4><p>è¿™ä¸ªæ¯”è¾ƒç†Ÿæ‚‰äº†^Då‘é€è¾“å…¥ç»ˆæ­¢ä¿¡å·ï¼Œend of fileï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ³¨é”€shellçš„å‘½ä»¤</p>
<p>å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡{IGNOREEOF}æ¥å°é—­eofä¿¡å·ï¼Œæ•°å­—ä»£è¡¨è¿ç»­æŒ‰ä¸‹å¤šå°‘æ¬¡æ‰èƒ½æ³¨é”€</p>
<h4 id="è¿”å›ä¸æ¢è¡Œ"><a href="#è¿”å›ä¸æ¢è¡Œ" class="headerlink" title="è¿”å›ä¸æ¢è¡Œ"></a>è¿”å›ä¸æ¢è¡Œ</h4><p>ä¹Ÿæ˜¯ä¸ºäº†é€‚é…ä»¥å‰æ‰“å°æœºæ‰“å°çº¸æ¢è¡Œé—®é¢˜çš„ä¿¡å·ï¼Œå¯¹åº”é”®ç›˜ä¸Šçš„^Mï¼ˆè¿”å›ï¼‰å’Œ^Jï¼ˆæ¢è¡Œï¼‰ï¼Œè¿™ä¸¤ä¸ªéƒ½å¯ä»¥ä»£æ›¿å›è½¦</p>
<h3 id="ç«‹å³ä½¿ç”¨ç¨‹åºå§"><a href="#ç«‹å³ä½¿ç”¨ç¨‹åºå§" class="headerlink" title="ç«‹å³ä½¿ç”¨ç¨‹åºå§"></a>ç«‹å³ä½¿ç”¨ç¨‹åºå§</h3><h4 id="æŸ¥æ‰¾which-type-whence"><a href="#æŸ¥æ‰¾which-type-whence" class="headerlink" title="æŸ¥æ‰¾which type whence"></a>æŸ¥æ‰¾which type whence</h4><p>whichå’Œtypeé€‚ç”¨bash</p>
<p>whenceé€‚ç”¨korn shell</p>
<h4 id="ä¸€äº›è¾…åŠ©åŠŸèƒ½"><a href="#ä¸€äº›è¾…åŠ©åŠŸèƒ½" class="headerlink" title="ä¸€äº›è¾…åŠ©åŠŸèƒ½"></a>ä¸€äº›è¾…åŠ©åŠŸèƒ½</h4><ul>
<li>lockï¼šé”å®šç»ˆç«¯15minï¼Œæˆ–è€…è‡ªå·±æŒ‡å®šæ—¶é—´ï¼Œåªèƒ½ç”¨å½“å‰useræˆ–è€…rootçš„å¯†ç æ‰èƒ½è§£é”</li>
<li>leaveï¼šæé†’ç»“æŸå·¥ä½œï¼Œè®¾å®šç¦»å¼€æ—¶é—´ï¼Œè¶…è¿‡æ—¶é—´åæ¯åˆ†é’Ÿå‚¬ä¿ƒä½ ä¸€æ¬¡</li>
<li>bcï¼šè®¡ç®—å™¨bc -lå¯åŠ¨åº“å‡½æ•°ï¼Œscaleå°æ•°ï¼Œibase/obaseè¾“å…¥è¾“å‡ºåŸº</li>
</ul>
<h4 id="è¯´æ˜ä¹¦å’Œbang"><a href="#è¯´æ˜ä¹¦å’Œbang" class="headerlink" title="è¯´æ˜ä¹¦å’Œbang"></a>è¯´æ˜ä¹¦å’Œbang</h4><p><strong>RTFMï¼šRead The Fucking Manual</strong></p>
<p>manå¼€å¯è¯´æ˜ä¹¦ï¼Œ/patternæœç´¢</p>
<p>ï¼å‘½ä»¤ç§°ä½œbangå­—ç¬¦å‘½ä»¤ï¼Œå¯ä»¥æš‚åœå½“å‰ç¨‹åºå‘shellå‘é€ä¸€æ¡å‘½ä»¤ï¼Œåœ¨è¯»manualçš„æ—¶å€™å¯ä»¥å»åšåˆ«çš„äº‹æƒ…</p>
<p>manå…¶å®æ˜¯ä¸€ä¸ªåŒ…å«9ä¸ªç« èŠ‚çš„æ‰‹å†Œï¼Œé»˜è®¤è¾“å…¥å‘½ä»¤ä¼šæ‰“å¼€å®ƒä»¬åœ¨ç¬¬ä¸€ç« èŠ‚é‡Œçš„å†…å®¹ï¼Œå¦‚æœéœ€è¦çœ‹å…¶ä»–éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨ manå‘½ä»¤åé¢è·Ÿä¸Šæ•°å­—</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adin@LAPTOP-VA1IGCFC:~$ man 2 <span class="built_in">which</span></span><br><span class="line">No manual entry <span class="keyword">for</span> <span class="built_in">which</span> <span class="keyword">in</span> section 2</span><br><span class="line">See <span class="string">'man 7 undocumented'</span> <span class="keyword">for</span> <span class="built_in">help</span> when manual pages are not available.</span><br><span class="line">adin@LAPTOP-VA1IGCFC:~$ man 2 <span class="built_in">kill</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°æ‰“å¼€äº†killåœ¨ç¬¬äºŒç« èŠ‚ç³»ç»Ÿè°ƒç”¨ä¸­çš„å†…å®¹ï¼Œwhichå‘½ä»¤æ²¡å‡ºç°åœ¨ç¬¬äºŒç« èŠ‚æ‰€ä»¥æ‰“ä¸å¼€</p>
<p><strong>ç ´æŠ˜å·è¢«å«åšdashï¼Œls -lå‘éŸ³ L-S-dashâ€”L</strong></p>
<h2 id="å‘½ä»¤ç‰¹å¾"><a href="#å‘½ä»¤ç‰¹å¾" class="headerlink" title="å‘½ä»¤ç‰¹å¾"></a>å‘½ä»¤ç‰¹å¾</h2><p>shellåˆ†ä¸ºä¸¤å¤§ç±»ï¼ŒBourn Shellå’ŒC-Shellï¼ŒBashæ˜¯Bourn Again Shellï¼ˆBorn-Againï¼‰ï¼Œå±äºå‰è€…æ—ç³»ï¼Œä¸¤è€…åœ¨è¯­æ³•ä¸Šæœ‰æ‰€ä¸åŒ</p>
<p>å‘½ä»¤ é€‰é¡¹ å‚æ•°</p>
<p>ls <strong>options</strong> <em>filenameâ€¦</em></p>
<ol>
<li>æ–¹æ‹¬å·é‡Œé¢çš„æ˜¯å¯é€‰æ‹©çš„</li>
<li>ä¸åœ¨æ–¹æ‹¬å·é‡Œçš„æ˜¯å¿…é¡»å†™çš„</li>
<li>é»‘ä½“å­—å¿…é¡»åŸæ ·è¾“å…¥</li>
<li>æ–œä½“å­—ä½¿ç”¨é€‚å½“å†…å®¹æ›¿æ¢</li>
<li>æ¥çœç•¥å·â€¦ä»£è¡¨å¯ä»¥é‡å¤ä»»æ„å¤šæ¬¡</li>
<li>å¦‚æœä¸€ä¸ªå•ç‹¬çš„é€‰é¡¹å’Œå‚æ•°æ”¾åœ¨ä¸€èµ·ï¼Œåˆ™å¿…é¡»åŒæ—¶ä½¿ç”¨æˆ–è€…ä¸ç”¨</li>
<li>ç«–çº¿åˆ†å¼€çš„å¤šä¸ªé¡¹ç›®ä»£è¡¨é€‰æ‹©</li>
</ol>
<ul>
<li>echo $SHELL æŸ¥çœ‹å½“å‰shell</li>
<li>less /etc/shells æŸ¥çœ‹ç³»ç»Ÿä¸Šè£…çš„æ‰€æœ‰shell</li>
<li>æ¯æ¬¡æ‰§è¡Œshellè„šæœ¬çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯å¯åŠ¨äº†ä¸€ä¸ªæ–°çš„shell</li>
</ul>
<h3 id="ç¯å¢ƒã€è¿›ç¨‹å’Œå˜é‡"><a href="#ç¯å¢ƒã€è¿›ç¨‹å’Œå˜é‡" class="headerlink" title="ç¯å¢ƒã€è¿›ç¨‹å’Œå˜é‡"></a>ç¯å¢ƒã€è¿›ç¨‹å’Œå˜é‡</h3><ul>
<li>ç¯å¢ƒï¼šä¸€ç»„ç”¨æ¥å­˜æ”¾ä¿¡æ¯çš„å˜é‡</li>
<li>å˜é‡ï¼šä¸€ä¸ªç”¨æ¥å­˜å‚¨æ•°æ®çš„<strong>å®ä½“</strong>ï¼Œä¸èƒ½æ•°å­—æ‰“å¤´ï¼Œåˆ†ä¸ºå…¨å±€å’Œå±€éƒ¨å˜é‡ï¼Œé»˜è®¤ä¸ºå±€éƒ¨shellå˜é‡ï¼Œä½¿ç”¨exportå¯ä»¥å¯¼å‡ºåˆ°ç¯å¢ƒä¸­,unsetç”¨äºå¤ä½ï¼ˆæ¸…é™¤ï¼‰å˜é‡</li>
<li>è¿›ç¨‹ï¼šçˆ¶å­è¿›ç¨‹ä¹‹é—´æœ‰å…¨å±€å˜é‡çš„ä½œç”¨</li>
</ul>
<p>envå’Œprintenvå‘½ä»¤å¯ä»¥æ˜¾ç¤ºç¯å¢ƒå˜é‡ï¼Œsetæ˜¾ç¤ºshellå˜é‡ä¸å®ƒä»¬çš„å€¼</p>
<p><strong>å…ƒå­—ç¬¦</strong>ï¼šç±»ä¼¼&lt;&gt;è¿™ç§å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„æ ‡ç‚¹å­—ç¬¦ç§°ä¸ºå…ƒå­—ç¬¦ï¼Œå…ƒå­—ç¬¦åœ¨åŒå¼•å·ä¸­ä¼šè§£é‡Šä¸ºæ™®é€šå­—ç¬¦</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adin@LAPTOP-VA1IGCFC:~$ <span class="built_in">echo</span> I am <span class="variable">$USER</span></span><br><span class="line">I am adin</span><br><span class="line">adin@LAPTOP-VA1IGCFC:~$ <span class="built_in">echo</span> I am &lt;<span class="variable">$USER</span>&gt;</span><br><span class="line">-bash: syntax error near unexpected token `newline<span class="string">'</span></span><br><span class="line"><span class="string">adin@LAPTOP-VA1IGCFC:~$ echo "I am &lt;$USER&gt;"</span></span><br><span class="line"><span class="string">I am &lt;adin&gt;</span></span><br></pre></td></tr></table></figure>
<p>set -o | +o <em>switchname</em>è¿™ç§å¯ä»¥æ”¹å˜shellæœ¬èº«çš„è®¾ç½®ï¼Œæ¯”å¦‚ignoreeofï¼Œä¸€èˆ¬ç”¨æˆ·æ¯”è¾ƒå°‘ä¿®æ”¹ï¼Œé»˜è®¤é…ç½®åœ¨bashrcæ–‡ä»¶ä¸­</p>
<hr>
<h2 id="ä½¿ç”¨shellï¼šå‘½ä»¤å’Œå®šåˆ¶"><a href="#ä½¿ç”¨shellï¼šå‘½ä»¤å’Œå®šåˆ¶" class="headerlink" title="ä½¿ç”¨shellï¼šå‘½ä»¤å’Œå®šåˆ¶"></a>ä½¿ç”¨shellï¼šå‘½ä»¤å’Œå®šåˆ¶</h2><h3 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h3><p>å„ç§å„æ ·çš„å­—æ¯æ•°å­—å­—ç¬¦alphanumeric characterï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œå›è½¦ç­‰ç­‰ã€‚å…¶ä¸­é‡è¦çš„ä¸€ç±»ç§°ä½œé€šé…ç¬¦globbingï¼Œç”¨äºæ–‡ä»¶åçš„æ‰©å±•ã€‚</p>
<p>åœ¨å¼•å·ä¹‹å†…å°±â€œå¼•ç”¨â€äº†å…ƒå­—ç¬¦ï¼Œä¼šå–æ¶ˆè½¬ä¹‰ã€‚åæ–œæ \ä¹Ÿæ˜¯é‡è¦çš„è½¬ä¹‰å­—ç¬¦ï¼Œä½¿ç”¨åŒå¼•å·çš„æ—¶å€™ä¼šä¿ç•™ $ â€˜ \è¿™ä¸‰ä¸ªçš„ç‰¹æ®Šå«ä¹‰ã€‚è€Œå•å¼•å·ä¼šæŠŠæ‰€æœ‰å…ƒå­—ç¬¦çš„æ„ä¹‰è¦†ç›–ï¼Œå˜æˆçº¯ç²¹çš„æ–‡æœ¬ã€‚ä¹Ÿå› æ­¤ï¼Œå•å¼•å·ç§°ä½œ<strong>å¼ºå¼•ç”¨</strong>ï¼ŒåŒå¼•å·å¯¹åº”ç§°ä½œ<strong>å¼±å¼•ç”¨</strong>ã€‚</p>
<h3 id="shellæç¤º"><a href="#shellæç¤º" class="headerlink" title="shellæç¤º"></a>shellæç¤º</h3><p>ä¿®æ”¹ç¯å¢ƒå˜é‡PS1å¯ä»¥æ”¹å˜æç¤ºè¡Œçš„æ ¼å¼ï¼Œç¼–å†™è¯¥æ ¼å¼çš„æ—¶å€™å¯ä»¥ä½¿ç”¨<em>ç‰¹æ®Šç </em>ï¼Œä¾‹å¦‚\uä»£è¡¨$USERï¼Œ\hä»£è¡¨hostname</p>
<h3 id="å†å²"><a href="#å†å²" class="headerlink" title="å†å²"></a>å†å²</h3><p>fc -lå¯ä»¥å±•ç¤ºå†å²å‘½ä»¤ï¼Œï¼numå¯ä»¥æ‰§è¡Œå¯¹åº”äº‹ä»¶çš„ç¼–å·</p>
<p>fc -s p=qå¯ä»¥è®©qå‘½ä»¤ä»¥på‘½ä»¤çš„å‚æ•°é‡æ–°æ‰§è¡Œä¸€é</p>
<p>^Rå¯ä»¥è®©ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ¨¡å¼ï¼Œç„¶åhistoryå»å¯»æ‰¾ä¸ä¹‹åŒ¹é…çš„æ ¼å¼</p>
<h3 id="åˆ«å"><a href="#åˆ«å" class="headerlink" title="åˆ«å"></a>åˆ«å</h3><p>alias å¯ä»¥èµ·åˆ«åï¼›<br>unaliaså–æ¶ˆåˆ«å</p>
<h2 id="ä½¿ç”¨shellï¼šåˆå§‹åŒ–æ–‡ä»¶"><a href="#ä½¿ç”¨shellï¼šåˆå§‹åŒ–æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨shellï¼šåˆå§‹åŒ–æ–‡ä»¶"></a>ä½¿ç”¨shellï¼šåˆå§‹åŒ–æ–‡ä»¶</h2><p>ä¸¤ä¸ªç‰¹æ®Šæ–‡ä»¶ä¹Ÿå°±æ˜¯åˆå§‹åŒ–æ–‡ä»¶ï¼š</p>
<ul>
<li>ç™»é™†æ–‡ä»¶login fileï¼šæ¯æ¬¡ç™»å½•æ—¶è‡ªåŠ¨æ‰§è¡Œçš„å‘½ä»¤ .profile</li>
<li>ç¯å¢ƒæ–‡ä»¶environment fileï¼šåœ¨æ–°shellå¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œçš„å‘½ä»¤ .bashrc(bash run commands)</li>
<li><p>è¿™ä¸ªå…¶å®ä¹Ÿç®—ç¬¬ä¸‰ä¸ªç‰¹æ®Šæ–‡ä»¶ï¼Œç™»å‡ºæ–‡ä»¶logout fileï¼Œå¯ä»¥åœ¨æ³¨é”€çš„æ—¶å€™æ‰§è¡Œä¸€äº›å‘½ä»¤ .profile_logout</p>
</li>
<li><p>äº¤äº’å¼shellï¼šè¾“å…¥å‘½ä»¤è¡Œæ—¶ï¼Œåˆåˆ†ä¸ºç™»å½•shellå’Œéç™»å½•shell</p>
</li>
<li>éäº¤äº’å¼shellï¼šæ‰§è¡Œshellè„šæœ¬æ—¶</li>
</ul>
<p><strong>æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ä¸éœ€è¦ç™»å½•ï¼Œå±äºéç™»å½•shellï¼Œ</strong>æ‰“å¼€è™šæ‹Ÿæ§åˆ¶å°åˆ™éœ€è¦ç™»å½•ã€‚æ‰“å¼€<strong>sshéœ€è¦ç™»å½•</strong>ï¼Œåœ¨shellæ‰“å¼€ä¸€ä¸ªæ–°shä¸éœ€è¦ç™»å½•ã€‚</p>
<p>ç™»å½•shellæ‰§è¡Œç™»å½•æ–‡ä»¶å’Œç¯å¢ƒæ–‡ä»¶ï¼Œéç™»å½•shellåªæ‰§è¡Œç¯å¢ƒæ–‡ä»¶ã€‚ä½†æ˜¯bashé»˜è®¤æ¨¡å¼åªæ‰§è¡Œç™»é™†æ–‡ä»¶ï¼Œè€Œä¸æ‰§è¡Œç¯å¢ƒæ–‡ä»¶ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p>
<h2 id="ç®¡çº¿å‘½ä»¤ä¸æ ‡å‡†IO"><a href="#ç®¡çº¿å‘½ä»¤ä¸æ ‡å‡†IO" class="headerlink" title="ç®¡çº¿å‘½ä»¤ä¸æ ‡å‡†IO"></a>ç®¡çº¿å‘½ä»¤ä¸æ ‡å‡†IO</h2><h3 id="æ ‡å‡†IO"><a href="#æ ‡å‡†IO" class="headerlink" title="æ ‡å‡†IO"></a>æ ‡å‡†IO</h3><ul>
<li>æ ‡å‡†è¾“å…¥ 0&lt; &lt;&lt;</li>
<li>æ ‡å‡†è¾“å‡º 1&gt; &gt;&gt;</li>
<li>æ ‡å‡†é”™è¯¯ 2&gt; &gt;&gt;<br>æ§åˆ¶ noclobberçš„é€‰é¡¹å¼€å…³ï¼Œ<em>å¯ä»¥æ§åˆ¶æ˜¯å¦å¯¹å·²æœ‰æ–‡ä»¶è¿›è¡Œä¿®æ”¹</em></li>
<li>â€˜&gt;| å¼ºåˆ¶é‡å†™â€™</li>
<li>2&amp;&gt;1 å°†æ ‡å‡†é”™è¯¯å®šå‘åˆ°æ ‡å‡†è¾“å‡º</li>
</ul>
<h3 id="ç®¡çº¿å‘½ä»¤"><a href="#ç®¡çº¿å‘½ä»¤" class="headerlink" title="ç®¡çº¿å‘½ä»¤"></a>ç®¡çº¿å‘½ä»¤</h3><p>teeæ˜¯åˆ†æµå‘½ä»¤<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat names1 names2 names3 | tee d1 d2 <span class="comment"># æŠŠç®¡çº¿è¾“å…¥èµ‹ç»™d1 d2ä¸¤ä¸ªæ–‡ä»¶</span></span><br><span class="line">who | tee -a d1 <span class="comment"># è¿½åŠ æ¨¡å¼</span></span><br></pre></td></tr></table></figure><br>ä»¥ä¸Šæ‰€æœ‰å‘½ä»¤éƒ½ä¼šåœ¨æ ‡å‡†è¾“å‡ºï¼ˆå±å¹•ï¼‰ä¸Šé¢å¤–æ˜¾ç¤ºä¸€ä»½</p>
<h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><blockquote>
<p>è¿‡æ»¤å™¨å°±æ˜¯èƒ½å¤Ÿä»æ ‡å‡†è¾“å…¥è¯»å–æ–‡æœ¬æ•°æ®å¹¶å‘æ ‡å‡†è¾“å‡ºå†™å…¥æ–‡æœ¬æ•°æ®ï¼ˆæ¯æ¬¡ä¸€è¡Œï¼‰çš„ç¨‹åºã€‚é€šå¸¸ï¼Œå¤§å¤šæ•°è¿‡æ»¤å™¨éƒ½è¢«è®¾è®¡æˆå·¥å…·ï¼Œå‡ºè‰²åœ°å®Œæˆä¸€ä»¶äº‹æƒ…ã€‚</p>
</blockquote>
<ul>
<li>catå°±æ˜¯æŠŠè¾“å…¥å˜æˆè¾“å‡º<ul>
<li>cat &gt; data æŠŠé”®ç›˜è¾“å…¥å†…å®¹è¾“å‡ºåˆ°data</li>
<li>cat &lt; data æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</li>
<li>catåé¢å¯ä»¥è·Ÿå¤šä¸ªæ–‡ä»¶ï¼Œä¾æ¬¡è¯»å…¥å¹¶è¾“å‡ºï¼Œèµ·åˆ°catenateçš„ä½œç”¨</li>
<li><strong>Warning</strong>catè¾“å…¥å’Œè¾“å‡ºæ–‡ä»¶å¦‚æœä¸€æ ·ï¼Œä¼šå°†æ–‡ä»¶å†…å®¹æ¸…ç©ºæŠ¥é”™</li>
</ul>
</li>
<li>splitåˆ’åˆ†æ–‡ä»¶ï¼Œæœ‰ç‚¹åƒcaté€†æ“ä½œ<ul>
<li>é»˜è®¤åˆ›å»º1000è¡Œä¸€ä¸ªçš„æ–‡ä»¶</li>
<li>split -l n fileï¼Œä»¥nè¡Œæ¯ä¸ªåˆ›å»ºåˆ‡åˆ†æ–‡ä»¶ï¼Œé»˜è®¤å‘½åä¸ºxaaï¼Œxabç­‰</li>
</ul>
</li>
<li>tacä¸catçš„ç¢°ç“·ï¼Œè¾“å‡ºå‰å°†æ–‡æœ¬åè½¬<ul>
<li>cat -n data | tac | tacä¸¤æåè½¬å°±æ•´å›æ¥å•¦</li>
</ul>
</li>
<li>revåˆä¸€ä¸ªåè½¬çš„å‘½ä»¤ï¼Œä½†æ˜¯ä¸æƒ³tacé€è¡Œåè½¬ï¼Œrevæ˜¯é€å­—ç¬¦åè½¬</li>
<li>head/tail å¹³å¹³æ— å¥‡çš„æ˜¾ç¤ºå¤´å°¾çš„å‘½ä»¤</li>
<li>colrm col1 col2 &lt; file åˆ é™¤æŒ‡å®šè¡Œ</li>
</ul>
<h3 id="æ¯”è¾ƒå’ŒæŠ½å–"><a href="#æ¯”è¾ƒå’ŒæŠ½å–" class="headerlink" title="æ¯”è¾ƒå’ŒæŠ½å–"></a>æ¯”è¾ƒå’ŒæŠ½å–</h3><ul>
<li>cmp file1 file2</li>
<li>comm file1 file2 éœ€è¦æ’åºæ–‡ä»¶</li>
<li>diff file1 file2 è¡¨ç¤ºå¦‚ä½•æ“ä½œå¯ä»¥æŠŠæ–‡ä»¶1å˜æˆæ–‡ä»¶2<ul>
<li>æ–‡ä»¶1ä½¿ç”¨&lt; æ–‡ä»¶2ä½¿ç”¨ &gt;</li>
<li>cæ”¹å˜,dåˆ é™¤,aæ·»åŠ </li>
<li>ç›¸å½“å¤šçš„é€‰é¡¹å¯ä»¥å±•ç¤ºä¸¤ä¸ªæ–‡ä»¶çš„åŒºåˆ«</li>
</ul>
</li>
<li>sdiff,å¹¶æ’å±•ç¤º,æŠŠä¸¤ä¸ªæ–‡ä»¶éƒ½åˆ—å‡ºæ¥</li>
</ul>
<h4 id="å·®åˆ†å’Œè¡¥ä¸"><a href="#å·®åˆ†å’Œè¡¥ä¸" class="headerlink" title="å·®åˆ†å’Œè¡¥ä¸"></a>å·®åˆ†å’Œè¡¥ä¸</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">diff foo-2.0.c foo-2.1.c &gt; foo-diff-2.1</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ–‡ä»¶åŒ…å«ä¸€åˆ—æŒ‡ç¤º,å¯ä»¥å°†2.0ç‰ˆæœ¬æ›´æ–°åˆ°2.1ç‰ˆæœ¬,è¿™ç§æ–¹å¼å«åš<strong>å·®åˆ†</strong><br>ä½¿ç”¨patchå‘½ä»¤å¯ä»¥å®Œæˆè¡¥ä¸çš„ä¿®è¡¥</p>
<p>å®é™…ä¸­åº”ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸVCS, ä¸éœ€è¦è‡ªå·±æ§åˆ¶é¡¹ç›®çš„å·®åˆ†è¡¥ä¸</p>
<ul>
<li><p>cutæŒ‡ä»¤ä½œç”¨ä¸colrmç›¸å,å®ƒä¼šå°†æŒ‡å®šçš„åˆ—ä»æ–‡ä»¶ä¸­æŠ½å–å¹¶ä¸”åˆ é™¤æ‰å…¶ä»–å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cut -c 1-8, 5-16 info</span><br></pre></td></tr></table></figure>
<p>è¿™ç§ç ´æŠ˜å·è¡¨ç¤ºèŒƒå›´ä¹Ÿæ˜¯å·¦é—­å³å¼€çš„</p>
</li>
<li><p>pasteåˆå¹¶æ•°æ®åˆ—,å’Œcatåˆå¹¶çš„èƒ½åŠ›æœ‰ç‚¹ç±»ä¼¼, è¿™ä¸ªå¯ä»¥æ°´å¹³åˆå¹¶, catæ˜¯ç«–ç›´æ–¹å‘åˆå¹¶</p>
</li>
</ul>
<h3 id="ç»Ÿè®¡ä¸æ ¼å¼åŒ–"><a href="#ç»Ÿè®¡ä¸æ ¼å¼åŒ–" class="headerlink" title="ç»Ÿè®¡ä¸æ ¼å¼åŒ–"></a>ç»Ÿè®¡ä¸æ ¼å¼åŒ–</h3><ul>
<li>nlæä¾›åœ¨æ–‡æœ¬ä¸­æ’å…¥è¡Œå·,å¹¶è¾“å‡º</li>
<li>wc word countç»Ÿè®¡å­—ç¬¦æ•°é‡,è¾“å‡ºé¡ºåº: è¡Œâ€”line å•è¯â€”word å­—ç¬¦â€”character,å¯ä»¥è¾“å…¥å¤šä»½æ–‡ä»¶,å¤šä»½æ–‡ä»¶ä¼šè®¡ç®—å„ä¸ªé¡¹ç›®çš„æ€»æ•°</li>
<li>expandå°†åˆ¶è¡¨ç¬¦å˜æˆç©ºæ ¼, vimä¸­ :set listå¯ä»¥å¯è§†åŒ–å±•ç¤ºtabå’Œspace</li>
<li>unexpandå°†ç©ºæ ¼å˜æˆåˆ¶è¡¨ç¬¦</li>
<li>foldå¯ä»¥æŠ˜å æ–‡æœ¬,ä¿è¯æ¯è¡Œå­—ç¬¦æ•°é‡ä¸è¶…è¿‡æŒ‡å®šå€¼</li>
<li>fmtæ ¼å¼åŒ–æ®µè½,è®©æ®µè½æ–‡å­—æ¯å¥è¯ä¹‹é—´çš„ç©ºæ ¼å˜å¾—è§„èŒƒ(ä¾‹å¦‚æ³•å›½å¼é—´è·é‡Œæ¯ä¸ªå¥å­åé¢ç©ºä¸¤ä¸ªç©ºæ ¼)</li>
<li>prä¸ºäº†ç»™è¦æ‰“å°çš„ä¸œè¥¿ç¼–å·,æŒ‰é¡µæ ¼å¼åŒ–æ–‡æœ¬/æŒ‰åˆ—æ ¼å¼åŒ–æ–‡æœ¬,æ˜¯ä¸ºäº†å½“å¹´ç¨‹åºå‘˜ä»¬æ‰“å°çº¸å¸¦çš„æ—¶å€™æ’ç‰ˆç”¨çš„</li>
</ul>
<h3 id="é€‰å–æ’åºç»„åˆä»¥åŠå˜æ¢"><a href="#é€‰å–æ’åºç»„åˆä»¥åŠå˜æ¢" class="headerlink" title="é€‰å–æ’åºç»„åˆä»¥åŠå˜æ¢"></a>é€‰å–æ’åºç»„åˆä»¥åŠå˜æ¢</h3><ul>
<li><p>grepæœ€ç‰›çš„è¿‡æ»¤å™¨<br>æœç´¢åŒ…å«ç‰¹å®špatternçš„è¡Œ, ä¸­é—´çš„reä»£è¡¨regular expression<br><strong>G</strong>lobal search the <strong>R</strong>egular <strong>E</strong>xpression and <strong>P</strong>rint the line</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep [-cilLnsvwx] pattern [file...]</span><br></pre></td></tr></table></figure>
<p><em>è®¨è®ºè‹¥å¹²ä¸ªé‡è¦çš„å‘½ä»¤å‚æ•°</em></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls -F| grep -c <span class="string">'/'</span> <span class="comment">#ç»Ÿè®¡ç›®å½•çš„ä¸ªæ•°</span></span><br><span class="line">grep -i pattern file <span class="comment">#å¿½ç•¥å¤§å°å†™åŒºåˆ«</span></span><br><span class="line">grep -<span class="keyword">in</span> pattern file <span class="comment">#å¿½ç•¥å¤§å°å†™,æ³¨æ˜ç»“æœæ‰€åœ¨è¡Œignore</span></span><br><span class="line">grep -l pattern file1 file2 ... <span class="comment">#åªæ˜¾ç¤ºåŒ…å«æ¨¡å¼çš„æ–‡ä»¶åç§°,é€‚ç”¨äºå¤šä¸ªæ–‡ä»¶å¯»æ‰¾</span></span><br><span class="line">grep -w pattern file <span class="comment">#å¿…é¡»å®Œå…¨åŒ¹é…</span></span><br><span class="line">grep -v pattern file <span class="comment">#æ˜¾ç¤ºä¸åŒ…å«æ¨¡å¼çš„è¡Œ!!!!</span></span><br><span class="line">grep -r pattern dir <span class="comment">#åœ¨æ•´ä¸ªç›®å½•é‡Œé¢æŸ¥æ‰¾</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>fgrepæ˜¯å¿«é€Ÿgrep(å·²åºŸå¼ƒdeprecated,ç°åœ¨grepä¹Ÿå¾ˆå¿«),egrepæ˜¯æ‰©å±•grep(ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼)</p>
</li>
<li>lookæ²¡æœ‰çœ‹æ‡‚,åŠŸèƒ½æ¯”grepç®€å•å¾ˆå¤š,ä¸èƒ½è¯»å–æ ‡å‡†è¾“å…¥,ä½†æ˜¯å¿«,é€‚åˆä¼˜åŒ–çš„æ—¶å€™ä½¿ç”¨</li>
</ul>
<h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><ul>
<li>sortæ’åºæ•°æ®æˆ–è€…æŸ¥çœ‹æ•°æ®æ˜¯å¦æœ‰åº</li>
<li>sort -o names &gt; names å¯ä»¥å®ç°å¯¹äºæºæ–‡ä»¶çš„æ’åº,ä¸è‡³äºå‡ºç°cat names &gt; namesæ¸…ç©ºè‡ªå·±è¿™ç§æƒ…å†µ</li>
<li>sorté€šå¸¸å°±ç”¨åšç®¡çº¿å‘½ä»¤çš„ä¸€éƒ¨åˆ†æ’ä¸ªåº</li>
<li>sort -cæŸ¥çœ‹æ˜¯å¦æœ‰åº</li>
<li>sort -rååº</li>
<li>sort -uå”¯ä¸€unique</li>
<li><p>sort -næ’åºæ•°å­—</p>
</li>
<li><p>uniqä¸é‡å¤è¡Œç›¸å…³çš„æ“ä½œ</p>
</li>
<li><p>joinä¼šæŠŠä¸¤ä¸ª<strong>å·²æ’åºæ–‡ä»¶</strong>ä¸­é”®å€¼ç›¸åŒçš„æ–‡æœ¬åˆå¹¶</p>
</li>
</ul>
]]></content>
      <categories>
        <category>UNIX/LINUX</category>
      </categories>
      <tags>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
        <tag>UNIX/LINUX</tag>
      </tags>
  </entry>
  <entry>
    <title>gdbè°ƒè¯•å™¨å‘½ä»¤cheatsheet</title>
    <url>/2021/02/28/gdb%E8%B0%83%E8%AF%95%E5%99%A8%E5%91%BD%E4%BB%A4cheatsheet/</url>
    <content><![CDATA[<p>gdbä½¿ç”¨å‘½ä»¤è°ƒè¯•</p>
<a id="more"></a>
<p>ä»¥~/Documents/vscTest/main.cppä¸ºä¾‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">10</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"b is "</span>&lt;&lt;b &lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"b is "</span>&lt;&lt;b ;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"abchd"</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"b is "</span>&lt;&lt;b &lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"b is "</span>&lt;&lt;b ;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"abchd"</span>;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨cmakeç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶æ”¾åœ¨buildæ–‡ä»¶å¤¹ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adinvm@ubuntu:~/Documents/vscTest/build$ gdb</span><br><span class="line">GNU gdb (Ubuntu 9.2-0ubuntu1~20.04) 9.2</span><br><span class="line">Copyright (C) 2020 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line">Type <span class="string">"show copying"</span> and <span class="string">"show warranty"</span> <span class="keyword">for</span> details.</span><br><span class="line">This GDB was configured as <span class="string">"x86_64-linux-gnu"</span>.</span><br><span class="line">Type <span class="string">"show configuration"</span> <span class="keyword">for</span> configuration details.</span><br><span class="line">For bug reporting instructions, please see:</span><br><span class="line">&lt;http://www.gnu.org/software/gdb/bugs/&gt;.</span><br><span class="line">Find the GDB manual and other documentation resources online at:</span><br><span class="line">    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.</span><br><span class="line"></span><br><span class="line">For <span class="built_in">help</span>, <span class="built_in">type</span> <span class="string">"help"</span>.</span><br><span class="line">Type <span class="string">"apropos word"</span> to search <span class="keyword">for</span> commands related to <span class="string">"word"</span>.</span><br><span class="line">(gdb) file main</span><br><span class="line">Reading symbols from main...</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨file [filename] æ‰“å¼€ç›¸åº”æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(gdb) b 2</span><br><span class="line">Breakpoint 1 at 0x10e0: file /home/adinvm/Documents/vscTest/main.cpp, line 4.</span><br><span class="line">(gdb) b 7</span><br><span class="line">Breakpoint 2 at 0x1149: file /home/adinvm/Documents/vscTest/main.cpp, line 9.</span><br><span class="line">(gdb) b 9</span><br><span class="line">Note: breakpoint 2 also <span class="built_in">set</span> at pc 0x1149.</span><br><span class="line">Breakpoint 3 at 0x1149: file /home/adinvm/Documents/vscTest/main.cpp, line 9.</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨b [number]  åœ¨æŸä¸€è¡Œè¿›è¡Œæ–­ç‚¹çš„è®¾ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(gdb) r</span><br><span class="line">Starting program: /home/adinvm/Documents/vscTest/build/main </span><br><span class="line"></span><br><span class="line">Breakpoint 1, main () at /home/adinvm/Documents/vscTest/main.cpp:4</span><br><span class="line">4	 int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">(gdb) r</span><br><span class="line">The program being debugged has been started already.</span><br><span class="line">Start it from the beginning? (y or n) y</span><br><span class="line">Starting program: /home/adinvm/Documents/vscTest/build/main</span><br></pre></td></tr></table></figure>
<p>rå‘½ä»¤ä¸ºrestartï¼Œå¯åŠ¨æˆ–è€…é‡å¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Breakpoint 1, main () at /home/adinvm/Documents/vscTest/main.cpp:4</span><br><span class="line">4	 int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">b is 10</span><br><span class="line"></span><br><span class="line">Breakpoint 2, main () at /home/adinvm/Documents/vscTest/main.cpp:9</span><br><span class="line">9	        cout&lt;&lt;<span class="string">"abchd"</span>;</span><br></pre></td></tr></table></figure>
<p>cå‘½ä»¤ä¸ºcontinueï¼Œæ–­ç‚¹å•æ­¥æ‰§è¡Œï¼Œæ‰§è¡Œæ—¶æ‰æœ‰æ•ˆæœ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(gdb) p a</span><br><span class="line"><span class="variable">$1</span> = 10</span><br><span class="line">(gdb) p b</span><br><span class="line"><span class="variable">$2</span> = 10</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">b is 10abchdb is 10</span><br><span class="line">b is 10abchd[Inferior 1 (process 31811) exited normally]</span><br><span class="line">(gdb) c</span><br><span class="line">The program is not being run.</span><br><span class="line">(gdb) c</span><br><span class="line">The program is not being run.</span><br></pre></td></tr></table></figure>
<p>info bå±•ç¤ºå‡ºæ¥æ‰€æœ‰çš„æ–­ç‚¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">(gdb) info b</span><br><span class="line">Num     Type           Disp Enb Address            What</span><br><span class="line">1       breakpoint     keep y   0x00005555555550e0 <span class="keyword">in</span> main() </span><br><span class="line">                                                   at /home/adinvm/Documents/vscTest/main.cpp:4</span><br><span class="line">	breakpoint already hit 1 time</span><br><span class="line">2       breakpoint     keep y   0x0000555555555149 <span class="keyword">in</span> main() </span><br><span class="line">                                                   at /home/adinvm/Documents/vscTest/main.cpp:9</span><br><span class="line">3       breakpoint     keep y   0x0000555555555149 <span class="keyword">in</span> main() </span><br><span class="line">                                                   at /home/adinvm/Documents/vscTest/main.cpp:9</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>cheatsheet</category>
      </categories>
      <tags>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>python&amp;numpyçš„è‰ç¨¿æœ¬</title>
    <url>/2020/09/11/python-numpy%E7%9A%84%E8%8D%89%E7%A8%BF%E6%9C%AC/</url>
    <content><![CDATA[<p>å…³äºpythonå’Œnumpyä¸€äº›é›¶ç¢çš„çŸ¥è¯†ç‚¹</p>
<a id="more"></a>
<h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><h3 id="åˆ—è¡¨çš„æ·±å¤åˆ¶å’Œæµ…å¤åˆ¶"><a href="#åˆ—è¡¨çš„æ·±å¤åˆ¶å’Œæµ…å¤åˆ¶" class="headerlink" title="åˆ—è¡¨çš„æ·±å¤åˆ¶å’Œæµ…å¤åˆ¶"></a>åˆ—è¡¨çš„æ·±å¤åˆ¶å’Œæµ…å¤åˆ¶</h3><p>ç°åœ¨æœ‰<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt;&gt;&gt;A = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]]</span><br><span class="line">&gt;&gt;&gt;B = A</span><br><span class="line">&gt;&gt;&gt;B</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]]</span><br><span class="line">&gt;&gt;&gt;A.append(<span class="number">6</span>)</span><br><span class="line">&gt;&gt;&gt;B</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>],<span class="number">6</span>]</span><br><span class="line">&gt;&gt;&gt;C = A.copy()</span><br><span class="line">&gt;&gt;&gt;<span class="keyword">import</span> copy</span><br><span class="line">&gt;&gt;&gt;D = copy.deepcopy(A)</span><br><span class="line">&gt;&gt;&gt;A.append(<span class="number">7</span>)</span><br><span class="line">&gt;&gt;&gt;A[<span class="number">3</span>].append(<span class="number">6</span>)</span><br><span class="line">&gt;&gt;&gt;A</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line">&gt;&gt;&gt;C</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],<span class="number">6</span>]</span><br><span class="line">&gt;&gt;&gt;D</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>],<span class="number">6</span>]</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Båªæ˜¯Açš„ä¸€ä¸ªåˆ«ç§°ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡çš„å¼•ç”¨</li>
<li>Cæ˜¯Açš„æµ…å¤åˆ¶ï¼ŒAå’ŒCå¯¹è±¡æœ¬èº«æ˜¯ç‹¬ç«‹çš„ï¼Œä½†æ˜¯å®ƒä»¬å…¶ä¸­åŒ…å«çš„å­å¯¹è±¡æŒ‡å‘çš„è¿˜æ˜¯åŒä¸€ä¸ª</li>
<li>Dæ˜¯Açš„æ·±å¤åˆ¶ï¼Œå®Œå…¨åˆ†ç¦»ï¼Œå¯¹äºAçš„ä¿®æ”¹å®Œå…¨ä¸å½±å“Dï¼Œæ·±å¤åˆ¶åœ¨è¿™é‡Œä½¿ç”¨äº†copyæ¨¡å—ä¸­çš„deepcopy()å‡½æ•°</li>
</ul>
<h3 id="python2-7çš„ç»§æ‰¿"><a href="#python2-7çš„ç»§æ‰¿" class="headerlink" title="python2.7çš„ç»§æ‰¿"></a>python2.7çš„ç»§æ‰¿</h3><p>æœ‰å…³ç±»çš„ç»§æ‰¿çš„å†™æ³•ï¼Œä¸python3æœ‰æ‰€åŒºåˆ«ï¼Œåœ¨å­ç±»initä¸­superéœ€è¦å†™ä¸¤ä¸ªå‚æ•°ï¼Œå­ç±»åç§°å’Œselfï¼Œpython3ä¸éœ€è¦å†™è¿™ä¸¤ä¸ªå‚æ•°ï¼Œç›´æ¥super()å³å¯</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init___</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span><span class="params">(Father)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        super(Child,self).__init__(name)</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>
<h3 id="sortå’Œsortedçš„åŒºåˆ«"><a href="#sortå’Œsortedçš„åŒºåˆ«" class="headerlink" title="sortå’Œsortedçš„åŒºåˆ«"></a>sortå’Œsortedçš„åŒºåˆ«</h3><p>è¿™æ˜¯ä¸¤ä¸ªå†…ç½®çš„æ’åºå‡½æ•°ï¼ŒåŒºåˆ«åœ¨äºsortç›´æ¥æ”¹å˜åŸæœ‰çš„åˆ—è¡¨ï¼Œsortedä¸æ”¹å˜åŸæœ‰çš„åˆ—è¡¨</p>
<h3 id="jsonåœ¨pythonä¸­çš„ç”¨æ³•"><a href="#jsonåœ¨pythonä¸­çš„ç”¨æ³•" class="headerlink" title="jsonåœ¨pythonä¸­çš„ç”¨æ³•"></a>jsonåœ¨pythonä¸­çš„ç”¨æ³•</h3><p>jsonæ¨¡å—ä½¿ç”¨å‰éœ€è¦import</p>
<p>ä¸»è¦çš„å‡½æ•°æ˜¯json.dumpï¼ˆvarï¼Œfdï¼‰ å’Œ json.loadï¼ˆfdï¼‰</p>
<h2 id="numpy"><a href="#numpy" class="headerlink" title="numpy"></a>numpy</h2><h3 id="argsortä½¿ç”¨å…³é”®å­—çš„æ’åº"><a href="#argsortä½¿ç”¨å…³é”®å­—çš„æ’åº" class="headerlink" title="argsortä½¿ç”¨å…³é”®å­—çš„æ’åº"></a>argsortä½¿ç”¨å…³é”®å­—çš„æ’åº</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">numpy.argsort(a, axis=<span class="number">-1</span>, kind=<span class="string">'quicksort'</span>, order=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p>argsortè¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç´ æ’åˆ—é¡ºåºçš„arrayï¼Œæ’åˆ—é¡ºåºä¸ºä»å¤§åˆ°å°ï¼Œå¯ä»¥é€‰æ‹©çš„å‚æ•°åŒ…æ‹¬æ’åºä¾æ®çš„è½´ï¼Œæ’åºç”¨çš„ç®—æ³•æœ‰mergesort, heapsort, quicksort</p>
<p><em>æœ€åä¸€ä¸ªå‚æ•°æ²¡æœ‰å®Œå…¨ç†è§£ï¼Œdocä¸­åŸæ–‡å¦‚ä¸‹ï¼Œå¤§æ¦‚æ˜¯è¯´è‡ªå®šä¹‰åŸŸçš„ç±»å‹æ’åºé¡ºåº</em></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">order : str <span class="keyword">or</span> <span class="built_in">list</span> of str, optional</span><br><span class="line"></span><br><span class="line">When a is an <span class="built_in">array</span> with fields defined, <span class="keyword">this</span> argument specifies which fields to compare first, second, etc. A single field can be specified as a <span class="built_in">string</span>, <span class="keyword">and</span> <span class="keyword">not</span> all fields need be specified, but unspecified fields will still be used, in the order in which they come up in the dtype, to <span class="keyword">break</span> ties.</span><br></pre></td></tr></table></figure>
<p><strong>åŸºæœ¬ç”¨æ³•</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">one-dimensional</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.argsort(x)</span><br><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">two-dimensional</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([[<span class="number">0</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">2</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.argsort(x, axis=<span class="number">0</span>)</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">0</span>]])</span><br></pre></td></tr></table></figure>
<p><strong>ä½¿ç”¨å…³é”®å­—æ’åºçš„ç”¨æ³•</strong></p>
<p>åœ¨å®šä¹‰arrayæ—¶æ·»åŠ dtypeç±»å‹ï¼Œå¹¶åœ¨æ’åºä¸­è®¾ç½®orderçš„é¡ºåº</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([(<span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">1</span>)], dtype=[(<span class="string">'x'</span>, <span class="string">'&lt;i4'</span>), (<span class="string">'y'</span>, <span class="string">'&lt;i4'</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">array([(<span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">1</span>)],</span><br><span class="line">      dtype=[(<span class="string">'x'</span>, <span class="string">'&lt;i4'</span>), (<span class="string">'y'</span>, <span class="string">'&lt;i4'</span>)])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.argsort(x, order=(<span class="string">'x'</span>,<span class="string">'y'</span>))</span><br><span class="line">array([<span class="number">1</span>, <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.argsort(x, order=(<span class="string">'y'</span>,<span class="string">'x'</span>))</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>numpy</tag>
      </tags>
  </entry>
  <entry>
    <title>pytorchç¬”è®°æœ¬</title>
    <url>/2020/12/19/pytorch%E7%AC%94%E8%AE%B0%E6%9C%AC/</url>
    <content><![CDATA[<p>è®°å½•ä¸€ä¸‹pytorchä¸­éœ€è¦å¤ä¹ çš„ä¸€äº›é›¶ç¢çŸ¥è¯†ç‚¹</p>
<a id="more"></a>
<h2 id="ä»Tensorå¼€å§‹"><a href="#ä»Tensorå¼€å§‹" class="headerlink" title="ä»Tensorå¼€å§‹"></a>ä»Tensorå¼€å§‹</h2><h3 id="Tensorçš„å­˜å‚¨ç»“æ„"><a href="#Tensorçš„å­˜å‚¨ç»“æ„" class="headerlink" title="Tensorçš„å­˜å‚¨ç»“æ„"></a>Tensorçš„å­˜å‚¨ç»“æ„</h3><p>pythonåŸæœ¬çš„å­˜å‚¨æ˜¯ä¸è¿ç»­ï¼Œä¾‹å¦‚listä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å¹¶ä¸åƒc++ä¸­çš„æ•°ç»„æ˜¯è¿ç»­å­˜æ”¾åœ¨å†…å­˜ä¸­ã€‚è€Œnumpyä¸pytorchä¼šå°†arrayä»¥åŠtensoræ”¾ç½®åœ¨è¿ç»­å†…å­˜å•å…ƒé‡Œé¢ï¼Œé€šè¿‡ä¿®æ”¹ç´¢å¼•æ¥æ„é€ å„ç§ç»´åº¦</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œä¸Tensorå­˜å‚¨ç›¸å…³çš„æœ‰ä¸‰ä¸ªé‡ï¼Œå°ºå¯¸sizeã€å­˜å‚¨åç§»offsetä»¥åŠæ­¥é•¿strideï¼ˆæ¯ä¸€ä¸ªç»´åº¦çš„é•¿åº¦ï¼‰ã€‚è¿™ç§è¡¨ç¤ºæ–¹å¼æ¯”è¾ƒçµæ´»ï¼Œåœ¨è¿›è¡Œreshapeæ“ä½œçš„æ—¶å€™åªéœ€è¦ä¿®æ”¹offsetå’Œstrideå³å¯ï¼Œè€Œä¸éœ€è¦é‡æ–°æ„é€ æ–°çš„å¼ é‡ã€‚<br><img src='storage.png' width='600' title='Tensor storage'></p>
<p>éœ€è¦æ³¨æ„ï¼Œç›´æ¥ä½¿ç”¨ç­‰å·å°†æŸä¸€ä¸ªå¼ é‡Aèµ‹å€¼ç»™æ–°çš„å¼ é‡Bï¼Œä¸¤è€…ä»å°†æŒ‡å‘åŒä¸€æ®µå†…å­˜åœ°å€ï¼Œä¿®æ”¹Bä¼šåè¿‡æ¥å½±å“Aã€‚</p>
<p><strong>å…ƒç´ çš„å­˜å‚¨æ˜¯é€è¡Œä¿ç•™çš„</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">Input:</span><br><span class="line">points = torch.tensor([[<span class="number">1.0</span>, <span class="number">4.0</span>], [<span class="number">2.0</span>, <span class="number">1.0</span>], [<span class="number">3.0</span>, <span class="number">5.0</span>]])</span><br><span class="line">second_point = points[<span class="number">1</span>]</span><br><span class="line">second_point[<span class="number">0</span>] = <span class="number">10.0</span></span><br><span class="line">points</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">tensor([[ <span class="number">1.</span>,  <span class="number">4.</span>],</span><br><span class="line">        [<span class="number">10.</span>,  <span class="number">1.</span>],</span><br><span class="line">        [ <span class="number">3.</span>,  <span class="number">5.</span>]])</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³é¿å…è¿™ç§æƒ…å†µï¼Œå»åˆ›å»ºä¸€ä¸ªæ–°çš„Tensorç‹¬å ç©ºé—´ï¼Œéœ€è¦ä½¿ç”¨clone()å‡½æ•°</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">Input:</span><br><span class="line">points = torch.tensor([[<span class="number">1.0</span>, <span class="number">4.0</span>], [<span class="number">2.0</span>, <span class="number">1.0</span>], [<span class="number">3.0</span>, <span class="number">5.0</span>]])</span><br><span class="line">**second_point = points[<span class="number">1</span>].clone()**</span><br><span class="line">second_point[<span class="number">0</span>] = <span class="number">10.0</span></span><br><span class="line">points</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">tensor([[<span class="number">1.</span>, <span class="number">4.</span>],</span><br><span class="line">        [<span class="number">2.</span>, <span class="number">1.</span>],</span><br><span class="line">        [<span class="number">3.</span>, <span class="number">5.</span>]])</span><br></pre></td></tr></table></figure>
<p>è½¬ç½®å‰åå¯ä»¥ä½¿ç”¨id()å‡½æ•°éªŒè¯ä¸¤è€…çš„å†…å­˜ç©ºé—´ä¸€è‡´, <strong>ä½†æ˜¯è½¬ç½®ä¹‹åçš„Tensoræ•°æ®å­˜æ”¾ä¸å†è¿ç»­ã€‚</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">id(points.storage()) == id(points_t.storage())</span><br><span class="line"></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"></span><br><span class="line">points.contiguous(), points_t.contiguous()</span><br><span class="line"></span><br><span class="line"><span class="literal">True</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h3 id="Tensoræ•°æ®ç±»å‹"><a href="#Tensoræ•°æ®ç±»å‹" class="headerlink" title="Tensoræ•°æ®ç±»å‹"></a>Tensoræ•°æ®ç±»å‹</h3><ul>
<li>torch.float32æˆ–torch.float â€”â€” 32ä½æµ®ç‚¹æ•°</li>
<li>torch.float64æˆ–torch.double â€”â€” 64ä½åŒç²¾åº¦æµ®ç‚¹æ•°</li>
<li>torch.float16æˆ–torch.half â€”â€” 16ä½åŠç²¾åº¦æµ®ç‚¹æ•°</li>
<li>torch.int8 â€”â€” å¸¦ç¬¦å·8ä½æ•´æ•°</li>
<li>torch.uint8 â€”â€” æ— ç¬¦å·8ä½æ•´æ•°</li>
<li>torch.int16æˆ–torch.short â€”â€” å¸¦ç¬¦å·16ä½æ•´æ•°</li>
<li>torch.int32æˆ–torch.int â€”â€” å¸¦ç¬¦å·32ä½æ•´æ•°</li>
<li>torch.int64æˆ–torch.long â€”â€” å¸¦ç¬¦å·64ä½æ•´æ•°</li>
</ul>
<p>ä½¿ç”¨dtypeå‚æ•°æ„é€ æ–°Tensor<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">double_points = torch.ones(<span class="number">10</span>, <span class="number">2</span>, dtype=torch.double)</span><br><span class="line">short_points = torch.tensor([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]], dtype=torch.short)</span><br></pre></td></tr></table></figure><br>Tensorå…ƒç´ çš„ç±»å‹å¯ä»¥åœ¨åˆ›å»ºæ—¶ä½¿ç”¨to()æˆ–è€…æŸç§typeçš„å‡½æ•°è¿›è¡Œç”Ÿæˆ<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">double_points = torch.zeros(<span class="number">10</span>, <span class="number">2</span>).double()</span><br><span class="line">short_points = torch.ones(<span class="number">10</span>, <span class="number">2</span>).short()</span><br><span class="line"><span class="keyword">or</span></span><br><span class="line">double_points = torch.zeros(<span class="number">10</span>, <span class="number">2</span>).to(torch.double)</span><br><span class="line">short_points = torch.ones(<span class="number">10</span>, <span class="number">2</span>).to(dtype=torch.short)</span><br></pre></td></tr></table></figure><br>ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥ä½¿ç”¨type()ï¼Œè½¬æ¢Tensorç±»å‹ï¼Œæ³¨æ„type()æ˜¯è¿”å›tensorè€Œä¸æ˜¯ç›´æ¥åœ¨è°ƒç”¨å¯¹è±¡ä¸Šè¿›è¡Œæ”¹å˜ï¼Œå› æ­¤æƒ³æ”¹å˜æŸä¸ªtensorçš„ç±»å‹ï¼Œéœ€è¦è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œå³<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">a = a.type(torch.float)</span><br><span class="line">a = a.to(torch.int8)</span><br></pre></td></tr></table></figure></p>
<h3 id="ä¸Numpyäº’é€š"><a href="#ä¸Numpyäº’é€š" class="headerlink" title="ä¸Numpyäº’é€š"></a>ä¸Numpyäº’é€š</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">tensor --&gt; numpy</span><br><span class="line">points = torch.ones(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">points_np = points.numpy()</span><br><span class="line"></span><br><span class="line">numpy --&gt; Tensor</span><br><span class="line">points = torch.from_numpy(points_np)</span><br></pre></td></tr></table></figure>
<p>å½“Tensorçš„è®¾å¤‡ä¸ºcpuçš„æ—¶å€™ï¼Œnumpyæ•°ç»„å’Œtensorç›´æ¥å…±ç”¨æ•°æ®ç¼“å†²åŒºï¼Œä¿®æ”¹ä»»ä½•ä¸€ä¸ªéƒ½ä¼šå½±å“å¦ä¸€ä¸ªï¼Œè€Œå½“Tensorçš„è®¾å¤‡ä¸ºGPUçš„æ—¶å€™ï¼Œnumpyæ•°ç»„ä¼šä»æ˜¾å­˜è¢«æ‹·è´è‡³å†…å­˜åŒºä¸­</p>
<h3 id="ä¿å­˜ä¸è¯»å–Tensor"><a href="#ä¿å­˜ä¸è¯»å–Tensor" class="headerlink" title="ä¿å­˜ä¸è¯»å–Tensor"></a>ä¿å­˜ä¸è¯»å–Tensor</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">torch.save(points, <span class="string">'../../data/chapter2/ourpoints.t'</span>)</span><br><span class="line">points = torch.load(<span class="string">'../../data/chapter2/ourpoints.t'</span>)</span><br><span class="line"></span><br><span class="line">ä¿å­˜åçš„æ ¼å¼æ˜¯æ–‡æœ¬æ–‡ä»¶</span><br><span class="line"><span class="number">504</span>b <span class="number">0304</span> <span class="number">0000</span> <span class="number">0808</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span></span><br><span class="line"><span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">1000</span> <span class="number">1200</span> <span class="number">6172</span></span><br><span class="line"><span class="number">6368</span> <span class="number">6976</span> <span class="number">652</span>f <span class="number">6461</span> <span class="number">7461</span> <span class="number">2e70</span> <span class="number">6</span>b6c <span class="number">4642</span></span><br><span class="line"><span class="number">0e00</span> <span class="number">5</span>a5a <span class="number">5</span>a5a <span class="number">5</span>a5a <span class="number">5</span>a5a <span class="number">5</span>a5a <span class="number">5</span>a5a <span class="number">5</span>a5a</span><br><span class="line"><span class="number">8002</span> <span class="number">6374</span> <span class="number">6</span>f72 <span class="number">6368</span> <span class="number">2e5</span>f <span class="number">7574</span> <span class="number">696</span>c <span class="number">730</span>a</span><br><span class="line"><span class="number">5</span>f72 <span class="number">6562</span> <span class="number">7569</span> <span class="number">6</span>c64 <span class="number">5</span>f74 <span class="number">656</span>e <span class="number">736</span>f <span class="number">725</span>f</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h3 id="è®©Tensorè¿è¡Œåœ¨GPUä¸Š"><a href="#è®©Tensorè¿è¡Œåœ¨GPUä¸Š" class="headerlink" title="è®©Tensorè¿è¡Œåœ¨GPUä¸Š"></a>è®©Tensorè¿è¡Œåœ¨GPUä¸Š</h3><p><strong>deviceæ¦‚å¿µ</strong>ï¼šæ˜¯Tensorçš„å±æ€§ä¹‹ä¸€ï¼ŒæŒ‡åœ¨è®¾ç½®è®¡ç®—æœºä¸Šæ”¾å¼ é‡ï¼ˆtensorï¼‰æ•°æ®çš„ä½ç½®</p>
<p>å¯ä»¥åœ¨åˆ›å»ºtensorçš„æ—¶å€™å°±æŒ‡å®šè®¾å¤‡<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">points_gpu = torch.tensor([[<span class="number">1.0</span>, <span class="number">4.0</span>], [<span class="number">2.0</span>, <span class="number">1.0</span>], [<span class="number">3.0</span>, <span class="number">4.0</span>]], device=<span class="string">'cuda'</span>)</span><br></pre></td></tr></table></figure><br>ä¹Ÿå¯ä»¥ä½¿ç”¨to()æ–¹æ³•æŠŠtensorä»CPUçš„å†…å­˜æ‹·è´åˆ°GPUçš„æ˜¾å­˜<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">points_gpu = points.to(device=<span class="string">'cuda'</span>)</span><br></pre></td></tr></table></figure><br>æ”¾ç½®åˆ°æ˜¾å­˜åï¼Œå˜é‡çš„ç±»å‹ä¹Ÿä¼šå‘ç”Ÿä¸€äº›æ”¹å˜ï¼Œå˜æˆäº†æœ‰cudaå…³é”®è¯çš„ç±»å‹â€™torch.cuda.FloatTensorâ€™</p>
<h3 id="å¼ é‡çš„API"><a href="#å¼ é‡çš„API" class="headerlink" title="å¼ é‡çš„API"></a>å¼ é‡çš„API</h3><p>ä¸€èˆ¬æ¥è¯´torch.method(tensor,para)å’Œtensor.method(para)æ˜¯æ²¡ä»€ä¹ˆåŒºåˆ«çš„ï¼Œä½†æ˜¯éƒ¨åˆ†æ–¹æ³•åªæœ‰tensoræ‰å…·å¤‡ï¼Œè¿™éƒ¨åˆ†æ–¹æ³•çš„åç¼€æ˜¯ä¸‹åˆ’çº¿ï¼Œä»£è¡¨åŸåœ°<strong>inplaceæ“ä½œ</strong></p>
<p><strong>view()å’Œreshape()çš„åŒºåˆ«</strong>ï¼š</p>
<ul>
<li>view()åªèƒ½ä½œç”¨äºè¿ç»­å­˜å‚¨çš„Tensorä¸Šï¼Œå¯¹ä¸€äº›å­˜å‚¨ä¸è¿ç»­çš„å¼ é‡ä¾‹å¦‚è½¬ç½®åçš„ï¼Œview()æ— æ³•æ‰§è¡Œ</li>
<li>reshape()å¯ä»¥ä½œç”¨äºè¿ç»­æˆ–éè¿ç»­çš„Tensorä¸Šï¼Œå¯¹è¿ç»­å­˜å‚¨çš„ä¸view()å®Œå…¨ä¸€è‡´ï¼Œéè¿ç»­å­˜å‚¨çš„ç›¸å½“äºcontiguous()+view()ï¼Œå¾—åˆ°çš„æ˜¯åŸå­˜å‚¨ç©ºé—´çš„æ‹·è´ï¼Œä¹Ÿå°±æ˜¯è¯´ä¿®æ”¹æ‹·è´ä¸ä¼šå½±å“åŸå¼ é‡</li>
</ul>
<h2 id="ä½¿ç”¨å¼ é‡è¡¨ç¤ºçœŸå®æ•°æ®"><a href="#ä½¿ç”¨å¼ é‡è¡¨ç¤ºçœŸå®æ•°æ®" class="headerlink" title="ä½¿ç”¨å¼ é‡è¡¨ç¤ºçœŸå®æ•°æ®"></a>ä½¿ç”¨å¼ é‡è¡¨ç¤ºçœŸå®æ•°æ®</h2><h3 id="è¡¨æ ¼æ•°æ®"><a href="#è¡¨æ ¼æ•°æ®" class="headerlink" title="è¡¨æ ¼æ•°æ®"></a>è¡¨æ ¼æ•°æ®</h3><p>è¡¨æ ¼æ•°æ®çš„è¯»å–ï¼Œé€šå¸¸æœ‰ä¸‰ç§æ–¹å¼</p>
<ol>
<li>pythonè‡ªå¸¦çš„csvæ¨¡å—</li>
<li>numpy</li>
<li>pandas</li>
</ol>
<p>å¯¹äºç»“æ„åŒ–çš„æ•°æ®è€Œè¨€ï¼Œpandasæœ€å¥½ï¼Œä½†æ˜¯è€ƒè™‘åˆ°numpyä¸pytorchå¤©ç”Ÿçš„å†…æºæ€§é€‚é…ï¼Œè¿™é‡Œæ›´æ¨èä½¿ç”¨numpyè¿›è¡Œè¯»å–<br>ä»¥çº¢é…’å“è´¨çš„æ•°æ®ä½œä¸ºç»ƒä¹ æ¥æº<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line">wine_path = <span class="string">'./winequality-white.csv'</span></span><br><span class="line">wine_numpy = np.loadtxt(wine_path, delimiter=<span class="string">';'</span>,dtype=np.float32,skiprows=<span class="number">1</span>)</span><br><span class="line">print(wine_numpy.shape)</span><br><span class="line">col_list = next(csv.reader(open(wine_path),delimiter=<span class="string">';'</span>))</span><br><span class="line">print(col_list)</span><br><span class="line">data = torch.from_numpy(wine_numpy[:,:<span class="number">-1</span>])</span><br><span class="line">target = torch.from_numpy(wine_numpy[:,<span class="number">-1</span>]).long()</span><br><span class="line">print(data.shape,target.shape)</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">(<span class="number">4898</span>, <span class="number">12</span>)</span><br><span class="line">[<span class="string">'fixed acidity'</span>, <span class="string">'volatile acidity'</span>, <span class="string">'citric acid'</span>, <span class="string">'residual sugar'</span>, <span class="string">'chlorides'</span>, <span class="string">'free sulfur dioxide'</span>, <span class="string">'total sulfur dioxide'</span>, <span class="string">'density'</span>, <span class="string">'pH'</span>, <span class="string">'sulphates'</span>, <span class="string">'alcohol'</span>, <span class="string">'quality'</span>]</span><br><span class="line">(<span class="number">4898</span>, <span class="number">11</span>) (<span class="number">4898</span>,)</span><br><span class="line"></span><br><span class="line">å¯¹targetå¯ä»¥è¿›è¡Œonehotç¼–ç ï¼Œä½¿ç”¨torchçš„scatter_åŸåœ°æ–¹æ³•ï¼Œå‰ææ˜¯targetçš„dtypeä¸ºint64ï¼ˆlongï¼‰</span><br><span class="line">target_onehot = torch.zeros(target.shape[<span class="number">0</span>],<span class="number">10</span>)</span><br><span class="line">target_onehot.scatter_(<span class="number">1</span>,target.unsqueeze(<span class="number">1</span>),<span class="number">1.0</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="æ—¶é—´åºåˆ—æ•°æ®"><a href="#æ—¶é—´åºåˆ—æ•°æ®" class="headerlink" title="æ—¶é—´åºåˆ—æ•°æ®"></a>æ—¶é—´åºåˆ—æ•°æ®</h3><p>ä¸è¡¨æ ¼æ•°æ®ç±»ä¼¼ï¼Œåªæ˜¯éœ€è¦ä½¿ç”¨view()å¯¹ç»´åº¦è¿›è¡Œè½¬æ¢ï¼Œå¯èƒ½ä¼šå°†ä¸åŒçš„é€šé“ä½œä¸ºå¤©æ•°ï¼Œæ¯ä¸€è¡Œä½œä¸ºæ¯å°æ—¶æˆ–è€…æ¯åˆ†é’Ÿæ•°æ®ï¼Œä½¿å¾—å…¶æˆä¸ºå…·æœ‰æ—¶é—´åºåˆ—çš„å¤šç»´æ•°æ®</p>
<h3 id="æ–‡æœ¬æ•°æ®"><a href="#æ–‡æœ¬æ•°æ®" class="headerlink" title="æ–‡æœ¬æ•°æ®"></a>æ–‡æœ¬æ•°æ®</h3><p>åº”ç”¨ä¸NLPé—®é¢˜ä¸­ã€‚å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç ï¼Œå¯ä»¥ä»è¯çš„çº§åˆ«è¿›è¡Œç¼–ç ï¼Œone-hotæ–¹å¼é¢å¯¹å·¨å¤§æ•°é‡çš„è¯çš„æ—¶å€™æ˜¯å¾ˆå´©æºƒçš„ï¼Œç±»åˆ«è¿‡äºå¤§äº†ã€‚</p>
<p>ä½¿ç”¨<strong>æ–‡æœ¬åµŒå…¥embedding</strong>çš„æ–¹å¼å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒåŸºæœ¬æ€è·¯æ˜¯é€šè¿‡å¼ é‡ä¸­å…ƒç´ çš„ç»„åˆæ¥è¡¨ç¤ºè¯­ä¹‰ï¼Œç±»ä¼¼äºâ€œçº¢è‰²+ç”œ+çƒå½¢=è‹¹æœâ€è¿™ç§ä¼ä¸šçº§ç†è§£æ–¹å¼ï¼Œå±äºä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„ç¼–ç æ–¹å¼å§ï¼Œå¯¹äºäººå·¥ç¼–ç æ¥è¯´ä¹Ÿéœ€è¦å¾ˆå¤§çš„å·¥ä½œé‡ã€‚</p>
<p>åº”è¯¥è¿˜æœ‰æ›´æœ‰æ•ˆç‡çš„ç¼–ç æ–¹å¼ï¼Œè¿™é‡Œæ²¡æœ‰è¯¦è°ˆã€‚</p>
<h3 id="å›¾åƒæ•°æ®"><a href="#å›¾åƒæ•°æ®" class="headerlink" title="å›¾åƒæ•°æ®"></a>å›¾åƒæ•°æ®</h3><p>ä½¿ç”¨imageioæ¨¡å—åŠ è½½å›¾åƒ<br>é»˜è®¤è¯»å…¥çš„numpy arrayç»´åº¦æ˜¯ï¼ˆwidth <em> height </em> channelï¼‰ï¼Œè€Œtorchä¸€èˆ¬å¤„ç†æ—¶æ„¿æ„å°†å…¶å˜ä¸ºï¼ˆchannel <em> height </em> widthï¼‰å› æ­¤éœ€è¦è¿›è¡Œä¸€ä¸ªè½¬ç½®transpose()</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> imageio</span><br><span class="line">img_arr = imageio.imread(<span class="string">'./img.jpg'</span>)</span><br><span class="line">img = torch.from_numpy(img_arr)</span><br><span class="line">out = torch.transpose(img, <span class="number">0</span>, <span class="number">2</span>).clone()</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šä¸åŠ cloneçš„è¯è½¬ç½®è®¡ç®—ä»£ä»·æ¯”è¾ƒå°ï¼Œä½†æ˜¯ä¼šè®©imgå’Œoutå…±äº«å†…å­˜ï¼Œè¿™ä¸ªå–èˆç”±coderè‡ªå·±æŠŠæ¡</p>
<p>ä¸Šè¿°çš„æ˜¯ä¸€å¼ å›¾ç‰‡çš„è¯»å–ï¼Œå¯¹äºå›¾åƒæ•°æ®é›†æ¥è¯´ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸€æ²“å›¾ç‰‡ç­‰ç€ä½ è¯»å–ï¼Œè¿™æ—¶å€™ä½¿ç”¨batchå †å çš„æ–¹æ³•ï¼Œå°†å¤šå¼ å›¾ç‰‡æ”¾åˆ°ä¸€èµ·æ¯”è¾ƒå¥½ã€‚</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">batch = torch.zeros(<span class="number">100</span>,<span class="number">3</span>,<span class="number">576</span>,<span class="number">576</span>,dtype=torch.int8)</span><br><span class="line">data_dir = <span class="string">'../../data/chapter3/image-cats/'</span></span><br><span class="line">filenames = [name <span class="keyword">for</span> name <span class="keyword">in</span> os.listdir(data_dir) <span class="keyword">if</span> os.path.splitext(name) == <span class="string">'.png'</span>]</span><br><span class="line"><span class="keyword">for</span> i, filename <span class="keyword">in</span> enumerate(filenames):</span><br><span class="line">  img_arr = imageio.imread(filename)</span><br><span class="line">  batch[i] = torch.transpose(torch.from_numpy(img_arr), <span class="number">0</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h3 id="ä½“ç§¯volumeæ•°æ®"><a href="#ä½“ç§¯volumeæ•°æ®" class="headerlink" title="ä½“ç§¯volumeæ•°æ®"></a>ä½“ç§¯volumeæ•°æ®</h3><p>åœ¨é€šé“ï¼ˆchannelï¼‰ç»´ä¹‹åï¼Œä½ æœ‰ä¸€ä¸ªé¢å¤–çš„ç»´â€”â€”æ·±åº¦ï¼ˆdepthï¼‰ï¼Œå½¢æˆ5Då¼ é‡ä¸ºN x C x D x H x W<br>ä½¿ç”¨imageioæ¨¡å—ä¸­çš„volreadå‡½æ•°åŠ è½½ä¸€ä¸ªCTæ‰«ææ ·æœ¬ï¼Œè¯¥å‡½æ•°ä»¥æ–‡ä»¶å¤¹ä½œä¸ºå‚æ•°ï¼Œå°†æ‰€æœ‰DICOMï¼ˆDigital Imaging Communication and Storageï¼Œæ•°å­—å›¾åƒé€šä¿¡å’Œå­˜å‚¨ï¼‰ç³»åˆ—æ–‡ä»¶ç»„åˆæˆä¸€ä¸ªNumPy 3Dæ•°ç»„ä¸­<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> imageio</span><br><span class="line">dir_path = <span class="string">"../../data/chapter3/volumetric-dicom/2-LUNG 3.0  B70f-04083"</span> </span><br><span class="line">vol_arr = imageio.volread(dir_path, <span class="string">'DICOM'</span>) </span><br><span class="line">vol_arr.shape</span><br></pre></td></tr></table></figure></p>
<h2 id="å­¦ä¹ æœºåˆ¶"><a href="#å­¦ä¹ æœºåˆ¶" class="headerlink" title="å­¦ä¹ æœºåˆ¶"></a>å­¦ä¹ æœºåˆ¶</h2><blockquote>
<p>å¼€æ™®å‹’åœ¨æ²¡æœ‰è®¡ç®—æœºã€å¾®å‹è®¡ç®—å™¨ç”šè‡³å¾®ç§¯åˆ†ï¼ˆé‚£æ—¶è¿™äº›éƒ½è¿˜æ²¡è¢«å‘æ˜å‡ºæ¥çš„ï¼‰çš„æƒ…å†µä¸‹ä¼°ç®—äº†æ¤­åœ†çš„åå¿ƒç‡å’Œå°ºå¯¸ï¼Œæå‡ºäº†å¼€æ™®å‹’ä¸‰å®šå¾‹ã€‚<br>è¿™æ˜¯æ—©æœŸé€šè¿‡è¾“å…¥è¾“å‡ºå‚æ•°æ¥æ‹Ÿåˆæ¨¡å‹çš„é‡è¦ä¾‹å­ï¼ŒæŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œæœºå™¨ä»æ•°æ®é›†ä¸­æ„å»ºæ¨¡å‹çš„æ€è·¯å®Œå…¨å¯ä»¥å‚ç…§å¤šæ™®å‹’å½“å¹´çš„æƒ³æ³•å’Œæµç¨‹ã€‚<br>æœ¬è´¨ä¸Šï¼Œå¼€æ™®å‹’å¿…é¡»ä½¿ç”¨ä¸€å®šæ•°é‡çš„è§‚æµ‹å€¼æ¥è®¡ç®—å‡ºæ›²çº¿ä»¥å°è¯•ä¸åŒå½¢çŠ¶ï¼Œç„¶åä½¿ç”¨è®¡ç®—å‡ºçš„æ›²çº¿ä¼°è®¡å‡ºæ›´å¤šä½ç½®ï¼Œè¿™æ˜¯ä»–æ‹¥æœ‰è§‚æµ‹å€¼çš„æ—¶é—´ã€‚ç„¶åæ£€æŸ¥è¿™äº›è®¡ç®—å‡ºçš„ä½ç½®æ˜¯å¦ä¸è§‚æµ‹åˆ°çš„ä½ç½®ä¸€è‡´ã€‚</p>
</blockquote>
<ol>
<li>ä»ä»–çš„æœ‹å‹Braheé‚£é‡Œå¾—åˆ°äº†å¾ˆå¤šå¥½çš„æ•°æ®ï¼ˆè´¹äº†ä¸€äº›å‘¨æŠ˜ï¼‰ã€‚</li>
<li>è¯•å›¾å°†è¿™äº›æ•°æ®å¯è§†åŒ–ï¼Œå› ä¸ºä»–è§‰å¾—æœ‰çš„ï¼ˆæ•°æ®ï¼‰æœ‰äº›å¯ç–‘ã€‚</li>
<li>é€‰æ‹©æœ‰å¯èƒ½æ‹Ÿåˆæ•°æ®çš„æœ€ç®€å•çš„æ¨¡å‹ï¼ˆæ¤­åœ†ï¼‰ã€‚</li>
<li>åˆ’åˆ†æ•°æ®ï¼Œä»¥ä¾¿å¤„ç†éƒ¨åˆ†æ•°æ®å¹¶ä¿ç•™ç‹¬ç«‹çš„æ•°æ®é›†ç”¨æ¥éªŒè¯ã€‚</li>
<li>ä»è¯•æ¢æ€§çš„åå¿ƒç‡å’Œå¤§å°å¼€å§‹ï¼Œç„¶åè¿›è¡Œè¿­ä»£ç›´åˆ°æ¨¡å‹æ‹Ÿåˆè§‚å¯Ÿç»“æœä¸ºæ­¢ã€‚</li>
<li>æ ¹æ®ç‹¬ç«‹çš„æ•°æ®é›†éªŒè¯ä»–çš„æ¨¡å‹ã€‚</li>
<li>éš¾ä»¥ç½®ä¿¡åœ°å›é¡¾ã€‚</li>
</ol>
<p><strong>ç§‘å­¦çš„å†å²æ˜¯å»ºç«‹åœ¨è¿™ä¸ƒä¸ªæ­¥éª¤ä¹‹ä¸Šçš„</strong></p>
<h3 id="è®©autogradå¸®ä½ è®¡ç®—æ¢¯åº¦"><a href="#è®©autogradå¸®ä½ è®¡ç®—æ¢¯åº¦" class="headerlink" title="è®©autogradå¸®ä½ è®¡ç®—æ¢¯åº¦"></a>è®©autogradå¸®ä½ è®¡ç®—æ¢¯åº¦</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">model</span><span class="params">(t_u, w, b)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> w * t_u + b</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loss_fn</span><span class="params">(t_p, t_c)</span>:</span></span><br><span class="line">    squared_diffs = (t_p - t_c)**<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> squared_diffs.mean()</span><br><span class="line"></span><br><span class="line">params = torch.tensor([<span class="number">1.0</span>, <span class="number">0.0</span>], requires_grad=<span class="literal">True</span>)</span><br><span class="line">loss = loss_fn(model(t_u, *params), t_c)</span><br><span class="line">loss.backward()</span><br></pre></td></tr></table></figure>
<p><img src='autograd.png' width='600' title='autograd'></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> params.grad <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">    params.grad.zero_()</span><br></pre></td></tr></table></figure>
<p><strong>WARNING</strong>: gradä¼šåœ¨æ¯ä¸€ä¸ªtensorå¤„<strong>ç´¯ç§¯</strong>è€Œéå‚¨å­˜ï¼Œä¹Ÿæ„å‘³ç€æ¯æ¬¡è®¡ç®—å®Œæˆéœ€è¦å°†gradæ¸…é›¶</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_loop</span><span class="params">(n_epochs, learning_rate, params, t_u, t_c)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">1</span>, n_epochs + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> params.grad <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>: </span><br><span class="line">            params.grad.zero_() <span class="comment"># è¿™å¯ä»¥åœ¨è°ƒç”¨backwardä¹‹å‰åœ¨å¾ªç¯ä¸­çš„ä»»ä½•æ—¶å€™å®Œæˆ</span></span><br><span class="line">        t_p = model(t_u, *params)</span><br><span class="line">        loss = loss_fn(t_p, t_c)</span><br><span class="line">        loss.backward()</span><br><span class="line">        params = (params - learning_rate * params.grad).detach().requires_grad_()</span><br><span class="line">        <span class="keyword">if</span> epoch % <span class="number">500</span> == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">'Epoch %d, Loss %f'</span> % (epoch, float(loss)))</span><br><span class="line">    <span class="keyword">return</span> params</span><br></pre></td></tr></table></figure>
<p><em>detach()</em> éå¸¸å…³é”®ï¼Œä¸ç„¶æ¯ä¸€æ¬¡æ›´æ–°å‚æ•°éƒ½ä¼šå¯¼è‡´ä¸€ç›´è¿½è¸ªåˆ°æœ€åŸå§‹çš„params</p>
<blockquote>
<p>æˆ‘ä»¬é‡æ„paramså‚æ•°æ›´æ–°è¡Œï¼šp1 = (p0 <em> lr </em> p0.grad)ã€‚è¿™é‡Œp0æ˜¯ç”¨äºåˆå§‹åŒ–æ¨¡å‹çš„éšæœºæƒé‡ï¼Œp0.gradæ˜¯é€šè¿‡æŸå¤±å‡½æ•°æ ¹æ®p0å’Œè®­ç»ƒæ•°æ®è®¡ç®—å‡ºæ¥çš„ã€‚</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚ç°åœ¨ï¼Œä½ éœ€è¦è¿›è¡Œç¬¬äºŒæ¬¡è¿­ä»£ï¼šp2 = (p1 <em> lr </em> p1.grad)ã€‚å¦‚ä½ æ‰€è§ï¼Œp1çš„è®¡ç®—å›¾ä¼šè¿½è¸ªåˆ°p0ï¼Œè¿™æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸º(a)ä½ éœ€è¦å°†p0ä¿ç•™åœ¨å†…å­˜ä¸­ï¼ˆç›´åˆ°è®­ç»ƒå®Œæˆï¼‰ï¼Œå¹¶ä¸”(b)åœ¨åå‘ä¼ æ’­æ—¶ä¸çŸ¥é“åº”è¯¥å¦‚ä½•åˆ†é…è¯¯å·®ã€‚</p>
<p>ç›¸åï¼Œåº”è¯¥é€šè¿‡è°ƒç”¨.detatch()å°†æ–°çš„paramså¼ é‡ä»ä¸å…¶æ›´æ–°è¡¨è¾¾å¼å…³è”çš„è®¡ç®—å›¾ä¸­åˆ†ç¦»å‡ºæ¥ã€‚è¿™æ ·ï¼Œparamså°±ä¼šä¸¢å¤±å…³äºç”Ÿæˆå®ƒçš„ç›¸å…³è¿ç®—çš„è®°å¿†ã€‚ç„¶åï¼Œä½ å¯ä»¥è°ƒç”¨.requires<em>grad</em>()ï¼Œè¿™æ˜¯ä¸€ä¸ªå°±åœ°ï¼ˆin placeï¼‰æ“ä½œï¼ˆæ³¨æ„ä¸‹æ ‡â€œ_â€ï¼‰ï¼Œä»¥é‡æ–°å¯ç”¨å¼ é‡çš„è‡ªåŠ¨æ±‚å¯¼ã€‚ç°åœ¨ï¼Œä½ å¯ä»¥é‡Šæ”¾æ—§ç‰ˆæœ¬paramsæ‰€å ç”¨çš„å†…å­˜ï¼Œå¹¶ä¸”åªéœ€é€šè¿‡å½“å‰æƒé‡è¿›è¡Œåå‘ä¼ æ’­ã€‚</p>
</blockquote>
<h3 id="ä¼˜åŒ–å™¨"><a href="#ä¼˜åŒ–å™¨" class="headerlink" title="ä¼˜åŒ–å™¨"></a>ä¼˜åŒ–å™¨</h3><p><img src='optim.png' width='600' title='optimizer'><br>åœ¨æ¯ä¸ªoptimåˆå§‹åŒ–çš„æ—¶å€™ï¼Œè¾“å…¥optimå…³æ³¨çš„tensor<br>æ¯ä¸ªä¼˜åŒ–å™¨çš„è¾“å…¥éƒ½æ˜¯paramsæˆ–è€…è¯´å…·æœ‰gradçš„å¼ é‡ï¼Œä¼˜åŒ–å™¨å«æœ‰zero_grad()å’Œstep()ä¸¤ä¸ªåŸºæœ¬çš„æ–¹æ³•<br>å½“è¾“å…¥çš„paramsæœ‰æ¢¯åº¦å±æ€§åï¼Œè°ƒç”¨optim.step()å³å¯å®Œæˆå‚æ•°çš„æ›´æ–°<br>åƒä¸‡è®°ä½è¦åœ¨backward()ä¹‹å‰è°ƒç”¨optim.zero_grad(),å°†æ‰€æœ‰ä¼ é€’ç»™ä¼˜åŒ–å™¨çš„Tensorçš„æ¢¯åº¦æ¸…é›¶<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">params = torch.tensor([<span class="number">1.0</span>, <span class="number">0.0</span>], requires_grad=<span class="literal">True</span>)</span><br><span class="line">learning_rate = <span class="number">1e-2</span></span><br><span class="line">optimizer = optim.SGD([params], lr=learning_rate)</span><br><span class="line">t_p = model(t_un, *params)</span><br><span class="line">loss = loss_fn(t_p, t_c)</span><br><span class="line">optimizer.zero_grad() <span class="comment"># æ­¤è°ƒç”¨å¯ä»¥åœ¨å¾ªç¯ä¸­æ›´æ—©çš„ä½ç½®</span></span><br><span class="line">loss.backward()</span><br><span class="line">optimizer.step()</span><br></pre></td></tr></table></figure></p>
<p><strong>torch.randperm(int max)</strong>å¯ä»¥ç”Ÿæˆéšæœºçš„indexï¼ŒèŒƒå›´ä¸º(0, max-1)</p>
<h3 id="ä¸éœ€è¦æ—¶å…³é—­autograd"><a href="#ä¸éœ€è¦æ—¶å…³é—­autograd" class="headerlink" title="ä¸éœ€è¦æ—¶å…³é—­autograd"></a>ä¸éœ€è¦æ—¶å…³é—­autograd</h3><blockquote>
<p>è¿˜æœ‰ä¸€ä¸ªç‚¹éœ€è¦è®¨è®ºï¼šå› ä¸ºä½ æ°¸è¿œä¸ä¼šå¯¹val_lossè°ƒç”¨backwardï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆè¦æ„å»ºå›¾å½¢ï¼Ÿå®é™…ä¸Šï¼Œæ­¤æ—¶ä½ å®Œå…¨å¯ä»¥å°†modelå’Œloss_fnå½“ä½œæ™®é€šå‡½æ•°è€Œæ— éœ€è¿½è¸ªè®¡ç®—å†å²ã€‚æ— è®ºç»è¿‡æ€æ ·çš„ä¼˜åŒ–ï¼Œè¿½è¸ªè®¡ç®—å†å²éƒ½ä¼šå¸¦æ¥é¢å¤–çš„ä»£ä»·ï¼Œæ‰€ä»¥ä½ åº”è¯¥åœ¨éªŒè¯è¿‡ç¨‹ä¸­é¿å…è¿™äº›ä»£ä»·ï¼Œå°¤å…¶æ˜¯å½“æ¨¡å‹å…·æœ‰æ•°ç™¾ä¸‡ä¸ªå‚æ•°æ—¶</p>
</blockquote>
<p><img src='graph.png' width='600' title='train/valid map'></p>
<p>åªä½¿ç”¨train_lossæ›´æ–°paramsçš„æ¢¯åº¦ï¼Œä¸èƒ½ä½¿ç”¨valid_lossæ›´æ–°ï¼Œå¦åˆ™å°±æ˜¯åœ¨paramsä¸­å­˜å‚¨äº†è¿™ä¸¤è€…çš„æ¢¯åº¦å’Œï¼Œç›¸å½“äºæŠŠvalidéªŒè¯é›†ä¹Ÿæ‹¿æ¥åšè®­ç»ƒäº†</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_loop</span><span class="params">(n_epochs, optimizer, params, </span></span></span><br><span class="line"><span class="function"><span class="params">                  train_t_u, val_t_u, train_t_c, val_t_c)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">1</span>, n_epochs + <span class="number">1</span>):</span><br><span class="line">        train_t_p = model(train_t_u, *params)</span><br><span class="line">        train_loss = loss_fn(train_t_p, train_t_c)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():<span class="comment"># ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œè¿™éƒ¨åˆ†è¿ç®—ä¸å¼€å¯æ¢¯åº¦ï¼Œå‡å°‘è®¡ç®—è´Ÿè·</span></span><br><span class="line">            val_t_p = model(val_t_u, *params)</span><br><span class="line">            val_loss = loss_fn(val_t_p, val_t_c)</span><br><span class="line">            <span class="keyword">assert</span> val_loss.requires_grad == <span class="literal">False</span> <span class="comment"># æ£€æŸ¥æ˜¯å¦å…³é—­äº†val_losså¼ é‡çš„grad</span></span><br><span class="line"></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        train_loss.backward()</span><br><span class="line">        optimizer.step()</span><br></pre></td></tr></table></figure>
<h2 id="æ„å»ºç½‘ç»œæ¨¡å‹"><a href="#æ„å»ºç½‘ç»œæ¨¡å‹" class="headerlink" title="æ„å»ºç½‘ç»œæ¨¡å‹"></a>æ„å»ºç½‘ç»œæ¨¡å‹</h2><h3 id="torch-nn"><a href="#torch-nn" class="headerlink" title="torch.nn"></a>torch.nn</h3><blockquote>
<p>PyTorchæœ‰ä¸€ä¸ªä¸“é—¨ç”¨äºç¥ç»ç½‘ç»œçš„å®Œæ•´å­æ¨¡å—ï¼štorch.nnã€‚è¯¥å­æ¨¡å—åŒ…å«åˆ›å»ºå„ç§ç¥ç»ç½‘ç»œä½“ç³»ç»“æ„æ‰€éœ€çš„æ„å»ºå—ã€‚è¿™äº›æ„å»ºå—åœ¨PyTorchæœ¯è¯­ä¸­ç§°ä¸ºmoduleï¼ˆæ¨¡å—ï¼‰ï¼Œåœ¨å…¶ä»–æ¡†æ¶ä¸­ç§°ä¸ºlayerï¼ˆå±‚ï¼‰ã€‚</p>
<p>PyTorchæ¨¡å—éƒ½æ˜¯ä»åŸºç±»nn.Moduleç»§æ‰¿è€Œæ¥çš„Pythonç±»ã€‚æ¨¡å—å¯ä»¥å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼ˆParameterï¼‰å®ä¾‹ä½œä¸ºå±æ€§ï¼Œè¿™äº›å‚æ•°å°±æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­éœ€è¦ä¼˜åŒ–çš„å¼ é‡ï¼ˆåœ¨ä¹‹å‰çš„çº¿æ€§æ¨¡å‹ä¸­å³wå’Œbï¼‰ã€‚æ¨¡å—è¿˜å¯ä»¥å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå­æ¨¡å—ï¼ˆnn.Moduleçš„å­ç±»ï¼‰å±æ€§ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥è¿½è¸ªå…¶å‚æ•°ã€‚</p>
</blockquote>
<p>nn.moduleä¸­å«æœ‰forward()å‡½æ•°ï¼Œæ˜¯å®ç°å‰å‘è®¡ç®—çš„å‡½æ•°ï¼Œä½†æ˜¯pytorchå®˜æ–¹ä¸å»ºè®®ç›´æ¥è°ƒç”¨forwardå‡½æ•°ï¼Œå› ä¸ºåœ¨model(x)è¿™ç§æ“ä½œä¸­ï¼Œä¸ä»…æœ‰forward(x)ï¼Œè¿˜æœ‰ä¸€ç³»åˆ—é‡è¦çš„æ“ä½œï¼Œä¾‹å¦‚æˆ‘ä¸æ˜ç™½çš„hook()å‡½æ•°</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = model(x) <span class="comment"># right</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = model.forward(x) <span class="comment"># ä¸è¦è¿™æ ·åš!!!</span></span><br><span class="line"></span><br><span class="line">ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†Module.callçš„å®ç°ï¼ˆä¸ºæ¸…æ¥šèµ·è§è¿›è¡Œäº†ä¸€äº›ç®€åŒ–ï¼‰:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self, *input, **kwargs)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> hook <span class="keyword">in</span> self._forward_pre_hooks.values():</span><br><span class="line">        hook(self, input)</span><br><span class="line">    result = self.forward(*input, **kwargs)</span><br><span class="line">    <span class="keyword">for</span> hook <span class="keyword">in</span> self._forward_hooks.values():</span><br><span class="line">        hook_result = hook(self, input, result)</span><br><span class="line">        <span class="comment"># ...</span></span><br><span class="line">    <span class="keyword">for</span> hook <span class="keyword">in</span> self._backward_hooks.values():</span><br><span class="line">        <span class="comment"># ...</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œå¦‚æœç›´æ¥ä½¿ç”¨.forwardï¼ˆâ€¦ï¼‰ï¼Œå¾ˆå¤šhookå°†æ— æ³•æ­£ç¡®è°ƒç”¨ã€‚<br>nn.Moduleçš„å­ç±»éƒ½é»˜è®¤è¾“å…¥å¼ é‡çš„ç¬¬ä¸€ç»´åº¦ä¸ºBatchsize<br>nnæä¾›äº†ä¸€ç§é€šè¿‡nn.Sequentialå®¹å™¨ä¸²è”æ¨¡å—çš„ç®€å•æ–¹æ³•ï¼š<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">seq_model = nn.Sequential(</span><br><span class="line">            nn.Linear(<span class="number">1</span>, <span class="number">13</span>),</span><br><span class="line">            nn.Tanh(),</span><br><span class="line">            nn.Linear(<span class="number">13</span>, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆåˆ›å»ºä¸€ä¸ªç©ºçš„sequential å†å»add module</span></span><br><span class="line">seq_model.add_module(<span class="string">'name'</span>,nn.Linear(<span class="number">3</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure></p>
<h3 id="nnçš„å­ç±»"><a href="#nnçš„å­ç±»" class="headerlink" title="nnçš„å­ç±»"></a>nnçš„å­ç±»</h3><p>nn.Sequentialåœ¨å¤„ç†æ›´å¤§çš„ç½‘ç»œæ—¶æœ‰ç‚¹ä¸å¤Ÿçµæ´»ï¼ˆä¾‹å¦‚æ— æ³•æ§åˆ¶ç½‘ç»œæµå‘ï¼‰ï¼Œä½¿ç”¨nn.Moduleçš„å­ç±»æ›´ä¸ºåˆç†<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubclassModel</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.hidden_linear = nn.Linear(<span class="number">1</span>, <span class="number">13</span>)</span><br><span class="line">        self.hidden_activation = nn.Tanh()</span><br><span class="line">        self.output_linear = nn.Linear(<span class="number">13</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, input)</span>:</span></span><br><span class="line">        hidden_t = self.hidden_linear(input)</span><br><span class="line">        activated_t = self.hidden_activation(hidden_t)</span><br><span class="line">        output_t = self.output_linear(activated_t)</span><br><span class="line">        <span class="keyword">return</span> output_t</span><br><span class="line"></span><br><span class="line">subclass_model = SubclassModel()</span><br></pre></td></tr></table></figure><br>å½“å­æ¨¡å—ä½œä¸ºself.attriå±æ€§åŠ å…¥å­ç±»åï¼Œä¼šè‡ªåŠ¨ç™»è®°ä¸ºå­æ¨¡å—ï¼Œç±»ä¼šè‡ªåŠ¨è®¿é—®å­æ¨¡å—çš„å‚æ•°</p>
<blockquote>
<p>å›é¡¾SubclassModelç±»çš„å®ç°ï¼Œå¹¶è€ƒè™‘åœ¨æ„é€ å‡½æ•°ä¸­ç™»è®°å­æ¨¡å—ä»¥ä¾¿è®¿é—®å…¶å‚æ•°çš„å®ç”¨åŠŸèƒ½ï¼Œä¼¼ä¹åŒæ—¶ç™»è®°æ²¡æœ‰å‚æ•°çš„å­æ¨¡å—ï¼ˆå¦‚nn.Tanhï¼‰æœ‰ç‚¹æµªè´¹ï¼Œç›´æ¥åœ¨forwardå‡½æ•°ä¸­è°ƒç”¨å®ƒä»¬éš¾é“ä¸æ˜¯æ›´å®¹æ˜“å—ï¼Ÿå½“ç„¶å¯ä»¥ã€‚</p>
<p>PyTorchçš„æ¯ä¸ªnnæ¨¡å—éƒ½æœ‰ç›¸åº”çš„å‡½æ•°ã€‚â€œå‡½æ•°â€ä¸€è¯æ˜¯æŒ‡â€œæ²¡æœ‰å†…éƒ¨çŠ¶æ€â€æˆ–â€œå…¶è¾“å‡ºå€¼å®Œå…¨ç”±è¾“å…¥çš„å‚æ•°å†³å®šâ€ã€‚å®é™…ä¸Šï¼Œtorch.nn.functionalæä¾›äº†è®¸å¤šä¸nnæ¨¡å—å¯¹åº”çš„å‡½æ•°ï¼Œåªæ˜¯æ‰€æœ‰æ¨¡å‹å‚æ•°ï¼ˆparameterï¼‰éƒ½ä½œä¸ºäº†å‚æ•°ï¼ˆargumentï¼‰ç§»åˆ°äº†å‡½æ•°è°ƒç”¨ä¸­ã€‚ä¾‹å¦‚ï¼Œä¸nn.Linearå¯¹åº”çš„æ˜¯nn.functional.linearï¼Œå®ƒæ˜¯ä¸€ä¸ªå…·æœ‰å‚æ•°(input, weight, bias=None)çš„å‡½æ•°ï¼Œå³æ¨¡å‹çš„æƒé‡å’Œåå·®æ˜¯è¯¥å‡½æ•°çš„å‚æ•°ã€‚</p>
</blockquote>
<p>å¯ä»¥ä¸æ·»åŠ moduleï¼Œç›´æ¥åœ¨forwardä¸­ç›´æ¥è°ƒç”¨å‡½æ•°</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubclassFunctionalModel</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.hidden_linear = nn.Linear(<span class="number">1</span>, <span class="number">14</span>)</span><br><span class="line">        <span class="comment"># å»æ‰äº†nn.Tanh()</span></span><br><span class="line">        self.output_linear = nn.Linear(<span class="number">14</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, input)</span>:</span></span><br><span class="line">        hidden_t = self.hidden_linear(input)</span><br><span class="line">        activated_t = torch.tanh(hidden_t) <span class="comment"># nn.Tanhå¯¹åº”çš„å‡½æ•°</span></span><br><span class="line">        output_t = self.output_linear(activated_t)</span><br><span class="line">        <span class="keyword">return</span> output_t</span><br><span class="line"></span><br><span class="line">func_model = SubclassFunctionalModel()</span><br><span class="line">func_model</span><br></pre></td></tr></table></figure>
<p><strong>WARNING</strong>:å°½ç®¡1.0ç‰ˆçš„torch.nn.functionä¸­ä»å­˜åœ¨è¯¸å¦‚tanhä¹‹ç±»çš„é€šç”¨ç§‘å­¦å‡½æ•°ï¼Œä½†ä¸å»ºè®®ä½¿ç”¨è¿™äº›APIï¼Œè€Œåº”ä½¿ç”¨é¡¶çº§torchå‘½åç©ºé—´ä¸­çš„APIï¼Œä¾‹å¦‚torch.tanhã€‚æ›´å¤šå…¶ä»–å‡½æ•°ä¿ç•™åœ¨torch.nn.functionalä¸­ã€‚</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>äº¤é€šæ•°æ®åˆ†æ-çˆ¬è™«</title>
    <url>/2020/10/10/%E4%BA%A4%E9%80%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E7%88%AC%E8%99%AB/</url>
    <content><![CDATA[<p>ã€Šäº¤é€šæ•°æ®åˆ†æã€‹è¯¾ç¨‹ä¸­å…³äºçˆ¬è™«éƒ¨åˆ†çš„å†…å®¹ï¼Œç®€å•è®°å½•ã€‚</p>
<a id="more"></a>
<h2 id="HTTPä¸Web"><a href="#HTTPä¸Web" class="headerlink" title="HTTPä¸Web"></a>HTTPä¸Web</h2><p>HTTPæ˜¯clientä¸serverä¹‹é—´çš„é€šè®¯åè®®ï¼Œä»serverè·å–èµ„æºã€‚</p>
<p>clientå‘é€URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰</p>
<ul>
<li>URL: Uniform Resource Locator</li>
<li>URI: Uniform Resource Identifier</li>
<li>URIå¯ä»¥æ˜¯ftpï¼Œhttpï¼Œtel<ul>
<li>URLæ˜¯URIçš„å­é›†</li>
</ul>
</li>
</ul>
<p><strong>URIç»å¯¹æ ¼å¼</strong><br>åè®®åç§°ï¼šç™»å½•ä¿¡æ¯@æœåŠ¡å™¨åœ°å€:ç«¯å£å·ï¼ˆé—¨ï¼‰/å¸¦å±‚æ¬¡çš„æ–‡ä»¶è·¯å¾„ï¼ŸæŸ¥è¯¢å­—ç¬¦ä¸²#ç‰‡æ®µæ ‡è¯†ç¬¦ï¼ˆç½‘é¡µä¸­ç›¸åº”ç‰‡æ®µï¼‰</p>
<h2 id="ç½‘é¡µæ•°æ®é‡‡é›†"><a href="#ç½‘é¡µæ•°æ®é‡‡é›†" class="headerlink" title="ç½‘é¡µæ•°æ®é‡‡é›†"></a>ç½‘é¡µæ•°æ®é‡‡é›†</h2><p>æµç¨‹ï¼š</p>
<ol>
<li>å‘ç°<strong>ç½‘å€è§„å¾‹</strong>ï¼Œæ„å»ºURL</li>
<li>æ„å»ºheadersï¼Œcookieså‚æ•°</li>
<li>å¯¹ç›®æ ‡ç½‘å€å‘é€è¯·æ±‚ï¼ˆ<em>ä¼ªè£…ä¸ºæµè§ˆå™¨è®¿é—®</em>ï¼‰</li>
<li>è§£æè¿”å›çš„å“åº”æ•°æ®</li>
<li>ä¿å­˜æ•°æ®ï¼Œé‡å¤3-5æ­¥éª¤</li>
</ol>
<p><a href="https://shanghai.8684.cn/" target="_blank" rel="noopener">https://shanghai.8684.cn/</a> äº¤é€šæ•°æ®ç½‘ç«™</p>
<h3 id="ç½‘ç«™çˆ¬å–"><a href="#ç½‘ç«™çˆ¬å–" class="headerlink" title="ç½‘ç«™çˆ¬å–"></a>ç½‘ç«™çˆ¬å–</h3><p>ä½¿ç”¨requeståŒ…å¯¹å†…å®¹çˆ¬å–</p>
<p>å“åº”ç ï¼š200æˆåŠŸï¼Œ4XXå®¢æˆ·ç«¯é”™è¯¯ï¼Œ5XXæœåŠ¡å™¨é”™è¯¯</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    url = <span class="string">'https://shanghai.8684.cn/'</span></span><br><span class="line">    r = requests.get(url)</span><br><span class="line">    print(r.status_code)</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„é¡¹ç›®ï¼š</strong></p>
<ul>
<li>Encodingï¼šutf-8</li>
<li>HTML Response</li>
<li>r.textæ˜¯ç›¸åº”å†…å®¹</li>
</ul>
<p><strong>ä¸ºäº†ä¼ªè£…æˆæµè§ˆå™¨ï¼ŒåŠ ä¸Šheadersï¼Œparamsç­‰</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    url = <span class="string">'https://shanghai.8684.cn/so.php'</span></span><br><span class="line">    parameters = &#123;<span class="string">'q'</span>:<span class="string">'åŒæµå¤§å­¦'</span>,<span class="string">'q1'</span>:<span class="string">'ä¸œæ–¹æ˜ç '</span>,<span class="string">'k'</span>:<span class="string">'p2p'</span>&#125;</span><br><span class="line">    headers = &#123;<span class="string">'User-Agent'</span>:...&#125; <span class="comment"># æ ¹æ®æµè§ˆå™¨ç±»å‹æ¥</span></span><br><span class="line">    r = requests.get(url,headers=headers,params=parameters)</span><br><span class="line">    print(r.status_code)</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®è§£æ"><a href="#æ•°æ®è§£æ" class="headerlink" title="æ•°æ®è§£æ"></a>æ•°æ®è§£æ</h3><p>è¿”å›äº†ä¸€å¤§å †æ•°æ®ï¼Œè¦è¿›è¡Œæ•°æ®çš„è§£æï¼Œåˆ†ä¸ºHTMLå’ŒJSONè§£æ</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">soup = BeautifulSoup(html, <span class="string">'lxml'</span>)</span><br><span class="line">res = soup.findAll(<span class="string">'span'</span>,&#123;<span class="string">'class'</span>:<span class="string">'author'</span>&#125;) <span class="comment">#æŸ¥æ‰¾æ¡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line">output: [<span class="string">'&lt;span class='</span>autho<span class="string">r'&gt;æˆ‘å«ä½œè€…&lt;/span&gt;'</span>]</span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(html, <span class="string">'lxml'</span>)</span><br><span class="line">res = soup.findAll(<span class="string">'span'</span>,&#123;<span class="string">'class'</span>:<span class="string">'author'</span>&#125;).findChildern(text=<span class="literal">True</span>) <span class="comment">#æŸ¥æ‰¾æ¡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line">output: [<span class="string">'æˆ‘å«ä½œè€…'</span>]</span><br></pre></td></tr></table></figure>
<h4 id="æ•°æ®è§£ære"><a href="#æ•°æ®è§£ære" class="headerlink" title="æ•°æ®è§£ære"></a>æ•°æ®è§£ære</h4><p>æ­£åˆ™è¡¨è¾¾å¼è§£æ</p>
<p>ç”¨re.compileå»å†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼pattern</p>
<p>pattern = re.compile(string)</p>
<ul>
<li>re.findall(pattern, string) # è¿”å›åˆ—è¡¨</li>
<li>re.match(pattern,string)</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    url = <span class="string">'https://shanghai.8684.cn/so.php'</span></span><br><span class="line">    parameters = &#123;<span class="string">'q'</span>:<span class="string">'åŒæµå¤§å­¦'</span>,<span class="string">'q1'</span>:<span class="string">'ä¸œæ–¹æ˜ç '</span>,<span class="string">'k'</span>:<span class="string">'p2p'</span>&#125;</span><br><span class="line">    headers = &#123;<span class="string">'User-Agent'</span>:<span class="string">'Chrome/85.0.4183.121 Safari/537.36'</span>&#125;</span><br><span class="line">    r = requests.get(url,headers=headers,params=parameters).text</span><br><span class="line">    soup = BeautifulSoup(r,<span class="string">'lxml'</span>)</span><br><span class="line">    <span class="comment">#res = soup.find_all('div')</span></span><br><span class="line">    res = soup.findAll(<span class="string">'div'</span>,&#123;<span class="string">'class'</span>:<span class="string">'plan-head'</span>&#125;)</span><br><span class="line">    print(res)</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">[&lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ1&lt;/span&gt;&lt;p&gt;é€”ç»8ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜1æ¬¡ï¼Œæ­¥è¡Œ342ç±³ï¼Œå…¨ç¨‹çº¦39åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ2&lt;/span&gt;&lt;p&gt;é€”ç»7ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜1æ¬¡ï¼Œæ­¥è¡Œ392ç±³ï¼Œå…¨ç¨‹çº¦47åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ3&lt;/span&gt;&lt;p&gt;é€”ç»14ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜1æ¬¡ï¼Œæ­¥è¡Œ154ç±³ï¼Œå…¨ç¨‹çº¦1å°æ—¶18åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ4&lt;/span&gt;&lt;p&gt;é€”ç»7ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜1æ¬¡ï¼Œæ­¥è¡Œ650ç±³ï¼Œå…¨ç¨‹çº¦53åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ5&lt;/span&gt;&lt;p&gt;é€”ç»13ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜2æ¬¡ï¼Œæ­¥è¡Œ49ç±³ï¼Œå…¨ç¨‹çº¦1å°æ—¶15åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ6&lt;/span&gt;&lt;p&gt;é€”ç»14ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜2æ¬¡ï¼Œæ­¥è¡Œ1ç±³ï¼Œå…¨ç¨‹çº¦1å°æ—¶20åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ7&lt;/span&gt;&lt;p&gt;é€”ç»13ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜2æ¬¡ï¼Œæ­¥è¡Œ154ç±³ï¼Œå…¨ç¨‹çº¦1å°æ—¶18åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ8&lt;/span&gt;&lt;p&gt;é€”ç»15ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜2æ¬¡ï¼Œæ­¥è¡Œ1ç±³ï¼Œå…¨ç¨‹çº¦1å°æ—¶25åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ9&lt;/span&gt;&lt;p&gt;é€”ç»23ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜1æ¬¡ï¼Œæ­¥è¡Œ169ç±³ï¼Œå…¨ç¨‹çº¦2å°æ—¶03åˆ†&lt;/p&gt;&lt;/div&gt;, &lt;div class="plan-head"&gt;&lt;span class="plan-no"&gt;æ–¹æ¡ˆ10&lt;/span&gt;&lt;p&gt;é€”ç»11ä¸ªç«™ç‚¹ï¼Œå…±æ¢ä¹˜1æ¬¡ï¼Œæ­¥è¡Œ870ç±³ï¼Œå…¨ç¨‹çº¦1å°æ—¶17åˆ†&lt;/p&gt;&lt;/div&gt;]</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<h3 id="å¤šé‡å¾ªç¯é‡‡é›†æ•°æ®"><a href="#å¤šé‡å¾ªç¯é‡‡é›†æ•°æ®" class="headerlink" title="å¤šé‡å¾ªç¯é‡‡é›†æ•°æ®"></a>å¤šé‡å¾ªç¯é‡‡é›†æ•°æ®</h3><p>çˆ¬è™«æ˜¯ä¸€ä¸ªå¤šé‡å¾ªç¯</p>
<p>éœ€è¦æ³¨æ„ä¸ºäº†robustï¼šåŠ å…¥tryå¼‚å¸¸æœºåˆ¶</p>
<ul>
<li>æ³¨æ„æ½œåœ¨çš„é”™è¯¯ä¿¡æ¯<ul>
<li>liståˆ—è¡¨ä¸ºç©º</li>
<li>è®¾è®¡éšæœºæš‚åœï¼ˆtime.sleep()ï¼‰å¯ä»¥æä¸€ä¸ªæ­£æ€åˆ†å¸ƒ<ul>
<li>æ¨¡æ‹Ÿæ­£å¸¸æµè§ˆè¡Œä¸º</li>
</ul>
</li>
<li>å¤šå‡†å¤‡ä¸€äº›IPåœ°å€ï¼ˆä»£ç†æœåŠ¡å™¨ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="é€šè¿‡APIè·å–æ•°æ®"><a href="#é€šè¿‡APIè·å–æ•°æ®" class="headerlink" title="é€šè¿‡APIè·å–æ•°æ®"></a>é€šè¿‡APIè·å–æ•°æ®</h3><p>åˆæ³•å…¬å¼€æ¥å£</p>
<p>APIç”³è¯·ï¼š</p>
<ul>
<li>ç™¾åº¦å¼€æ”¾å¹³å°</li>
<li>æ³¨å†Œ</li>
<li>æ§åˆ¶å°åº”ç”¨</li>
<li>å®šä¹‰IPé™åˆ¶</li>
<li>å¾—åˆ°api_keyå¯†é’¥</li>
</ul>
<p>é€šè¿‡å¼€å‘æ–‡æ¡£äº†è§£APIè§„åˆ™</p>
<h3 id="æ‰‹æœºAPPæ¥å£è·å–"><a href="#æ‰‹æœºAPPæ¥å£è·å–" class="headerlink" title="æ‰‹æœºAPPæ¥å£è·å–"></a>æ‰‹æœºAPPæ¥å£è·å–</h3><p>ç”µè„‘ç«¯ï¼šFiddlerç­‰</p>
<ul>
<li>æ•è·HTPPS</li>
<li>åŸºæœ¬ç•Œé¢</li>
<li>è®¾ç½®æ–­ç‚¹<ul>
<li>ä¿®æ”¹request</li>
<li>ä¿®æ”¹response</li>
</ul>
</li>
<li>è¿‡æ»¤ä¼šè¯</li>
<li>ç¼–ç </li>
</ul>
<p>å®‰å“ï¼š</p>
<ul>
<li>Wireshark</li>
<li>Package Capture</li>
<li>Share for root</li>
</ul>
<h3 id="VPS"><a href="#VPS" class="headerlink" title="VPS"></a>VPS</h3><p>Virtual Private Serverè™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨</p>
<p>ç‰©ç†è®¾å¤‡ä¸Šçš„è™šæ‹Ÿæœº</p>
<p>é˜¿é‡Œäº‘ã€è…¾è®¯äº‘</p>
<p>VULTRã€DigitalOcean</p>
<p>é€‰æ‹©å“ªä¸ªï¼Ÿï¼šåˆ†ææµ·åº•å…‰ç¼†æ‹“æ‰‘</p>
<p>ä½¿ç”¨SSH</p>
<p>windowsï¼šXshell/PuTTY</p>
]]></content>
      <categories>
        <category>æ ¡å†…è¯¾ç¨‹</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨pythonè°ƒç”¨c#ç¼–å†™çš„dllæ–‡ä»¶</title>
    <url>/2021/02/26/%E4%BD%BF%E7%94%A8python%E8%B0%83%E7%94%A8c-%E7%BC%96%E5%86%99%E7%9A%84dll%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<p>é‡åˆ°äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„APIåº“ï¼Œæ˜¯ä½¿ç”¨c#å†™çš„dllåº“ï¼Œä¸ºäº†ä¾¿äºä¸é¡¹ç›®çš„å…¶ä»–éƒ¨åˆ†èåˆï¼ˆä¹Ÿæ˜¯ä¸ºäº†æƒ³é™ä½codingéš¾åº¦å“ˆå“ˆï¼‰ï¼Œæƒ³è¦ä½¿ç”¨pythonæ“ä½œdllåº“ï¼Œåšäº†ä¸€ç•ªæ¢ç´¢ï¼Œåšä¸€ä¸ªè®°å½•ã€‚</p>
<a id="more"></a>
<p>ç½‘ä¸Šå¤§è‡´æœç´¢äº†ä¸€ä¸‹ï¼Œpythonå¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒæ¥è¯»å–è°ƒç”¨dllæ–‡ä»¶ï¼Œæœ‰ä¸€ä¸ªå«ctypesä¹‹ç±»çš„åº“å¯ä»¥è¯»å–cç¼–å†™çš„å‡½æ•°ï¼Œé’ˆå¯¹c#æœ‰ä¸€ä¸ªä¸“é—¨çš„åº“å«pythonnetã€‚</p>
<p>ä½¿ç”¨pip install pythonnetæˆ–è€…ä¸Špypiæ‰‹åŠ¨ä¸‹è½½wheelæ–‡ä»¶å®Œæˆå®‰è£…ï¼Œéœ€è¦æ³¨æ„æ‰‹åŠ¨å®‰è£…æ—¶è¦é€‰æ‹©é€‚é…python3.xç‰ˆæœ¬çš„ç›¸åº”æ–‡ä»¶ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šäººç‰ˆæœ¬æ²¡æœ‰é€‰å¯¹ã€‚</p>
<p>åœ¨è¿™é‡Œä¹Ÿå¤§è‡´è¯´ä¸€ä¸‹æˆ‘å¯¹c#æ‰€å†™dllæ–‡ä»¶ç»“æ„çš„ç†è§£</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">classlib.dll</span><br><span class="line"></span><br><span class="line">mynamespace&#123;</span><br><span class="line">    myclass&#123;</span><br><span class="line">        func1;</span><br><span class="line">        func2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªdllæ–‡ä»¶ä¸­åŒ…å«ç€å‘½åç©ºé—´ï¼Œdllæ–‡ä»¶åä¸éœ€è¦å’Œnamespaceçš„åå­—ä¸€æ ·ï¼ˆä½¿ç”¨vs2017ç”Ÿæˆdllæ—¶é»˜è®¤ä¸namespaceåå­—ä¸€è‡´ï¼‰ï¼Œå‘½åç©ºé—´mynamespaceä¸­å«æœ‰ç›¸å…³çš„ç±»å’Œæ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">using mynamespace;</span><br><span class="line"></span><br><span class="line">inst &#x3D; myclass();</span><br><span class="line">var result &#x3D; inst.func1();</span><br></pre></td></tr></table></figure>
<p>åœ¨c#ä¸­ä½¿ç”¨æ—¶ï¼Œå£°æ˜ä½¿ç”¨dllæ–‡ä»¶ä¸­çš„å‘½åç©ºé—´ï¼Œå°±å¯ä»¥ä½¿ç”¨é‡Œé¢çš„ç±»å’Œæ–¹æ³•ï¼Œç”¨æ³•æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚åœ¨pythonä¸­æˆ‘ä»¬ä¹ŸæœŸå¾…å¯ä»¥ç”¨ç›¸ä¼¼çš„æ–¹å¼å¯¼å…¥å‘½åç©ºé—´ï¼Œç›´æ¥è®¿é—®ç›¸åº”çš„ç±»å’Œæ–¹æ³•ã€‚</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> clr <span class="comment"># æ˜¯çš„ä¸å«pythonnetï¼Œé‚£ä¸ªåªæ˜¯åŒ…åå­—</span></span><br><span class="line">clr.AddReference(<span class="string">'classlib'</span>) <span class="comment"># æ³¨æ„æ²¡æœ‰dllåç¼€</span></span><br><span class="line"><span class="keyword">from</span> mynamespace <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">inst = myclass()</span><br><span class="line">res = inst.func1()</span><br></pre></td></tr></table></figure>
<p>å°†dllæ–‡ä»¶æ”¾åˆ°ä¸pyæ–‡ä»¶ç›¸åŒçš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨ä¸Šè¿°çš„æ–¹æ³•å°±ç†è®ºå¯ä»¥å®Œæˆnamespaceçš„å¯¼å…¥å’Œä½¿ç”¨</p>
<p><strong>ä½†æ˜¯ï¼</strong></p>
<p>ä½¿ç”¨è¿‡ç¨‹ä¸­ä¹Ÿæœ‰ä¸€äº›å¥‡æ€ªçš„ï¼Œæˆ‘ä¸èƒ½ç†è§£çš„é—®é¢˜ï¼š<br>åœ¨é¡¹ç›®ä¸­æœ‰ä¸ªdllæ–‡ä»¶ä¸€ç›´æç¤ºæ‰¾ä¸åˆ°è¿™ä¸ªæ¨¡å—ï¼Œæ— è®ºæ˜¯æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹è¿˜æ˜¯å°†å®ƒåŠ å…¥åˆ°pathç³»ç»Ÿå˜é‡éƒ½ä¸è¡Œï¼Œæœ‰ä¸€äº›æ–¹æ¡ˆæç¤ºä½¿ç”¨ç»å¯¹è·¯å¾„åœ°å€ï¼Œæˆ–è€…ä½¿ç”¨<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">clr.FindAssembly(<span class="string">"absolute path.dll"</span>) <span class="comment"># æ³¨æ„æœ‰dllåç¼€</span></span><br></pre></td></tr></table></figure><br>è¿™äº›æ–¹æ³•å¯¹äºæˆ‘æ¥è¯´éƒ½ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œåæ¥è¿™ä¸ªdllæ–‡ä»¶æ²¡æœ‰å®é™…ä½¿ç”¨ï¼ŒFindAssemblyå’ŒAddReferenceä¸¤ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«æˆ‘ä¹Ÿæ²¡ææ¸…ï¼Œpythonneté¡¹ç›®çš„githubåœ°å€ä¸Šç»™çš„ä¾‹å­ä½¿ç”¨çš„æ˜¯AddReferenceï¼Œæˆ‘æœ€ç»ˆä½¿ç”¨çš„ä¹Ÿæ˜¯è¿™ä¸ªï¼ŒFindAssemblyæœ‰å•¥ç”¨æ€ä¹ˆç”¨çœ‹ä¹‹åå¦‚æœæœ‰æœºä¼šç¢°åˆ°äº†å†ç ”ç©¶å§</p>
<p>ä»Šå¤©æ˜¯ä½“ä¼šåˆ°pythonä¸ºä»€ä¹ˆå«èƒ¶æ°´è¯­è¨€äº†ï¼Œç¡®å®ç®€å•å¥½ç”¨</p>
<p>ä¸‹ä¸€ç¯‡ä¸æ­¤é¡¹ç›®ç›¸å…³çš„å†…å®¹æš‚å®šä¸ºpythonè°ƒç”¨windows COMç»„ä»¶çš„æ–¹æ³•ï¼Œå’ŒC++è°ƒç”¨COMä¸€å¯¹æ¯”å°±çœ‹å‡ºæ¥pythonæ˜¯çœŸçš„ç®€å•å•Š</p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨paramikoè¿œç¨‹ç™»é™†è™šæ‹Ÿæœºæ‰§è¡Œå‘½ä»¤</title>
    <url>/2021/02/22/%E4%BD%BF%E7%94%A8paramiko%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<p>åœ¨win10ç¯å¢ƒä¸‹æ’°å†™pythonè„šæœ¬ï¼Œsshç™»å½•è™šæ‹Ÿæœºï¼Œå¹¶æ‰§è¡Œå‘½ä»¤å’Œè¿”å›ç»“æœ</p>
<a id="more"></a>
<p>ä»Šå¤©æ¥åˆ°äº†ä¸€ä¸ªå°ä»»åŠ¡ï¼Œéœ€è¦åœ¨windowsç¯å¢ƒä¸‹å†™ä¸ªpythonè„šæœ¬æ‰§è¡Œè¿œç¨‹æœºå™¨ä¸Šçš„å‘½ä»¤ï¼Œä¸»è¦å°±æ˜¯æŠŠsshå‘½ä»¤è¡Œçš„æŒ‡ä»¤å˜æˆè„šæœ¬ï¼Œæœäº†ä¸€ä¸‹å‘ç°paramikoè¿™ä¸ªåº“å¯ä»¥ç®€å•çš„å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œåšä¸€ä¸ªè®°å½•</p>
<p>æ²¡æœ‰å®‰è£…paramikoçš„ç¯å¢ƒå¯ä»¥ä½¿ç”¨pip3 install paramikoå®‰è£…ä¸€ä¸‹ï¼Œéœ€è¦æ³¨æ„pipçš„ç‰ˆæœ¬æœ€å¥½æ›´æ–°åˆ°æœ€æ–°ï¼Œä¸€å¼€å§‹ä½¿ç”¨ä½ç‰ˆæœ¬çš„pipé‡åˆ°äº†æ‰¾ä¸åˆ°ä¾èµ–é¡¹çš„æƒ…å†µï¼Œæ›´æ–°äº†pipä¹‹åå°±å¥½äº†</p>
<p>anacondaæ²¡æœ‰é‡åˆ°å®‰è£…é—®é¢˜</p>
<p>åœ¨ubuntu20çš„è™šæ‹Ÿæœºä¸Šå†™äº†ä¸ªdemo.pyï¼Œå†…å®¹å°±æ˜¯æ‰“å°â€Ubuntu is readyâ€ï¼Œè™šæ‹Ÿæœºé‡‡ç”¨æ¡¥æ¥æ–¹å¼ï¼Œåœ°å€ä¸º192.168.110.104</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> paramiko</span><br><span class="line"><span class="comment"># é»˜è®¤sshç™»é™†åœ¨~ç›®å½•ï¼Œæ‰€ä»¥ç›´æ¥æ‰§è¡Œäº†å¦‚ä¸‹å‘½ä»¤ï¼Œæ­£å¸¸æƒ…å†µæœ€å¥½ç”¨æ–‡ä»¶ç»å¯¹åœ°å€</span></span><br><span class="line">cmd = <span class="string">'python3 demo.py'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create client object</span></span><br><span class="line">ssh = paramiko.SSHClient()</span><br><span class="line"><span class="comment"># do if missing host key, add new hostname into list</span></span><br><span class="line">ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span><br><span class="line"><span class="comment"># login (fakeinfo here) port22:ssh port</span></span><br><span class="line">ssh.connect(hostname=<span class="string">'192.168.110.104'</span>, username=<span class="string">'adin'</span>, password=<span class="string">'xxxxxxx'</span>, port=<span class="number">22</span>)</span><br><span class="line"><span class="comment"># return result</span></span><br><span class="line">stdin, stdout, stderr = ssh.exec_command(cmd)</span><br><span class="line"><span class="comment"># read the buffer and decode</span></span><br><span class="line">print(stdout.read().decode())</span><br><span class="line"></span><br><span class="line">ssh.close()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡¸ä¼˜åŒ–é—®é¢˜</title>
    <url>/2021/03/07/%E5%87%B8%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>å‡¸ä¼˜åŒ–é—®é¢˜çš„æ±‚è§£æ–¹æ³•</p>
<a id="more"></a>
<h2 id="å‡¸ä¼˜åŒ–é—®é¢˜çš„è¡¨è¿°"><a href="#å‡¸ä¼˜åŒ–é—®é¢˜çš„è¡¨è¿°" class="headerlink" title="å‡¸ä¼˜åŒ–é—®é¢˜çš„è¡¨è¿°"></a>å‡¸ä¼˜åŒ–é—®é¢˜çš„è¡¨è¿°</h2><script type="math/tex; mode=display">
min \quad f(x) \\
s.t. \quad g_i(x)\le 0 , i=1...m\\
\qquad h_j(x)=0, j =1,...n</script><p>æˆä¸ºå‡¸ä¼˜åŒ–é—®é¢˜çš„æ¡ä»¶ï¼š</p>
<ol>
<li>$f(x)$æ˜¯å‡¸å‡½æ•°</li>
<li>$g(x)$æ˜¯å‡¸å‡½æ•°</li>
<li>$h(x)$æ˜¯çº¿æ€§å‡½æ•°</li>
</ol>
<p>æœ‰æ—¶ä¹ä¸€çœ‹æŸä¸ªé—®é¢˜ä¸æ˜¯å‡¸ä¼˜åŒ–ï¼Œä½†æ˜¯é€šè¿‡ç­‰ä»·è½¬æ¢åå¯ä»¥å˜æˆå‡¸ä¼˜åŒ–é—®é¢˜</p>
<hr>
<h2 id="å‡¸ä¼˜åŒ–é—®é¢˜çš„ç‰¹ç‚¹"><a href="#å‡¸ä¼˜åŒ–é—®é¢˜çš„ç‰¹ç‚¹" class="headerlink" title="å‡¸ä¼˜åŒ–é—®é¢˜çš„ç‰¹ç‚¹"></a>å‡¸ä¼˜åŒ–é—®é¢˜çš„ç‰¹ç‚¹</h2><ol>
<li><p><strong>å±€éƒ¨æœ€ä¼˜è§£å°±æ˜¯å…¨å±€æœ€ä¼˜è§£</strong></p>
</li>
<li><p>å…¨å±€æœ€ä¼˜è§£$x^* \in S$çš„ç­‰ä»·æ¡ä»¶ï¼š</p>
</li>
</ol>
<script type="math/tex; mode=display">\bigtriangledown f(x^*)^T(x-x^*)\ge 0, \forall x \in S</script><p>å¯ä»¥ç”¨ä¸Šä¸€ç« å‡¸å‡½æ•°çš„æ€§è´¨è¯æ˜</p>
<blockquote>
<ol>
<li>ç­‰ä»·äº$f(y)\ge f(x)+\bigtriangledown f(x)^T(y-x)$.åœ¨å›¾å½¢ä¸Šä¸ºå‡¸å‡½æ•°åœ¨ä»»æ„ç‚¹çš„åˆ‡é¢ä¸Šæ–¹ã€‚</li>
</ol>
</blockquote>
<script type="math/tex; mode=display">f(x)\ge f(x^*)+\bigtriangledown f(x^*)^T(x-x^*)\ge f(x^*)</script><p>æœ€ä¼˜ç‚¹çš„æ¢¯åº¦å‘é‡å¯ä»¥ä½œä¸ºè¶…å¹³é¢çš„æ³•å‘é‡ï¼Œè¯¥è¶…å¹³é¢å°±æ˜¯ä¸€ä¸ªå‡¸é›†çš„æ”¯æ’‘å¹³é¢</p>
<hr>
<h2 id="å‡ ç§ç‰¹æ®Šå‡¸é—®é¢˜çš„æœ€ä¼˜åŒ–æ¡ä»¶"><a href="#å‡ ç§ç‰¹æ®Šå‡¸é—®é¢˜çš„æœ€ä¼˜åŒ–æ¡ä»¶" class="headerlink" title="å‡ ç§ç‰¹æ®Šå‡¸é—®é¢˜çš„æœ€ä¼˜åŒ–æ¡ä»¶"></a>å‡ ç§ç‰¹æ®Šå‡¸é—®é¢˜çš„æœ€ä¼˜åŒ–æ¡ä»¶</h2><ol>
<li>æ— çº¦æŸå‡¸ä¼˜åŒ–çš„æœ€ä¼˜ç‚¹å……åˆ†å¿…è¦æ¡ä»¶ï¼š</li>
</ol>
<script type="math/tex; mode=display">\bigtriangledown f(x^*)=0</script><ol>
<li>ç­‰å¼çº¦æŸå‡¸ä¼˜åŒ–é—®é¢˜$min{f(x) | Ax = b}$</li>
</ol>
<p>$\bigtriangledown f(x^*)$åœ¨AçŸ©é˜µçš„è¡Œå‘é‡ç©ºé—´é‡Œ</p>
<ol>
<li>éè´Ÿçº¦æŸ$min{f(x) | x \ge 0}$:</li>
</ol>
<script type="math/tex; mode=display">\bigtriangledown f(x^*)x^* = 0, x^*\ge 0, \bigtriangledown f(x^*) \ge 0</script><hr>
<h2 id="çº¿æ€§è§„åˆ’é—®é¢˜-LP"><a href="#çº¿æ€§è§„åˆ’é—®é¢˜-LP" class="headerlink" title="çº¿æ€§è§„åˆ’é—®é¢˜ LP"></a>çº¿æ€§è§„åˆ’é—®é¢˜ LP</h2><h3 id="é€šç”¨è§£æ³•"><a href="#é€šç”¨è§£æ³•" class="headerlink" title="é€šç”¨è§£æ³•"></a>é€šç”¨è§£æ³•</h3><script type="math/tex; mode=display">min\quad c^Tx \\
s.t. \quad Ax = b \\
\qquad x \ge 0</script><p>å»æ‰¾é›†åˆçš„æç‚¹ï¼Œä¾æ¬¡åˆ¤æ–­æ¯ä¸ªæç‚¹æ˜¯ä¸æ˜¯æœ€ä¼˜ç‚¹å³å¯</p>
<h3 id="å¯ä»¥è½¬æ¢ä¸ºçº¿æ€§è§„åˆ’çš„é—®é¢˜"><a href="#å¯ä»¥è½¬æ¢ä¸ºçº¿æ€§è§„åˆ’çš„é—®é¢˜" class="headerlink" title="å¯ä»¥è½¬æ¢ä¸ºçº¿æ€§è§„åˆ’çš„é—®é¢˜"></a>å¯ä»¥è½¬æ¢ä¸ºçº¿æ€§è§„åˆ’çš„é—®é¢˜</h3><h4 id="åˆ†å¼çº¿æ€§è§„åˆ’"><a href="#åˆ†å¼çº¿æ€§è§„åˆ’" class="headerlink" title="åˆ†å¼çº¿æ€§è§„åˆ’"></a>åˆ†å¼çº¿æ€§è§„åˆ’</h4><h4 id="æœ€å°åŒ–ç»å¯¹å€¼å‡½æ•°"><a href="#æœ€å°åŒ–ç»å¯¹å€¼å‡½æ•°" class="headerlink" title="æœ€å°åŒ–ç»å¯¹å€¼å‡½æ•°"></a>æœ€å°åŒ–ç»å¯¹å€¼å‡½æ•°</h4><h4 id="æœ€å°åŒ–å¤šé¢ä½“å‡½æ•°"><a href="#æœ€å°åŒ–å¤šé¢ä½“å‡½æ•°" class="headerlink" title="æœ€å°åŒ–å¤šé¢ä½“å‡½æ•°"></a>æœ€å°åŒ–å¤šé¢ä½“å‡½æ•°</h4><hr>
<h2 id="äºŒæ¬¡è§„åˆ’é—®é¢˜-QP"><a href="#äºŒæ¬¡è§„åˆ’é—®é¢˜-QP" class="headerlink" title="äºŒæ¬¡è§„åˆ’é—®é¢˜ QP"></a>äºŒæ¬¡è§„åˆ’é—®é¢˜ QP</h2>]]></content>
      <categories>
        <category>æœ€ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
        <tag>æœ€ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡¸å‡½æ•°</title>
    <url>/2021/03/07/%E5%87%B8%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<p>å‡¸å‡½æ•°çš„å®šä¹‰ä¸æ€§è´¨</p>
 <a id="more"></a>
<h2 id="å‡¸å‡½æ•°çš„å®šä¹‰"><a href="#å‡¸å‡½æ•°çš„å®šä¹‰" class="headerlink" title="å‡¸å‡½æ•°çš„å®šä¹‰"></a>å‡¸å‡½æ•°çš„å®šä¹‰</h2><p>è®¾$C$æ˜¯éç©ºå‡¸é›†ï¼Œ$f$æ˜¯å®šä¹‰åœ¨$C$ä¸Šçš„å‡½æ•°ï¼Œè‹¥å¯¹ä»»æ„$x,y\in C,\alpha \in (0,1)$ï¼Œéƒ½å­˜åœ¨</p>
<script type="math/tex; mode=display">f(\alpha x + (1-\alpha)y) \ge \alpha f(x) + (1-\alpha)f(y)</script><ol>
<li>åˆ™ç§°å‡½æ•°$f$æ˜¯å‡¸å‡½æ•°</li>
<li>è‹¥å¤§äºç­‰äºå·å˜æˆå¤§äºå·ï¼Œåˆ™ä¸ºä¸¥æ ¼å‡¸å‡½æ•°</li>
<li>å°äºå·ä»£è¡¨å‡¹å‡½æ•°ï¼Œå‡¹å‡¸çš„æ–¹å‘ä¸å­—å‹ç›¸å</li>
</ol>
<hr>
<h2 id="å¸¸è§çš„å‡¸å‡½æ•°"><a href="#å¸¸è§çš„å‡¸å‡½æ•°" class="headerlink" title="å¸¸è§çš„å‡¸å‡½æ•°"></a>å¸¸è§çš„å‡¸å‡½æ•°</h2><ol>
<li>çº¿æ€§å‡½æ•°$y=a^Tx+b$</li>
<li>äºŒæ¬¡å‡½æ•°$y=x^TQx+a^Tx+b, Q\in S_{+}^n$</li>
<li>æœ€å°äºŒä¹˜å‡½æ•°$f(x)=|Ax-b |^2_2$</li>
<li>$p$èŒƒæ•°$f(x) = (\sum_i^n|x_i|^p)^{1/p}, p\ge 1$</li>
</ol>
<ul>
<li>$p=0$çš„æ—¶å€™èŒƒæ•°ä¸æ»¡è¶³å‡¸å‡½æ•°è¦æ±‚ï¼Œ0èŒƒæ•°ä»£è¡¨$x$ä¸­éé›¶çš„å…ƒç´ æ•°ç›®</li>
<li>äºŒæ¬¡å‹çŸ©é˜µéœ€è¦æ˜¯åŠæ­£å®šçŸ©é˜µ</li>
<li>æœ€å°äºŒä¹˜ç±»ä¼¼äºŒæ¬¡å‡½æ•°ï¼Œç”±äºå…¶äºŒæ¬¡å‹å‡½æ•°ä¸º$A^TA$ï¼Œä¿è¯äº†ä¸€å®šä¸ºåŠæ­£å®šçŸ©é˜µ</li>
</ul>
<hr>
<h2 id="å‡¸å‡½æ•°çš„æ€§è´¨"><a href="#å‡¸å‡½æ•°çš„æ€§è´¨" class="headerlink" title="å‡¸å‡½æ•°çš„æ€§è´¨"></a>å‡¸å‡½æ•°çš„æ€§è´¨</h2><p>è‹¥$f(x)$æ˜¯å‡¸å‡½æ•°</p>
<ol>
<li>ä¸€å®šæ˜¯è¿ç»­å‡½æ•°</li>
<li>$\forall a,b \in R^n, \varphi(x)=f(x+\alpha y)$ä¹Ÿæ˜¯å‡¸å‡½æ•°ï¼Œéœ€è¦æ³¨æ„$a,b$ä¸€æ—¦é€‰å®šåä¸ºå®šå€¼ã€‚å¯ä»¥è§†ä½œ$ab$ç‚¹è¿çº¿å¯¹åŸå‡¸å‡½æ•°çš„åˆ‡é¢ã€‚åˆ‡é¢å¾—åˆ°çš„å‡½æ•°ä»æ˜¯å‡¸å‡½æ•°ã€‚ä¾‹å¦‚å¯¹ä¸€ä¸ªäºŒç»´çš„æŠ›ç‰©é¢ç”¨åˆ‡çº¿å‰–å¼€ï¼Œå¾—åˆ°çš„æ˜¯å‡¸å‡½æ•°æŠ›ç‰©çº¿ã€‚</li>
<li>ç­‰ä»·äº$f(y)\ge f(x)+\bigtriangledown f(x)^T(y-x)$.åœ¨å›¾å½¢ä¸Šä¸ºå‡¸å‡½æ•°åœ¨ä»»æ„ç‚¹çš„åˆ‡é¢ä¸Šæ–¹ã€‚</li>
<li>è‹¥$f(x)$äºŒé˜¶å¯å¾®ï¼Œåˆ™å‡¸å‡½æ•°ç­‰ä»·äºHesseçŸ©é˜µä¸ºåŠæ­£å®šçŸ©é˜µã€‚ç±»ä¼¼äº$f(x)$ä»»ä¸€ç‚¹äºŒé˜¶å¯¼æ•°å¤§äºç­‰äºé›¶ï¼Œä»å›¾å½¢ä¸Šæ¥çœ‹æ˜¯æ–œç‡ä¸€ç›´åœ¨å¢åŠ ã€‚</li>
</ol>
<hr>
<h2 id="ä¿è¯å‡¸å‡½æ•°æ€§è´¨çš„è¿ç®—"><a href="#ä¿è¯å‡¸å‡½æ•°æ€§è´¨çš„è¿ç®—" class="headerlink" title="ä¿è¯å‡¸å‡½æ•°æ€§è´¨çš„è¿ç®—"></a>ä¿è¯å‡¸å‡½æ•°æ€§è´¨çš„è¿ç®—</h2><ol>
<li>é€è§†å‡½æ•°</li>
</ol>
<p>è‹¥$f(x)$æ˜¯å‡¸å‡½æ•°ï¼Œæ„é€ äº†ä¸€ä¸ªæ–°å‡½æ•°$g(x,t)=tf(x/t),t&gt;0$</p>
<p>$g(x)$ä¹Ÿæ˜¯å‡¸å‡½æ•°</p>
<p><img src='perception.png' width=600, title='é€è§†å‡½æ•°'></p>
<ol>
<li>éè´Ÿç»„åˆ</li>
</ol>
<script type="math/tex; mode=display">g(x) = \sum w_i f_i(x), w_i\ge 0</script><ol>
<li>å‡¸å‡½æ•°æ±‚æœ€å¤§</li>
</ol>
<script type="math/tex; mode=display">g(x) = max{f_1(x),...f_m(x)}</script><hr>
<h2 id="å’Œå‡¸é›†å…³ç³»"><a href="#å’Œå‡¸é›†å…³ç³»" class="headerlink" title="å’Œå‡¸é›†å…³ç³»"></a>å’Œå‡¸é›†å…³ç³»</h2><p>è‹¥å‡½æ•°ä¸ºå‡¸å‡½æ•°ï¼Œåˆ™<strong>æ°´å¹³é›†</strong>ä¸€å®šæ˜¯å‡¸é›†</p>
<p><img src='co.png' width=600, title='æ°´å¹³é›†'></p>
<p>åè¿‡æ¥æ˜¯ä¸æˆç«‹çš„</p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>æœ€ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>æ’åºï¼šä¼˜å…ˆé˜Ÿåˆ—</title>
    <url>/2020/06/29/%E6%8E%92%E5%BA%8F%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/</url>
    <content><![CDATA[<p>ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼ŒåŸºæœ¬çš„æ“ä½œåŒ…æ‹¬<em>å»é™¤æœ€å¤§å…ƒç´ </em>ä»¥åŠ<em>æ’å…¥å…ƒç´ </em>ã€‚é€šè¿‡å®ç°ä¼˜å…ˆé˜Ÿåˆ—å¯ä»¥å®ç°<em>å †æ’åº</em>æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ¨¡æ‹Ÿç³»ç»Ÿçš„ä¼˜å…ˆçº§æ“ä½œã€‚</p>
<a id="more"></a>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">å…·ä½“å®ç°ä¹Ÿç”¨åˆ°äº†ä¹‹å‰ç”¨è¿‡çš„less()</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MaxPQ</span>&lt;<span class="title">Key</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&lt;<span class="title">Key</span>&gt;&gt;</span>&#123;</span><br><span class="line">    MaxPQ(); <span class="comment">// create a Prior Queue</span></span><br><span class="line">    MaxPQ(<span class="keyword">int</span> max); <span class="comment">// create a Prior Queue whose capacity is max</span></span><br><span class="line">    MaxPQ(Key[] a); <span class="comment">// create a Prior Queue from Key[] a</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span></span>; <span class="comment">// insert a element into the PQ</span></span><br><span class="line">    <span class="function">Key <span class="title">max</span><span class="params">()</span></span>; <span class="comment">//get the maximum element</span></span><br><span class="line">    <span class="function">Key <span class="title">delMax</span><span class="params">()</span></span>; <span class="comment">// delete and return the maximum element</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¼˜å…ˆé˜Ÿåˆ—çš„ä¸€ä¸ªç”¨é€”å°±æ˜¯ä»é•¿åº¦ä¸ºNçš„åºåˆ—ä¸­æ‰¾å‡ºMä¸ªæœ€å¤§çš„å…ƒç´ ã€‚</p>
<center> å¯»æ‰¾Mä¸ªæœ€å¤§å…ƒç´ çš„æˆæœ¬ </center>

<div class="table-container">
<table>
<thead>
<tr>
<th>å¢é•¿çš„æ•°é‡çº§</th>
<th>æ—¶é—´</th>
<th>ç©ºé—´</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ’åºç®—æ³•çš„ç”¨ä¾‹</td>
<td>NlogN</td>
<td>N</td>
</tr>
<tr>
<td>è°ƒç”¨åˆçº§å®ç°çš„ä¼˜å…ˆé˜Ÿåˆ—</td>
<td>NM</td>
<td>M</td>
</tr>
<tr>
<td>è°ƒç”¨åŸºäºå †å®ç°çš„ä¼˜å…ˆé˜Ÿåˆ—</td>
<td>NlogM</td>
<td>M</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TopM</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> M = Integer.parseInt(arg[<span class="number">0</span>]);</span><br><span class="line">        MinPQ&lt;Transaction&gt; pq = <span class="keyword">new</span> MinPQ&lt;Transaction&gt;</span><br><span class="line">        <span class="keyword">while</span>(StdIn.hasNextline())&#123;</span><br><span class="line">            pq.insert(<span class="keyword">new</span> Transaction(StdIn.readline()))</span><br><span class="line">            <span class="keyword">if</span> (pq.size()&gt;M)&#123;</span><br><span class="line">                pq.delMin();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;Transaction&gt; stack = <span class="keyword">new</span> Stack&lt;Transaction&gt;;</span><br><span class="line">        <span class="keyword">while</span>(!pq.isEmpty()) stack.push(pq.delMin());</span><br><span class="line">        <span class="keyword">for</span> (t : stack) StdOut.println(t);       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆçº§å®ç°"><a href="#åˆçº§å®ç°" class="headerlink" title="åˆçº§å®ç°"></a>åˆçº§å®ç°</h2><h3 id="æœ‰åºæ•°ç»„å®ç°"><a href="#æœ‰åºæ•°ç»„å®ç°" class="headerlink" title="æœ‰åºæ•°ç»„å®ç°"></a>æœ‰åºæ•°ç»„å®ç°</h3><p>æ’å…¥æ–¹æ³•insertï¼ˆï¼‰ä¸­æ·»åŠ é€‰æ‹©åˆé€‚ä½ç½®çš„ä»£ç ï¼Œä¿è¯æ’å…¥çš„å…ƒç´ ä¸€ç›´ä½¿å¾—æ•°ç»„æœ‰åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºN</p>
<p>delMaxï¼ˆï¼‰åˆ™ä¸æ ˆçš„popæ–¹æ³•ä¸€è‡´</p>
<h3 id="æ— åºæ•°ç»„å®ç°"><a href="#æ— åºæ•°ç»„å®ç°" class="headerlink" title="æ— åºæ•°ç»„å®ç°"></a>æ— åºæ•°ç»„å®ç°</h3><p>æ’å…¥æ–¹æ³•insertï¼ˆï¼‰ä¸æ ˆçš„pushï¼ˆï¼‰ä¸€è‡´</p>
<p>delMaxï¼ˆï¼‰ä¸é€‰æ‹©æ’åºç±»ä¼¼ï¼Œéå†å¯»æ‰¾æœ€å¤§å…ƒç´ ï¼Œç„¶åäº¤æ¢æ ˆé¡¶å…ƒç´ ä¸æœ€å¤§å…ƒç´ ï¼Œä¹‹åpopï¼ˆï¼‰</p>
<h3 id="é“¾è¡¨å®ç°"><a href="#é“¾è¡¨å®ç°" class="headerlink" title="é“¾è¡¨å®ç°"></a>é“¾è¡¨å®ç°</h3><p>é“¾è¡¨ä¸æ•°ç»„ç±»ä¼¼ï¼Œä¹Ÿåˆ†æœ‰åºä¸æ— åºï¼ŒåŒºåˆ«ä¹ŸåŒæ ·åœ¨äºæ˜¯insertï¼ˆï¼‰è¿˜æ˜¯delMaxï¼ˆï¼‰ä¸­å¢åŠ ä»£ç </p>
<h2 id="ä¼˜å…ˆé˜Ÿåˆ—çš„å †å®ç°"><a href="#ä¼˜å…ˆé˜Ÿåˆ—çš„å †å®ç°" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—çš„å †å®ç°"></a>ä¼˜å…ˆé˜Ÿåˆ—çš„å †å®ç°</h2><p>æ•°æ®ç»“æ„<strong>äºŒå‰å †</strong>æ˜¯äºŒå‰æ ‘çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ï¼Œè§„åˆ™åœ¨äºä¸€æ£µæ ‘çš„ä¸‰ä¸ªèŠ‚ç‚¹æœ‰å›ºå®šçš„å¤§å°å…³ç³»ã€‚å½“æ ¹ç»“ç‚¹å¤§äºä¸¤ä¸ªå­èŠ‚ç‚¹æ—¶ï¼Œè¯¥äºŒå‰å †ä¸º<strong>å †æœ‰åº</strong>çŠ¶æ€ã€‚</p>
<p><img src='fulltree.png' width=700 title='complete binary tree '></p>
<p>å¦‚æœä½¿ç”¨æŒ‡é’ˆè¡¨ç¤ºäºŒå‰å †ï¼Œæ¯ä¸ªèŠ‚ç‚¹éœ€è¦æœ‰ä¸‰ä¸ªæŒ‡é’ˆæŒ‡å‘ç›¸å…³èŠ‚ç‚¹ã€‚è€Œå¦‚æœäºŒå‰å †çš„ç»„æˆç»“æ„æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹å¼ç›´æ¥è¡¨ç¤ºï¼ŒæŒ‰ç…§å±‚çº§å­˜å‚¨çš„æ–¹å¼ä¸éœ€è¦æŒ‡é’ˆã€‚</p>
<p>äºŒå‰å †ä¹Ÿåœ¨æœ¬æ–‡ä¸­ä¹Ÿç®€ç§°ä¸ºå †ï¼Œå †çš„ç¬¬$K$ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä½ç½®ä¸º$floor(K/2)$ï¼Œå­èŠ‚ç‚¹ä¸º$2K$å’Œ$2K+1$ã€‚</p>
<p>ä½¿ç”¨å †å¯ä»¥ç”¨å¯¹æ•°çº§åˆ«æ€§èƒ½å®Œæˆæ’å…¥å’Œåˆ é™¤æ“ä½œã€‚</p>
<h2 id="å †ç®—æ³•"><a href="#å †ç®—æ³•" class="headerlink" title="å †ç®—æ³•"></a>å †ç®—æ³•</h2><p>to be continued</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>JAVA</tag>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡¸é›†çš„æ¦‚å¿µä¸æ€§è´¨</title>
    <url>/2021/02/27/%E5%87%B8%E9%9B%86%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%80%A7%E8%B4%A8/</url>
    <content><![CDATA[<p>å‡¸é›†æ˜¯æœ€ä¼˜åŒ–ç†è®ºä¸­çš„é‡è¦æ¦‚å¿µï¼Œæ˜¯å‡¸ä¼˜åŒ–ç†è®ºçš„å‰ç½®çŸ¥è¯†</p>
<a id="more"></a>
<p>å¦‚æœç›®æ ‡å‡½æ•°æ˜¯ä¸€ä¸ªå‡¸å‡½æ•°ï¼Œå¯è¡Œé›†æ˜¯ä¸€ä¸ªå‡¸é›†ï¼Œé‚£ä¹ˆè¿™ç§ä¼˜åŒ–é—®é¢˜å¯ä»¥è§†ä½œæ˜¯å‡¸ä¼˜åŒ–é—®é¢˜</p>
<h2 id="ä¸ºä»€ä¹ˆè¦ç ”ç©¶å‡¸ä¼˜åŒ–"><a href="#ä¸ºä»€ä¹ˆè¦ç ”ç©¶å‡¸ä¼˜åŒ–" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç ”ç©¶å‡¸ä¼˜åŒ–"></a>ä¸ºä»€ä¹ˆè¦ç ”ç©¶å‡¸ä¼˜åŒ–</h2><p><strong>å‡¸ä¼˜åŒ–é—®é¢˜æœ‰ä¸€äº›æ¯”è¾ƒå¥½çš„æ€§è´¨</strong></p>
<ol>
<li><p>å¯¹å‡¸å‡½æ•°æ¥è¯´ï¼Œä¸€å®šèƒ½æ‰¾åˆ°æœ€ä¼˜è§£ï¼Œå¹³ç¨³ç‚¹å°±æ˜¯æœ€ä¼˜è§£ï¼›éå‡¸å‡½æ•°ä¸èƒ½å¾—åˆ°è¿™ç§ç»“è®º<br><img src='convexfunc.png' width=600 title='å‡¸å‡½æ•°çš„å¥½å¤„'></p>
</li>
<li><p>å¯è¡Œé›†æ˜¯å‡¸é›†çš„è¯</p>
</li>
</ol>
<p><img src='convexcollec.png' width=600 title='å‡¸é›†çš„ç‰¹ç‚¹'></p>
<p>å‡¸é›†ä¸Šæœ€ä¼˜ç‚¹çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯ï¼Œè¯¥ç‚¹çš„è´Ÿæ¢¯åº¦ï¼Œä¸ï¼Œä»»ä¸€ç‚¹ä¸è¯¥ç‚¹çš„å†…ç§¯å°äºé›¶ï¼ˆå¤¹è§’å¤§äº90åº¦ï¼‰<br>éå‡¸é›†ä¸Šæ²¡æœ‰è¿™ç§æ¡ä»¶</p>
<p>ç»¼ä¸Šï¼Œå‡¸ä¼˜åŒ–é—®é¢˜ä¸­å¯ä»¥æœ‰æ¯”è¾ƒå¥½çš„æ€§è´¨å¯ä»¥åˆ©ç”¨ï¼Œå¯ä»¥è®¾è®¡æœ‰æ•ˆçš„ç®—æ³•ï¼ˆå¦‚<strong>å†…ç‚¹æ³•</strong>ï¼‰æ¥è§£å†³å‡¸ä¼˜åŒ–é—®é¢˜</p>
<h2 id="å‡¸é›†çš„åŸºæœ¬å®šä¹‰"><a href="#å‡¸é›†çš„åŸºæœ¬å®šä¹‰" class="headerlink" title="å‡¸é›†çš„åŸºæœ¬å®šä¹‰"></a>å‡¸é›†çš„åŸºæœ¬å®šä¹‰</h2><p>å¯¹äºä»»æ„çš„$x,y \in C$ä¸ä»»æ„çš„$\lambda \in [0,1]$æœ‰</p>
<script type="math/tex; mode=display">
\lambda x + (1-\lambda)y \in C</script><p>é›†åˆä¸¤ç‚¹çš„è¿çº¿ä»ç„¶å±äºé›†åˆ</p>
<h3 id="ä¸€äº›æ¦‚å¿µ"><a href="#ä¸€äº›æ¦‚å¿µ" class="headerlink" title="ä¸€äº›æ¦‚å¿µ"></a>ä¸€äº›æ¦‚å¿µ</h3><p><img src='convexcom.png' width=600 title='å‡¸ç»„åˆå’Œå‡¸åŒ…'></p>
<p>æœ‰å‡ ç§ç»„åˆï¼Œçº¿æ€§ã€ä»¿å°„ã€éè´Ÿå’Œå‡¸ç»„åˆï¼Œå‡¸åŒ…æ˜¯ä¸€ç§å‡¸ç»„åˆã€‚å‡¸åŒ…å¯ä»¥è®©éå‡¸çš„é›†åˆå¡«æ»¡ï¼Œå¡«æˆå‡¸é›†åˆã€‚</p>
<h2 id="å¸¸è§çš„å‡¸é›†åˆ"><a href="#å¸¸è§çš„å‡¸é›†åˆ" class="headerlink" title="å¸¸è§çš„å‡¸é›†åˆ"></a>å¸¸è§çš„å‡¸é›†åˆ</h2><ul>
<li>è¶…å¹³é¢</li>
</ul>
<script type="math/tex; mode=display">
H = \{x | a^Tx=b\} (a\ne 0)</script><ul>
<li>åŠç©ºé—´</li>
</ul>
<script type="math/tex; mode=display">
H = \{ x | a^Tx \le b \} (a\ne 0)</script><ul>
<li>å¤šé¢ä½“<ul>
<li>ä¸ç­‰å¼å’Œçº¿æ€§ç­‰å¼åˆ»ç”»çš„éƒ½æ˜¯å¤šé¢ä½“<script type="math/tex; mode=display">
\{x|a_i^Tx\le b_i, i=1,2...m\}</script></li>
</ul>
</li>
</ul>
<script type="math/tex; mode=display">
\{x|a_i^Tx =  b_i, i=1,2...m\}</script><ul>
<li>çƒä½“ Euclidean</li>
</ul>
<script type="math/tex; mode=display">
B(x_c, r) = \{ x| \parallel x -x_c \parallel \le r\}</script><ul>
<li><p>æ¤­çƒ Ellipsoid</p>
<ul>
<li>æ³¨æ„çŸ©é˜µçš„é€†ï¼ŒPä¸ºæ­£å®šçŸ©é˜µï¼Œæ¤­çƒçš„åŠè½´æ˜¯çŸ©é˜µçš„ç‰¹å¾å€¼å¼€æ ¹å·<script type="math/tex; mode=display">
\{ x| ( x -x_c )^T P^{-1} (x -x_c) \le 1\}</script></li>
</ul>
</li>
<li><p>äºŒé˜¶é”¥ Second-order coneï¼Œice-cream cone</p>
<ul>
<li>xæ˜¯å‰n-1ä¸ªå…ƒç´ ï¼Œtæ˜¯æœ€åä¸€ä¸ªå…ƒç´ <script type="math/tex; mode=display">
\{ (x,t) | \parallel x \parallel _2 < t\}</script></li>
</ul>
</li>
<li><p>åŠå®šçŸ©é˜µé”¥</p>
</li>
</ul>
<p><img src='halfortho.png' width=600 title='åŠå®šçŸ©é˜µé”¥'></p>
<p>è¿™ä¸ªå›¾å½¢è¡¨ç¤ºxï¼Œyï¼Œzæ»¡è¶³ä¸Šè¿°å…¬å¼çš„å•çš„é›†åˆï¼ŒåŠæ­£å®šçŸ©é˜µå½¢æˆçš„é›†åˆ</p>
<h2 id="ä¿æŒå‡¸æ€§çš„è¿ç®—"><a href="#ä¿æŒå‡¸æ€§çš„è¿ç®—" class="headerlink" title="ä¿æŒå‡¸æ€§çš„è¿ç®—"></a>ä¿æŒå‡¸æ€§çš„è¿ç®—</h2><p>äº¤é›†å¯ä»¥ä¿è¯å‡¸æ€§ï¼Œå¹¶é›†ä¸èƒ½ä¿è¯ã€‚åŠ å‡æ³•ä¹Ÿå¯ä»¥ä¿è¯ã€‚</p>
<p>ä»¿å°„å˜æ¢ä¿è¯å‡¸æ€§ï¼š</p>
<p>ä»¿å°„å˜æ¢æ˜¯ä¸€ç§çº¿æ€§å˜æ¢, å‡¸é›†ä»¿å°„åå¾—åˆ°çš„è¿˜æ˜¯ä¸€ä¸ªå‡¸é›†</p>
<p><img src='fangshe.png' width=600 title='ä»¿å°„'></p>
<h3 id="æŠ•å½±å®šç†"><a href="#æŠ•å½±å®šç†" class="headerlink" title="æŠ•å½±å®šç†"></a>æŠ•å½±å®šç†</h3><p><img src='touying.png' width=600 title='æŠ•å½±'></p>
<h3 id="ç‚¹ä¸å‡¸é›†çš„åˆ†ç¦»"><a href="#ç‚¹ä¸å‡¸é›†çš„åˆ†ç¦»" class="headerlink" title="ç‚¹ä¸å‡¸é›†çš„åˆ†ç¦»"></a>ç‚¹ä¸å‡¸é›†çš„åˆ†ç¦»</h3><p>ç”¨è¶…å¹³é¢åˆ†ç¦»ä¸¤ä¸ªç‚¹ï¼Œæˆ–è€…æ˜¯ä¸¤ä¸ªé—­å‡¸é›†<br><img src='sep.png' width=600 title='åˆ†ç¦»'></p>
<p>ä¸€ä¸ªè¶…å¹³é¢èƒ½å¤Ÿè®©æ•´ä¸ªé—­å‡¸é›†ä½äºè¶…å¹³é¢çš„ä¸€ä¾§<br><img src='support.png' width=600 title='æ”¯æ’‘è¶…å¹³é¢'></p>
<h2 id="Farkaså¼•ç†"><a href="#Farkaså¼•ç†" class="headerlink" title="Farkaså¼•ç†"></a>Farkaså¼•ç†</h2><p>ç»™å®šçŸ©é˜µ$A_{m\times n}$å’Œnç»´å‘é‡$c$ï¼Œä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜åªå­˜åœ¨ä¸€ä¸ªè§£</p>
<ol>
<li><script type="math/tex; mode=display">Ax<0,c^Tx>0</script></li>
<li><script type="math/tex; mode=display">A^Ty = c, y\ge 0</script></li>
</ol>
<p>å¦‚æœæŠŠ$A$çœ‹ä½œæ˜¯ä¸€ä¸ªå‡¸é›†å†…å¤šä¸ªnç»´è¡Œå‘é‡çš„é›†åˆï¼Œåˆ™ä¸Šè¿°ä¸¤ä¸ªå®šç†åˆ†åˆ«æ˜¯è®©$c$ä½äºå‡¸é›†å†…å’Œå‡¸é›†å¤–ï¼Œåœ¨å‡¸é›†å¤–å¯ä»¥ç”¨ç‚¹å’Œå‡¸é›†çš„åˆ†ç¦»å®šç†æ¥è¯æ˜è¿™ä¸ªå¼•ç†ã€‚</p>
<p>æˆ–è€…ç”¨ç”»å›¾çš„æ–¹å¼ï¼Œå¤§äºå°äºé›¶åˆ†åˆ«æ˜¯å‘é‡å¤¹è§’å¤§äºæˆ–è€…å°äº180åº¦ã€‚ç”»ä¸€ç”»å°±çœ‹å‡ºæ¥ä¸å¯èƒ½åŒæ—¶æœ‰è§£ã€‚</p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>æœ€ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>æ’åºï¼šåˆçº§æ’åºç®—æ³•</title>
    <url>/2020/06/20/%E6%8E%92%E5%BA%8F%EF%BC%9A%E5%88%9D%E7%BA%A7%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<p>æ’åºé€šå¸¸æ˜¯æ•°æ®å¤„ç†ä¸­æœ€å…ˆè¦åšçš„ä¸€æ­¥ï¼Œä¹Ÿæ˜¯è€—æ—¶å¤§æˆ·ã€‚ã€Šç®—æ³•4ã€‹ä¸­çš„è¿™ä¸€ç« ï¼Œä¸»è¦æ˜¯å­¦ä¹ å‡ ç§ç»å…¸çš„æ’åºç®—æ³•ã€‚ç¬¬ä¸€éƒ¨åˆ†ä¸ºåˆçº§æ’åºç®—æ³•ï¼Œå°†å­¦ä¹ ä¸¤ç§åŸºç¡€ç®—æ³•ä»¥åŠå…¶ä¸­çš„å˜ä½“ã€‚</p>
<a id="more"></a>
<h2 id="æ¸¸æˆè§„åˆ™"><a href="#æ¸¸æˆè§„åˆ™" class="headerlink" title="æ¸¸æˆè§„åˆ™"></a>æ¸¸æˆè§„åˆ™</h2><h3 id="å…ƒç´ ä¸ä¸»é”®"><a href="#å…ƒç´ ä¸ä¸»é”®" class="headerlink" title="å…ƒç´ ä¸ä¸»é”®"></a>å…ƒç´ ä¸ä¸»é”®</h3><p>æ’åºç®—æ³•å…³æ³¨çš„æ’åºå¯¹è±¡ä¸ºæ•°ç»„<strong>å…ƒç´ </strong>ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªå¯¹åº”çš„<strong>ä¸»é”®</strong>ã€‚<br>åœ¨Javaä¸­ä¸»é”®çš„æŠ½è±¡æè¿°æ˜¯é€šè¿‡å®ç°<em>Comparableæ¥å£</em>å®Œæˆçš„ã€‚</p>
<h3 id="ç®—æ³•ç±»API"><a href="#ç®—æ³•ç±»API" class="headerlink" title="ç®—æ³•ç±»API"></a>ç®—æ³•ç±»API</h3><p>è§£å†³è¿™ä¸€æ’åºé—®é¢˜çš„ç®—æ³•ä»¥ç±»çš„å½¢å¼å‡ºç°ï¼Œå…·æœ‰ä¸€äº›é€šç”¨çš„æ–¹æ³•ã€‚ä¸‹é¢åˆ—å‡ºâ€œæ’åºç®—æ³•ç±»æ¨¡æ¿Exampleâ€çš„APIã€‚</p>
<ul>
<li>sortï¼ˆï¼‰ç”¨äºæ’åº</li>
<li>lessï¼ˆï¼‰æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ å¤§å°</li>
<li>exchï¼ˆï¼‰äº¤æ¢å…ƒç´ ä½ç½®</li>
<li>isSortedï¼ˆï¼‰åˆ¤æ–­æ˜¯å¦æ˜¯æœ‰åºæ•°ç»„</li>
<li>showï¼ˆï¼‰æŒ‰é¡ºåºæ‰“å°æ•°ç»„</li>
<li>mainï¼ˆï¼‰æµ‹è¯•ç”¨ä¾‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">/* è¯·è§ç®—æ³•2.1ã€ç®—æ³•2.2ã€ç®—æ³•2.3ã€ç®—æ³•2.4ã€ç®—æ³•2.5æˆ–ç®—æ³•2.7*/</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">less</span><span class="params">(Comparable v, Comparable w)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="keyword">return</span> v.compareTo(w) &lt; <span class="number">0</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(Comparable[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function">    </span>&#123; Comparable t = a[i]; a[i] = a[j]; a[j] = t; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// åœ¨å•è¡Œä¸­æ‰“å°æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++)</span><br><span class="line">            StdOut.print(a[i] + <span class="string">" "</span>);</span><br><span class="line">        StdOut.println();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isSorted</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// æµ‹è¯•æ•°ç»„å…ƒç´ æ˜¯å¦æœ‰åº</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; a.length; i++)</span><br><span class="line">            <span class="keyword">if</span> (less(a[i], a[i-<span class="number">1</span>])) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// ä»æ ‡å‡†è¾“å…¥è¯»å–å­—ç¬¦ä¸²ï¼Œå°†å®ƒä»¬æ’åºå¹¶è¾“å‡º</span></span><br><span class="line">        String[] a = In.readStrings();</span><br><span class="line">        sort(a);</span><br><span class="line">        <span class="function"><span class="keyword">assert</span> <span class="title">isSorted</span><span class="params">(a)</span></span>;</span><br><span class="line">        show(a);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ’åºç®—æ³•è¯„ä»·æ–¹æ³•"><a href="#æ’åºç®—æ³•è¯„ä»·æ–¹æ³•" class="headerlink" title="æ’åºç®—æ³•è¯„ä»·æ–¹æ³•"></a>æ’åºç®—æ³•è¯„ä»·æ–¹æ³•</h3><h4 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h4><p>ä½¿ç”¨isSortedï¼ˆï¼‰æ¥åˆ¤æ–­ç®—æ³•æ˜¯å¦æˆåŠŸã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(isSorted(a))</span><br></pre></td></tr></table></figure>
<h4 id="æ—¶é—´"><a href="#æ—¶é—´" class="headerlink" title="æ—¶é—´"></a>æ—¶é—´</h4><p>éœ€è¦è®¡ç®—çš„æˆæœ¬åŒ…æ‹¬æ•°ç»„å…ƒç´ çš„äº¤æ¢ã€æ¯”è¾ƒçš„æ¬¡æ•°ï¼Œå¯¹äºä¸äº¤æ¢å…ƒç´ çš„ç®—æ³•ï¼Œåˆ™è®¡ç®—å…¶è®¿é—®æ•°ç»„çš„æ¬¡æ•°ã€‚å®é™…æµ‹è¯•ä»¥éšæœºè¾“å…¥æ¥è¿›è¡Œæ€§èƒ½æ¯”è¾ƒã€‚</p>
<h4 id="ç©ºé—´"><a href="#ç©ºé—´" class="headerlink" title="ç©ºé—´"></a>ç©ºé—´</h4><p>ç®—æ³•åœ¨é¢å¤–ç©ºé—´æ¶ˆè€—æŒ‡æ ‡ä¸Šçš„è¡¨ç°å¯ä»¥å°†å…¶åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li>åŸåœ°æ’åºç®—æ³•ï¼š é™¤äº†å‡½æ•°è°ƒç”¨æ‰€éœ€çš„æ ˆå’Œå›ºå®šæ•°ç›®çš„å®ä¾‹å˜é‡ä¹‹å¤–æ— éœ€é¢å¤–å†…å­˜</li>
<li>å…¶ä»–æ’åºç®—æ³•ï¼šéœ€è¦é¢å¤–ç©ºé—´æ¥å­˜å‚¨å¦ä¸€ä»½æ•°ç»„å‰¯æœ¬</li>
</ul>
<h3 id="æ•°æ®ç±»å‹çš„å®ç°"><a href="#æ•°æ®ç±»å‹çš„å®ç°" class="headerlink" title="æ•°æ®ç±»å‹çš„å®ç°"></a>æ•°æ®ç±»å‹çš„å®ç°</h3><p>Javaä¸­å®ç°æ’åºåŠŸèƒ½çš„æ•°æ®ç±»å‹éƒ½å®ç°äº†Comparableæ¥å£ï¼Œå…·ä½“åˆ°è‡ªå·±å®ç°çš„æ•°æ®ç±»å‹ï¼Œåªéœ€è¦å®ç°comparetoï¼ˆï¼‰è¿™ä¸ªæ–¹æ³•å³å¯ï¼Œè¯¥æ–¹æ³•å®šä¹‰äº†ç›®æ ‡ç±»å‹å¯¹è±¡çš„<strong>è‡ªç„¶æ’åº</strong>ã€‚Javaä¸­çš„åŸå§‹æ•°æ®ç±»å‹çš„åŒ…è£…ç±»Integer Doubleç­‰éƒ½å®ç°äº†è¿™ä¸€ä¸ªæ¥å£ã€‚</p>
<p>ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Date</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Date</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> day;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> year;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Date</span><span class="params">(<span class="keyword">int</span> d, <span class="keyword">int</span> m, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">    </span>&#123; day = d; month = m; year = y; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">day</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> day; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">month</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> month; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">year</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> year; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Date that)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.year &gt; that.year ) <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.year &lt; that.year ) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.month &gt; that.month) <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.month &lt; that.month) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.day &gt; that.day ) <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.day &lt; that.day ) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="keyword">return</span> month + <span class="string">"/"</span> + day + <span class="string">"/"</span> + year; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>compareToï¼ˆï¼‰æ–¹æ³•é€šå¸¸è¿”å›-1ï¼Œ0ï¼Œ+1ä¸‰ç§ç»“æœï¼Œå¯¹åº”è°ƒç”¨è€…å°äºï¼Œç­‰äºï¼Œå¤§äºè¢«è°ƒç”¨å…ƒç´ ã€‚å¦‚æœè°ƒç”¨è€…å’Œè¢«è°ƒç”¨å…ƒç´ æ— æ³•æ¯”è¾ƒå¤§å°åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>è¯¥æ–¹æ³•çš„å®ç°æ—¶éœ€è¦ä¿è¯ï¼š</p>
<ul>
<li>è‡ªåæ€§ v=v</li>
<li>åå¯¹ç§°æ€§ v &lt; w â€”&gt; w &gt; v</li>
<li>ä¼ é€’æ€§ v &lt; w  w &lt; p â€”&gt; v &lt; p</li>
</ul>
<p>å®ç°è¿™ä¸‰ä¸ªç‰¹æ€§æ˜¯æ¯”è¾ƒè‡ªç„¶çš„ï¼Œæ„ä¹‰ä¹Ÿæ¯”è¾ƒæ˜ç¡®ã€‚</p>
<h2 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h2><blockquote>
<p>ä¸€ç§æœ€ç®€å•çš„æ’åºç®—æ³•æ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆï¼Œæ‰¾åˆ°æ•°ç»„ä¸­æœ€å°çš„é‚£ä¸ªå…ƒç´ ï¼Œå…¶æ¬¡ï¼Œå°†å®ƒå’Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®ï¼ˆå¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯æœ€å°å…ƒç´ é‚£ä¹ˆå®ƒå°±å’Œè‡ªå·±äº¤æ¢ï¼‰ã€‚å†æ¬¡ï¼Œåœ¨å‰©ä¸‹çš„å…ƒç´ ä¸­æ‰¾åˆ°æœ€å°çš„å…ƒç´ ï¼Œå°†å®ƒä¸æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢ä½ç½®ã€‚å¦‚æ­¤å¾€å¤ï¼Œç›´åˆ°å°†æ•´ä¸ªæ•°ç»„æ’åºã€‚è¿™ç§æ–¹æ³•å«åšé€‰æ‹©æ’åºï¼Œå› ä¸ºå®ƒåœ¨ä¸æ–­åœ°é€‰æ‹©å‰©ä½™å…ƒç´ ä¹‹ä¸­çš„æœ€å°è€…ã€‚</p>
</blockquote>
<p>é€‰æ‹©æ’åºçš„ç‰¹ç‚¹æ˜¯</p>
<ul>
<li>æ’åºæ—¶é—´ä¸è¾“å…¥æ— å…³ã€‚ä¸€ä¸ªæ•°ç»„æ˜¯å¦æœ‰åºå¹¶ä¸èƒ½å½±å“æ’åºçš„æ—¶é—´ï¼Œæ’åºæ—¶é—´åªå’Œæ•°ç»„çš„è§„æ¨¡æœ‰å…³ã€‚æ•°ç»„å¤§å°ä¸ºNæ—¶ï¼Œå°†è¿›è¡Œ$\frac{N^{2}}{2}$æ¬¡æ¯”è¾ƒå’Œ$N$æ¬¡å…ƒç´ äº¤æ¢ã€‚å…¶ä»–ç®—æ³•é€šå¸¸ä¼šåˆ©ç”¨æ•°æ®çš„è¾“å…¥çŠ¶æ€ã€‚</li>
<li>æ•°æ®ç§»åŠ¨çš„æ¬¡æ•°æ˜¯æœ€å°‘çš„ã€‚äº¤æ¢æ¬¡æ•°å’Œæ•°ç»„å¤§å°æ˜¯çº¿æ€§å…³ç³»ï¼Œè¿™ä¸å…¶ä»–çš„ç®—æ³•æœ‰ç€é²œæ˜çš„åŒºåˆ«ï¼ˆä¸€èˆ¬äº¤æ¢çš„æ¬¡æ•°éƒ½æ˜¯çº¿æ€§å¯¹æ•°æˆ–è€…å¹³æ–¹çº§åˆ«ï¼‰ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Selection</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// å°†a[]æŒ‰å‡åºæ’åˆ—</span></span><br><span class="line">        <span class="keyword">int</span> N = a.length; <span class="comment">// æ•°ç»„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        &#123; <span class="comment">// å°†a[i]å’Œa[i+1..N]ä¸­æœ€å°çš„å…ƒç´ äº¤æ¢</span></span><br><span class="line">            <span class="keyword">int</span> min = i; <span class="comment">// æœ€å°å…ƒç´ çš„ç´¢å¼•</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">            <span class="keyword">if</span> (less(a[j], a[min])) min = j;</span><br><span class="line">                exch(a, i, min);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// less()ã€exch()ã€isSorted()å’Œmain()æ–¹æ³•è§â€œæ’åºç®—æ³•ç±»æ¨¡æ¿â€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h2><blockquote>
<p>é€šå¸¸äººä»¬æ•´ç†æ¡¥ç‰Œçš„æ–¹æ³•æ˜¯ä¸€å¼ ä¸€å¼ çš„æ¥ï¼Œå°†æ¯ä¸€å¼ ç‰Œæ’å…¥åˆ°å…¶ä»–å·²ç»æœ‰åºçš„ç‰Œä¸­çš„é€‚å½“ä½ç½®ã€‚åœ¨è®¡ç®—æœºçš„å®ç°ä¸­ï¼Œä¸ºäº†ç»™è¦æ’å…¥çš„å…ƒç´ è…¾å‡ºç©ºé—´ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶ä½™æ‰€æœ‰å…ƒç´ åœ¨æ’å…¥ä¹‹å‰éƒ½å‘å³ç§»åŠ¨ä¸€ä½ã€‚è¿™ç§ç®—æ³•å«åšæ’å…¥æ’åº.</p>
</blockquote>
<p>ä¸é€‰æ‹©æ’åºä¸€æ ·ï¼Œå½“å‰ç´¢å¼•å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ï¼Œä½†å®ƒä»¬çš„æœ€ç»ˆä½ç½®è¿˜ä¸ç¡®å®šï¼Œä¸ºäº†ç»™æ›´å°çš„å…ƒç´ è…¾å‡ºç©ºé—´ï¼Œå®ƒä»¬å¯èƒ½ä¼šè¢«ç§»åŠ¨ã€‚ä½†æ˜¯å½“ç´¢å¼•åˆ°è¾¾æ•°ç»„çš„å³ç«¯æ—¶ï¼Œæ•°ç»„æ’åºå°±å®Œæˆäº†ã€‚</p>
<p>å’Œé€‰æ‹©æ’åºä¸åŒçš„æ˜¯ï¼Œæ’å…¥æ’åºæ‰€éœ€çš„æ—¶é—´å–å†³äºè¾“å…¥ä¸­å…ƒç´ çš„åˆå§‹é¡ºåºã€‚ä¾‹å¦‚ï¼Œå¯¹ä¸€ä¸ªå¾ˆå¤§ä¸”å…¶ä¸­çš„å…ƒç´ å·²ç»æœ‰åºï¼ˆæˆ–æ¥è¿‘æœ‰åºï¼‰çš„æ•°ç»„è¿›è¡Œæ’åºå°†ä¼šæ¯”å¯¹éšæœºé¡ºåºçš„æ•°ç»„æˆ–æ˜¯é€†åºæ•°ç»„è¿›è¡Œæ’åºè¦å¿«å¾—å¤šã€‚</p>
<blockquote>
<p>å¯¹äºéšæœºæ’åˆ—çš„é•¿åº¦ä¸ºN ä¸”ä¸»é”®ä¸é‡å¤çš„æ•°ç»„ï¼Œå¹³å‡æƒ…å†µä¸‹æ’å…¥æ’åºéœ€è¦ï½ $\frac{N^2}{4}$ æ¬¡æ¯”<br>è¾ƒä»¥åŠï½ $\frac{N^2}{4}$ æ¬¡äº¤æ¢ã€‚æœ€åæƒ…å†µä¸‹éœ€è¦ï½ $\frac{N^2}{2}$ æ¬¡æ¯”è¾ƒå’Œï½$\frac{N^2}{2}$æ¬¡äº¤æ¢ï¼Œæœ€å¥½æƒ…å†µä¸‹éœ€è¦$N-1$æ¬¡æ¯”è¾ƒå’Œ$0$æ¬¡äº¤æ¢ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Insertion</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// å°†a[]æŒ‰å‡åºæ’åˆ—</span></span><br><span class="line">        <span class="keyword">int</span> N = a.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; i++)</span><br><span class="line">        &#123; <span class="comment">// å°† a[i] æ’å…¥åˆ° a[i-1]ã€a[i-2]ã€a[i-3]...ä¹‹ä¸­</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt; <span class="number">0</span> &amp;&amp; less(a[j], a[j-<span class="number">1</span>]); j--)</span><br><span class="line">                exch(a,j,j-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œå†’æ³¡çš„æ’åºæ–¹æ³•æ€»è§‰å¾—æœ‰äº›ç±»ä¼¼ï¼Œå®ƒæ˜¯æŒ‰ç…§ç´¢å¼•å‘å‰ä¸æ–­å°†ç´¢å¼•å·¦ä¾§çš„æ•°æ®è¿›è¡Œå†’æ³¡ä¸€æ ·çš„æ’åºï¼ŒæŠŠæœ€å°å€¼æˆ–æœ€å¤§å€¼è¿å¾€æœ€å·¦ä¾§ã€‚ç´¢å¼•å·¦ä¾§æ°¸è¿œæ˜¯ä¸ªå®Œæˆå¥½çš„æ’åºå·¥ä½œã€‚</p>
<p><img src='paixu.png' width = '600' title = 'insert sorting'></p>
<p><strong>æ’å…¥æ’åºå¾ˆæ“…é•¿å¤„ç†åŸºæœ¬ä¸Šæœ‰åºçš„æ•°ç»„ï¼Œå®ƒå¯èƒ½æ¯”å…¶ä»–ä»»ä½•ç®—æ³•éƒ½è¦æ“…é•¿å¤„ç†</strong></p>
<p>åŸºæœ¬æœ‰åºçš„æ•°ç»„ï¼š</p>
<ul>
<li>æ¯ä¸ªå…ƒç´ éƒ½è·ç¦»æœ€ç»ˆçš„ä½ç½®ä¸è¿œ</li>
<li>ä¸€ä¸ªæœ‰åºçš„å¤§æ•°ç»„æ¥ä¸€ä¸ªå°æ•°ç»„</li>
<li>æ•°ç»„ä¸­åªæœ‰å‡ ä¸ªå…ƒç´ ä½ç½®ä¸æ­£ç¡® </li>
</ul>
<blockquote>
<p>æ’å…¥æ’åºéœ€è¦çš„äº¤æ¢æ“ä½œå’Œæ•°ç»„ä¸­å€’ç½®çš„æ•°é‡ç›¸åŒï¼Œéœ€è¦çš„æ¯”è¾ƒæ¬¡æ•°å¤§äºç­‰äºå€’ç½®çš„æ•°é‡ï¼Œå°äºç­‰äºå€’ç½®çš„æ•°é‡åŠ ä¸Šæ•°ç»„çš„å¤§å°å†å‡ä¸€</p>
</blockquote>
<h2 id="å¸Œå°”æ’åº-Shell-Sorting"><a href="#å¸Œå°”æ’åº-Shell-Sorting" class="headerlink" title="å¸Œå°”æ’åº Shell Sorting"></a>å¸Œå°”æ’åº Shell Sorting</h2><p>å¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„ä¸€ç§æ”¹è¿›ï¼Œå°†åŸæœ¬çš„æ­¥é•¿ä¸º1æ‰©å¤§ä¸ºhï¼Œæˆ‘è§‰å¾—å¯ä»¥ç†è§£ä¸ºå°†ä¸€ä¸ªæ— åºçš„å¤§æ•°ç»„å…ˆå˜æˆè‹¥å¹²ä¸ªæœ‰åºçš„å°æ•°ç»„ï¼Œç„¶åå†é€æ¸åˆå¹¶è¿™äº›å°æ•°ç»„ï¼ˆé™ä½hï¼‰ï¼Œç›´è‡³h=1æ—¶è¾¾åˆ°ä¸æ’å…¥æ’åºç›¸åŒçš„æ•ˆæœã€‚</p>
<blockquote>
<p>ç ”ç©¶å¸Œå°”æ’åºæ€§èƒ½éœ€è¦çš„æ•°å­¦è®ºè¯è¶…å‡ºäº†æœ¬ä¹¦èŒƒå›´</p>
</blockquote>
<p>å¸Œå°”ç®—æ³•åœ¨æœ€å·®æƒ…å½¢ä¸‹ä¹Ÿå°äºå¹³æ–¹çº§åˆ«ï¼Œå¤§çº¦æ˜¯1.5æ¬¡çº§åˆ«ï¼Œå¯¹å®ƒä¸¥æ ¼çš„æ•°å­¦æ¨å¯¼åˆ°ç›®å‰ä¸ºæ­¢ä¹Ÿæ˜¯éš¾é¢˜ï¼Œä½†å¤§é‡çš„å®éªŒè¯æ˜äº†å®ƒæ¯”æ’å…¥æ’åºçš„é€Ÿåº¦è¦å¿«å¾ˆå¤šï¼Œè€Œä¸”æ•°æ®çš„è§„æ¨¡è¶Šå¤§å®ƒçš„ä¼˜åŠ¿ä¹Ÿå°±è¶Šå¤§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shell</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// å°†a[]æŒ‰å‡åºæ’åˆ—</span></span><br><span class="line">        <span class="keyword">int</span> N = a.length;</span><br><span class="line">        <span class="keyword">int</span> h = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (h &lt; N/<span class="number">3</span>) h = <span class="number">3</span>*h + <span class="number">1</span>; <span class="comment">// 1, 4, 13, 40, 121, 364, 1093, ...</span></span><br><span class="line">        <span class="keyword">while</span> (h &gt;= <span class="number">1</span>)</span><br><span class="line">        &#123; <span class="comment">// å°†æ•°ç»„å˜ä¸ºhæœ‰åº</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = h; i &lt; N; i++)</span><br><span class="line">            &#123; <span class="comment">// å°†a[i]æ’å…¥åˆ°a[i-h], a[i-2*h], a[i-3*h]... ä¹‹ä¸­</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt;= h &amp;&amp; less(a[j], a[j-h]); j -= h)</span><br><span class="line">                exch(a, j, j-h);</span><br><span class="line">            &#125;</span><br><span class="line">            h = h/<span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// less()ã€exch()ã€isSorted()å’Œmain()æ–¹æ³•è§â€œæ’åºç®—æ³•ç±»æ¨¡æ¿â€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src='shell.png' width = '600' title = 'shell'></p>
<p><img src='shell-vision.png' width='600' title = 'shell-visibility'></p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>æ’åºï¼šå½’å¹¶æ’åº</title>
    <url>/2020/06/21/%E6%8E%92%E5%BA%8F%EF%BC%9A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p>æœ¬ç« è®¨è®ºçš„æ˜¯å½’å¹¶æ’åºç®—æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€è·¯æ˜¯æŠŠæœ‰åºçš„å°æ•°ç»„åˆå¹¶ä¸ºå¤§æ•°ç»„ï¼ŒåŒæ—¶ä¹Ÿä½¿ç”¨äº†é€’å½’çš„æ€æƒ³ã€‚å½’å¹¶æ’åºå¯ä»¥ä¿è¯ä»»æ„é•¿åº¦ä¸º$N$çš„æ•°ç»„å¯ä»¥åœ¨æ­£æ¯”äº$NlogN$çš„æ—¶é—´é‡Œå®Œæˆæ’åºï¼Œä½†ç¼ºç‚¹æ˜¯æ‰€éœ€ç©ºé—´ä¸$N$æˆæ­£æ¯”ã€‚</p>
<a id="more"></a>
<p><img src='guibing.JPG' size = '600' title='demonstration of the Merge Sort'></p>
<h2 id="åŸåœ°å½’å¹¶"><a href="#åŸåœ°å½’å¹¶" class="headerlink" title="åŸåœ°å½’å¹¶"></a>åŸåœ°å½’å¹¶</h2><blockquote>
<p>åŸåœ°æ’åºç®—æ³•ï¼š é™¤äº†å‡½æ•°è°ƒç”¨æ‰€éœ€çš„æ ˆå’Œå›ºå®šæ•°ç›®çš„å®ä¾‹å˜é‡ä¹‹å¤–æ— éœ€é¢å¤–å†…å­˜</p>
</blockquote>
<p>åŸåœ°å½’å¹¶çš„æ€è·¯å¹¶ä¸å¤æ‚ï¼Œå…ˆæ’åºå‰åŠéƒ¨åˆ†ï¼Œå†æ’åºååŠéƒ¨åˆ†ï¼Œç„¶åä¸éœ€é¢å¤–ç©ºé—´çš„ç§»åŠ¨æ•°ç»„å…ƒç´ ã€‚ä½†åœ¨ç®—æ³•å®ç°ä¸­è¿™ç§æ–¹æ¡ˆæ¯”è¾ƒå¤æ‚ã€‚</p>
<p>ä¸€ç§åŸåœ°å½’å¹¶çš„æŠ½è±¡åŒ–æ–¹æ³•ï¼Œä½¿ç”¨äº†ä¸€ä¸ªè¾…åŠ©æ•°ç»„auxã€‚æŒ‰ç…§å‡åºæ’åˆ—ï¼Œä¸¤ä¸ªå·²ç»æ’åºå¥½çš„æ•°ç»„ä¾æ¬¡æ¯”è¾ƒå„å…ƒç´ å¤§å°ï¼ŒæŒ‘é€‰å°çš„æ”¾è¿›å»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> mid, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="comment">// å°†a[lo..mid] å’Œ a[mid+1..hi] å½’å¹¶</span></span><br><span class="line">    <span class="keyword">int</span> i = lo, j = mid+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = lo; k &lt;= hi; k++) <span class="comment">// å°†a[lo..hi]å¤åˆ¶åˆ°aux[lo..hi]</span></span><br><span class="line">        aux[k] = a[k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = lo; k &lt;= hi; k++) <span class="comment">// å½’å¹¶å›åˆ°a[lo..hi]</span></span><br><span class="line">        <span class="keyword">if</span> (i &gt; mid)                    a[k] = aux[j++]; <span class="comment">// å‰åŠä¸ªæ•°ç»„å·²ç»éƒ½æ’å®Œäº†</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; hi )               a[k] = aux[i++]; <span class="comment">// ååŠä¸ªæ•°ç»„éƒ½å·²ç»æ’å®Œäº†</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (less(aux[j], aux[i]))  a[k] = aux[j++]; <span class="comment">// æŒ‘é€‰ä¸¤ä¸ªæ•°ç»„ä¸­æœ€å°å€¼çš„è¾ƒå°å€¼</span></span><br><span class="line">        <span class="keyword">else</span>                            a[k] = aux[i++];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åº"><a href="#è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åº" class="headerlink" title="è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åº"></a>è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åº</h2><p>é€’å½’æ–¹æ³•ï¼Œä¸æ–­åˆ†è€Œæ²»ä¹‹ï¼Œç›´åˆ°æŠŠæ•°ç»„åˆ†ä¸ºä¸€ä¸ªä¸ªå…ƒç´ å†åˆå¹¶èµ·æ¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Merge</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Comparable[] aux; <span class="comment">// å½’å¹¶æ‰€éœ€çš„è¾…åŠ©æ•°ç»„</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        aux = <span class="keyword">new</span> Comparable[a.length]; <span class="comment">// ä¸€æ¬¡æ€§åˆ†é…ç©ºé—´</span></span><br><span class="line">        sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// å°†æ•°ç»„a[lo..hi]æ’åº</span></span><br><span class="line">        <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = lo + (hi - lo)/<span class="number">2</span>;</span><br><span class="line">        sort(a, lo, mid); <span class="comment">// å°†å·¦åŠè¾¹æ’åº</span></span><br><span class="line">        sort(a, mid+<span class="number">1</span>, hi); <span class="comment">// å°†å³åŠè¾¹æ’åº</span></span><br><span class="line">        merge(a, lo, mid, hi); <span class="comment">// å½’å¹¶ç»“æœï¼ˆä»£ç è§â€œåŸåœ°å½’å¹¶çš„æŠ½è±¡æ–¹æ³•â€ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src='merge.JPG' width = '600' title='demonstration of the Merge Sort'></p>
<h2 id="è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº"><a href="#è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº" class="headerlink" title="è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº"></a>è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº</h2><p>è‡ªé¡¶å‘ä¸‹çš„æ–¹æ³•çš„åˆå¹¶é¡ºåºæ˜¯æŒ‰ç…§æ ‘çš„é¡ºåºï¼Œä½¿ç”¨é€’å½’çš„æ–¹æ³•å·¦å³å­æ ‘ä¾æ¬¡åˆå¹¶ã€‚è€Œè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºåˆ™ä¸æ˜¯ä½¿ç”¨é€’å½’ï¼Œè€Œæ˜¯ä¸¤ä¸¤åˆå¹¶ï¼Œå†å››å››åˆå¹¶ï¼Œå†å…«å…«åˆå¹¶ï¼Œæ¯æ¬¡åˆå¹¶éƒ½æ˜¯åœ¨å…¨æ•°æ®èŒƒå›´å†…è¿›è¡Œçš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MergeBU</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Comparable[] aux; <span class="comment">// å½’å¹¶æ‰€éœ€çš„è¾…åŠ©æ•°ç»„</span></span><br><span class="line">    <span class="comment">// merge()æ–¹æ³•çš„ä»£ç è¯·è§â€œåŸåœ°å½’å¹¶çš„æŠ½è±¡æ–¹æ³•â€</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// è¿›è¡ŒlgNæ¬¡ä¸¤ä¸¤å½’å¹¶</span></span><br><span class="line">        <span class="keyword">int</span> N = a.length;</span><br><span class="line">        aux = <span class="keyword">new</span> Comparable[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> sz = <span class="number">1</span>; sz &lt; N; sz = sz+sz) <span class="comment">// szå­æ•°ç»„å¤§å°</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> lo = <span class="number">0</span>; lo &lt; N-sz; lo += sz+sz) <span class="comment">// lo:å­æ•°ç»„ç´¢å¼•</span></span><br><span class="line">                merge(a, lo, lo+sz-<span class="number">1</span>, Math.min(lo+sz+sz-<span class="number">1</span>, N-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src='merge-bu.png' width='600' title='merge-bu-visualization'></p>
<blockquote>
<p>å¯¹äºé•¿åº¦ä¸ºN çš„ä»»æ„æ•°ç»„ï¼Œè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºéœ€è¦$1/2NlgN$ è‡³$NlgN$ æ¬¡æ¯”è¾ƒï¼Œæœ€å¤šè®¿é—®æ•°ç»„$6NlgN$ æ¬¡ã€‚</p>
<p>å½“æ•°ç»„é•¿åº¦ä¸º2 çš„å¹‚æ—¶ï¼Œè‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºæ‰€ç”¨çš„æ¯”è¾ƒæ¬¡æ•°å’Œæ•°ç»„è®¿é—®æ¬¡æ•°æ­£å¥½ç›¸åŒï¼Œåªæ˜¯é¡ºåºä¸åŒã€‚å…¶ä»–æ—¶å€™ï¼Œä¸¤ç§æ–¹æ³•çš„æ¯”è¾ƒå’Œæ•°ç»„è®¿é—®çš„æ¬¡åºä¼šæœ‰æ‰€ä¸åŒ</p>
<p><strong>è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºæ¯”è¾ƒé€‚åˆç”¨é“¾è¡¨ç»„ç»‡çš„æ•°æ®</strong>ã€‚æƒ³è±¡ä¸€ä¸‹å°†é“¾è¡¨å…ˆæŒ‰å¤§å°ä¸º1 çš„å­é“¾è¡¨è¿›è¡Œæ’åºï¼Œç„¶åæ˜¯å¤§å°ä¸º2 çš„å­é“¾è¡¨ï¼Œç„¶åæ˜¯å¤§å°ä¸º4 çš„å­é“¾è¡¨ç­‰ã€‚è¿™ç§æ–¹æ³•åªéœ€è¦é‡æ–°ç»„ç»‡é“¾è¡¨é“¾æ¥å°±èƒ½å°†é“¾è¡¨<strong>åŸåœ°æ’åº</strong>ï¼ˆä¸éœ€è¦åˆ›å»ºä»»ä½•æ–°çš„é“¾è¡¨ç»“ç‚¹ï¼‰</p>
</blockquote>
<h2 id="æ’åºç®—æ³•çš„å¤æ‚åº¦"><a href="#æ’åºç®—æ³•çš„å¤æ‚åº¦" class="headerlink" title="æ’åºç®—æ³•çš„å¤æ‚åº¦"></a>æ’åºç®—æ³•çš„å¤æ‚åº¦</h2><blockquote>
<p>æ²¡æœ‰ä»»ä½•åŸºäºæ¯”è¾ƒçš„ç®—æ³•èƒ½å¤Ÿä¿è¯ä½¿ç”¨å°‘äº$lgï¼ˆN!ï¼‰$ï½ $NlgN$ æ¬¡æ¯”è¾ƒå°†é•¿åº¦ä¸ºN çš„æ•°ç»„æ’åºã€‚</p>
</blockquote>
<p>è¿™ä¸ªç»“è®ºå¯ä»¥ç®€å•ç”¨æ ‘ç»“æ„è¯æ˜ï¼Œæ¯ä¸€å¼ Nä¸ªå…ƒç´ çš„æ’åˆ—æ–¹å¼æ˜¯ä¸€ä¸ªæ ‘çš„å¶å­ï¼ŒNä¸ªå…ƒç´ å…±æœ‰Nï¼ç§æ’åˆ—ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ ‘å¶å­çš„æ•°ç›®ä¸ºNï¼ï¼Œå¦‚æœæ¯ä¸€ä¸ªèŠ‚ç‚¹ä»£è¡¨æ¯”è¾ƒäº†ä¸¤ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ¯”è¾ƒä¹‹åä¼šå¯¹åº”ä¸¤ç§ç»“æœï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘ã€‚å› æ­¤åŸºäºæ¯”è¾ƒçš„ç®—æ³•å¯ä»¥è¡¨ç¤ºä¸º<strong>ä¸€é¢—äºŒå‰æ ‘</strong>ï¼Œ<strong>éœ€è¦æ¯”è¾ƒçš„æ¬¡æ•°å°±æ˜¯æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦</strong>ï¼Œè¯¥é•¿åº¦æœ€å¤§å°±æ˜¯ä¸€ä¸ªäºŒå‰æ ‘çš„é«˜åº¦ï¼Œå³lgï¼ˆNï¼ï¼‰ï¼Œæ ¹æ®æ–¯ç‰¹çµå…¬å¼å¯ä»¥è¿‘ä¼¼è¡¨ç¤ºä¸ºNlgNã€‚å¯¹åº”ç€Nå…ƒç´ æ•°ç»„çš„æœ€åæƒ…å†µã€‚</p>
<blockquote>
<p>å½’å¹¶æ’åºæ˜¯ä¸€ç§æ¸è¿›æœ€ä¼˜çš„åŸºäºæ¯”è¾ƒæ’åºçš„ç®—æ³•ã€‚</p>
</blockquote>
<p>ä¸¤è€…çš„å¤æ‚åº¦ç±»ä¼¼éƒ½æ˜¯$Nlg(N!)$</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>æ’åºï¼šå¿«é€Ÿæ’åº</title>
    <url>/2020/06/22/%E6%8E%92%E5%BA%8F%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p>å¿«é€Ÿæ’åºç®—æ³•å¾—åˆ°äº†ååˆ†å¹¿æ³›çš„åº”ç”¨ï¼ŒåŸå› åœ¨äºå®ƒå…·æœ‰åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šçš„åŒé‡ä¼˜ç‚¹â€”â€”å®ƒæ˜¯åŸåœ°æ’åºç®—æ³•ï¼Œæ‰€éœ€çš„æ—¶é—´ä¸$Nlogï¼ˆNï¼‰$æˆæ­£æ¯”ã€‚å®ƒçš„å®ç°æ¯”è¾ƒè„†å¼±ï¼Œè„†å¼±çš„å«ä¹‰æ˜¯ä¸€æ—¦ä¸å°å¿ƒæ€§èƒ½ä¼šå˜å¾—éå¸¸ç³Ÿç³•ã€‚</p>
<a id="more"></a>
<h2 id="åŸºæœ¬ç®—æ³•"><a href="#åŸºæœ¬ç®—æ³•" class="headerlink" title="åŸºæœ¬ç®—æ³•"></a>åŸºæœ¬ç®—æ³•</h2><p>åŸºæœ¬çš„æ€æƒ³æ˜¯<strong>åˆ†è€Œæ²»ä¹‹</strong>ã€‚</p>
<blockquote>
<p>å¿«é€Ÿæ’åºæ˜¯ä¸€ç§åˆ†æ²»çš„æ’åºç®—æ³•ã€‚å®ƒå°†ä¸€ä¸ªæ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œå°†ä¸¤éƒ¨åˆ†ç‹¬ç«‹åœ°æ’åºã€‚å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åºæ˜¯äº’è¡¥çš„ï¼š<em>å½’å¹¶æ’åºå°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„åˆ†åˆ«æ’åºï¼Œå¹¶å°†æœ‰åºçš„å­æ•°ç»„å½’å¹¶ä»¥å°†æ•´ä¸ªæ•°ç»„æ’åºï¼›è€Œå¿«é€Ÿæ’åºå°†æ•°ç»„æ’åºçš„æ–¹å¼åˆ™æ˜¯å½“ä¸¤ä¸ªå­æ•°ç»„éƒ½æœ‰åºæ—¶æ•´ä¸ªæ•°ç»„ä¹Ÿå°±è‡ªç„¶æœ‰åºäº†ã€‚</em>åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸­ï¼Œé€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªæ•°ç»„<strong>ä¹‹å‰</strong>ï¼›åœ¨ç¬¬äºŒç§æƒ…å†µä¸­ï¼Œé€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªæ•°ç»„<strong>ä¹‹å</strong>ã€‚</p>
</blockquote>
<p>åœ¨å½’å¹¶æ’åºä¸­ï¼Œä¸€ä¸ªæ•°ç»„è¢«ç­‰åˆ†ä¸ºä¸¤åŠï¼›åœ¨å¿«é€Ÿæ’åºä¸­ï¼Œåˆ‡åˆ†ï¼ˆpartitionï¼‰çš„ä½ç½®å–å†³äºæ•°ç»„çš„å†…å®¹ã€‚</p>
<p><img src='quick.JPG' width='600' title='demonstration of quick sorting'></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Quick</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        StdRandom.shuffle(a); <span class="comment">// æ¶ˆé™¤å¯¹è¾“å…¥çš„ä¾èµ–</span></span><br><span class="line">        sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> j = partition(a, lo, hi); <span class="comment">// åˆ‡åˆ†ï¼ˆè¯·è§â€œå¿«é€Ÿæ’åºçš„åˆ‡åˆ†â€ï¼‰</span></span><br><span class="line">        sort(a, lo, j-<span class="number">1</span>); <span class="comment">// å°†å·¦åŠéƒ¨åˆ†a[lo .. j-1]æ’åº</span></span><br><span class="line">        sort(a, j+<span class="number">1</span>, hi); <span class="comment">// å°†å³åŠéƒ¨åˆ†a[j+1 .. hi]æ’åº</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰“ä¹±æ•°ç»„â€”&gt;åˆ‡åˆ†â€”&gt;åˆ†åˆ«æ’åº</p>
<h3 id="å¿«é€Ÿæ’åºçš„åˆ‡åˆ†"><a href="#å¿«é€Ÿæ’åºçš„åˆ‡åˆ†" class="headerlink" title="å¿«é€Ÿæ’åºçš„åˆ‡åˆ†"></a>å¿«é€Ÿæ’åºçš„åˆ‡åˆ†</h3><p><strong>åˆ‡åˆ†ç­–ç•¥æ˜¯å¿«é€Ÿæ’åºç®—æ³•çš„æ ¸å¿ƒ</strong></p>
<p>ä¸€èˆ¬ç­–ç•¥æ˜¯å…ˆéšæ„åœ°å–a[lo] ä½œä¸ºåˆ‡åˆ†å…ƒç´ ï¼Œå³é‚£ä¸ªå°†ä¼šè¢«æ’å®šçš„å…ƒç´ ï¼Œç„¶åæˆ‘ä»¬ä»æ•°ç»„çš„å·¦ç«¯å¼€å§‹å‘å³æ‰«æç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¤§äºç­‰äºå®ƒçš„å…ƒç´ ï¼Œå†ä»æ•°ç»„çš„å³ç«¯å¼€å§‹å‘å·¦æ‰«æç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äºç­‰äºå®ƒçš„å…ƒç´ ã€‚è¿™ä¸¤ä¸ªå…ƒç´ æ˜¾ç„¶æ˜¯æ²¡æœ‰æ’å®šçš„ï¼Œå› æ­¤æˆ‘ä»¬äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚å¦‚æ­¤ç»§ç»­ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¿è¯å·¦æŒ‡é’ˆi çš„å·¦ä¾§å…ƒç´ éƒ½ä¸å¤§äºåˆ‡åˆ†å…ƒç´ ï¼Œå³æŒ‡é’ˆj çš„å³ä¾§å…ƒç´ éƒ½ä¸å°äºåˆ‡åˆ†å…ƒç´ ã€‚å½“ä¸¤ä¸ªæŒ‡é’ˆç›¸é‡æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å°†åˆ‡åˆ†å…ƒç´ a[lo] å’Œå·¦å­æ•°ç»„æœ€å³ä¾§çš„å…ƒç´ ï¼ˆa[j]ï¼‰äº¤æ¢ç„¶åè¿”å›j å³å¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="comment">// å°†æ•°ç»„åˆ‡åˆ†ä¸ºa[lo..i-1], a[i], a[i+1..hi]</span></span><br><span class="line">    <span class="keyword">int</span> i = lo, j = hi+<span class="number">1</span>; <span class="comment">// å·¦å³æ‰«ææŒ‡é’ˆ</span></span><br><span class="line">    Comparable v = a[lo]; <span class="comment">// åˆ‡åˆ†å…ƒç´ </span></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">    &#123; <span class="comment">// æ‰«æå·¦å³ï¼Œæ£€æŸ¥æ‰«ææ˜¯å¦ç»“æŸå¹¶äº¤æ¢å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (less(a[++i], v)) <span class="keyword">if</span> (i == hi) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">while</span> (less(v, a[--j])) <span class="keyword">if</span> (j == lo) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= j) <span class="keyword">break</span>;</span><br><span class="line">        exch(a, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    exch(a, lo, j); <span class="comment">// å°†v = a[j]æ”¾å…¥æ­£ç¡®çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">return</span> j; <span class="comment">// a[lo..j-1] &lt;= a[j] &lt;= a[j+1..hi] è¾¾æˆ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ€§èƒ½æ”¹è¿›"><a href="#æ€§èƒ½æ”¹è¿›" class="headerlink" title="æ€§èƒ½æ”¹è¿›"></a>æ€§èƒ½æ”¹è¿›</h2><h3 id="åˆ‡æ¢åˆ°æ’å…¥æ’åº"><a href="#åˆ‡æ¢åˆ°æ’å…¥æ’åº" class="headerlink" title="åˆ‡æ¢åˆ°æ’å…¥æ’åº"></a>åˆ‡æ¢åˆ°æ’å…¥æ’åº</h3><p>åœ¨å¿«é€Ÿæ’åºå¼€å§‹çš„æ—¶å€™ï¼Œåˆ¤æ–­å¦‚æœæ•°ç»„é•¿åº¦å°äºæŸä¸ªå€¼åˆ™å°†ç®—æ³•åˆ‡æ¢ä¸ºæ’å…¥æ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span> (hi&lt;=lo) <span class="keyword">return</span>;</span><br><span class="line">    |</span><br><span class="line">    |</span><br><span class="line">    v</span><br><span class="line"><span class="keyword">if</span> (hi&lt;=<span class="number">1</span>o+M) &#123;Insertion.sort(a,lo,hi); <span class="keyword">return</span>;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰å–æ ·åˆ‡åˆ†"><a href="#ä¸‰å–æ ·åˆ‡åˆ†" class="headerlink" title="ä¸‰å–æ ·åˆ‡åˆ†"></a>ä¸‰å–æ ·åˆ‡åˆ†</h3><blockquote>
<p>æ”¹è¿›å¿«é€Ÿæ’åºæ€§èƒ½çš„ç¬¬äºŒä¸ªåŠæ³•æ˜¯ä½¿ç”¨å­æ•°ç»„çš„ä¸€å°éƒ¨åˆ†å…ƒç´ çš„ä¸­ä½æ•°æ¥åˆ‡åˆ†æ•°ç»„ã€‚è¿™æ ·åšå¾—åˆ°çš„åˆ‡åˆ†æ›´å¥½ï¼Œä½†ä»£ä»·æ˜¯éœ€è¦è®¡ç®—ä¸­ä½æ•°ã€‚äººä»¬å‘ç°å°†å–æ ·å¤§å°è®¾ä¸º3 å¹¶ç”¨å¤§å°å±…ä¸­çš„å…ƒç´ åˆ‡åˆ†çš„æ•ˆæœæœ€å¥½ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å°†å–æ ·å…ƒç´ æ”¾åœ¨æ•°ç»„æœ«å°¾ä½œä¸ºâ€œå“¨å…µâ€æ¥å»æ‰partition() ä¸­çš„æ•°ç»„è¾¹ç•Œæµ‹è¯•ã€‚ä½¿ç”¨ä¸‰å–æ ·åˆ‡åˆ†çš„å¿«é€Ÿæ’åºè½¨è¿¹å¦‚å›¾</p>
</blockquote>
<p><img src='3groupsample.png' width=800 title='3groupsample'></p>
<h3 id="ç†µæœ€ä¼˜æ’åº"><a href="#ç†µæœ€ä¼˜æ’åº" class="headerlink" title="ç†µæœ€ä¼˜æ’åº"></a>ç†µæœ€ä¼˜æ’åº</h3>]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„ï¼šå‘é‡</title>
    <url>/2020/09/13/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9A%E5%90%91%E9%87%8F/</url>
    <content><![CDATA[<p>é‚“å…¬å­¦å ‚åœ¨çº¿MOOC+æ¸…åã€Šæ•°æ®ç»“æ„ç¬¬ä¸‰ç‰ˆã€‹çš„ä¸€äº›è®°å½•ã€‚æœ¬ç¯‡ä¸ºå‘é‡éƒ¨åˆ†ã€‚</p>
<a id="more"></a>
<p>æŠ½è±¡æ•°æ®ç±»å‹ADTä¸æ•°æ®ç»“æ„DSä¸åŒï¼Œåè€…åŒ…å«ç€ç®—æ³•ã€‚</p>
<p>å‘é‡æ˜¯å¯¹æ•°ç»„è¿™ç§æ•°æ®ç±»å‹çš„æŠ½è±¡å’Œæ³›åŒ–ï¼Œå…ƒç´ çš„é¡ºåºä½¿ç”¨ç§©<strong>Rank</strong>æ¥è¡¨ç¤ºã€‚</p>
<hr>
<p>ç»§æ‰¿çš„æ—¶å€™ï¼ŒåŒæ ·åˆ†ä¸ºpublic protected privateç»§æ‰¿ï¼Œæ¬¡æ—¶ä¿®é¥°ç¬¦modifierä»£è¡¨æ´¾ç”Ÿç±»çš„è¢«è®¿é—®æƒé™çš„ä¸Šé™ï¼ˆåœ¨æ­¤å‡å®šæƒé™å®šä¹‰é«˜ä½ä¸ºpublic &gt; protected &gt; privateï¼‰å³å¦‚æœprivateç»§æ‰¿ï¼Œç±»é‡Œé¢æ‰€æœ‰æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°éƒ½ä¼šå˜æˆprivateï¼šå¦‚æœpublicç»§æ‰¿ï¼Œä¿æŒä¸å˜ï¼›å¦‚æœprotectedç»§æ‰¿ï¼Œåªä¼šå°†åŸå…ˆæ˜¯publicçš„é™ä½è‡³protectedã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//ADT interface of Vector</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Rank;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DEFAULT_CAPCITY 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="class"><span class="keyword">class</span> <span class="title">Vector</span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    </span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    T* _elem; Rank _size; <span class="keyword">int</span> _capacity;</span><br><span class="line">    ...... <span class="comment">//auxiliary funcitons </span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ...... <span class="comment">// constructor and destructor and interface function</span></span><br><span class="line">    Vector(<span class="keyword">int</span> c=DEFACULT_CAPACTIY,<span class="keyword">int</span> s=<span class="number">0</span>, T v=<span class="number">0</span>) &#123; <span class="comment">// all element are initialize to v</span></span><br><span class="line">        _elem = <span class="keyword">new</span> T[_capacity=c]; <span class="keyword">for</span>(_size=<span class="number">0</span>;_size&lt;s,;_elem[size++]=v);</span><br><span class="line">    &#125;</span><br><span class="line">    Vector (T <span class="keyword">const</span>* A, Rank n) &#123;copyfrom(A,<span class="number">0</span>,n)&#125;; <span class="comment">//æ•°ç»„æ•´ä½“å¤åˆ¶</span></span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="æ‰©å®¹ä¸ç¼©å®¹"><a href="#æ‰©å®¹ä¸ç¼©å®¹" class="headerlink" title="æ‰©å®¹ä¸ç¼©å®¹"></a>æ‰©å®¹ä¸ç¼©å®¹</h2><p>è£…å¡«å› å­$\lambda=\frac{_size}{_capacity}$è¡¨ç¤ºç›®å‰å‘é‡æœ‰æ•ˆå…ƒç´ çš„æ¯”ä¾‹ï¼Œä¸€èˆ¬åœ¨æ¥è¿‘æ»¡çš„æ—¶å€™ä¼šæ‰©å®¹ï¼Œå½“æœ‰æ•ˆå…ƒç´ å°äºå®¹é‡1/4çš„æ—¶å€™ä¼šç¼©å®¹ã€‚</p>
<p>æ‰©å®¹çš„æ–¹æ³•åŒ…æ‹¬å€å¢å¼æ‰©å®¹ä»¥åŠå›ºå®šå¢é‡æ‰©å®¹ä¸¤ç§æ–¹å¼ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å€å¢å¼æ‰©å®¹expand()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">void</span> Vector&lt;T&gt;::expand()&#123;</span><br><span class="line">    <span class="keyword">if</span> (_size&lt;_capacity) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (_capcity &lt; DEFAULT_CAPACITY) _capacity = DEFAULT_CAPCITY;</span><br><span class="line">    T* oldelem = _elem; _elem = <span class="keyword">new</span> T[_capacity&lt;&lt;=<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;_size;i++) &#123;</span><br><span class="line">        _elem[i] = oldelem[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span>[] oldelem; <span class="comment">// è®°å¾—è°ƒç”¨delete[]</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å›ºå®šå¢é‡å¼æ‰©å®¹åªéœ€è¦æ”¹åŠ¨ç¬¬ä¸‰å¥</span></span><br><span class="line">...</span><br><span class="line">T* oldelem = _elem; _elem = <span class="keyword">new</span> T[_capacity+=increment]</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>å¯¹æ¯”è¿™ä¸¤ç§æ‰©å®¹æ–¹å¼ï¼Œå€å¢å¼æ‰©å®¹åœ¨ç©ºé—´åˆ©ç”¨ç‡ä¸Šç›¸å¯¹è¾ƒä½ï¼ˆä½†ä¹Ÿå¤§äº50%ï¼‰ï¼Œä½†æ˜¯åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šå¹³æ‘Šåªéœ€Oï¼ˆ1ï¼‰çš„æ—¶é—´ã€‚ç›¸æ¯”å›ºå®šå¢é‡å¼æ‰©å®¹éœ€è¦Oï¼ˆnï¼‰çš„æ—¶é—´ï¼Œè¿™ç§ç©ºé—´ä¸Šçš„ä¸è¶³æ˜¯å¯ä»¥æ¥å—çš„ã€‚</p>
<p><em>ä¸ºä»€ä¹ˆå€å¢å¼æ‰©å®¹å¯ä»¥å¹³æ‘Šåˆ°O(1)ï¼Œè€Œå›ºå®šå¼æ‰©å®¹è¿˜æ˜¯O(n)å‘¢ï¼ŒåŸå› åœ¨äºä¸è®ºæ¯æ¬¡è¾“å…¥çš„é‡æ˜¯å¤šå¤§ï¼Œåªè¦ä¹‹åæ¯æ¬¡è¿™ä¸ªè¾“å…¥é‡ä¿æŒä¸å˜ï¼Œå€å¢å¼æ‰©å®¹éƒ½ä¼šè¿…é€Ÿçš„å°†capacityæ‰©å±•åˆ°æ¯”è¿™ä¸ªè¾“å…¥é‡å¤§å¾ˆå¤šï¼Œä½¿å¾—æ‰©å®¹çš„é¢‘ç‡è¿…é€Ÿä¸‹é™ï¼Œæœ‰ä¸€ç§è‡ªé€‚åº”çš„èƒ½åŠ›ï¼ˆè¾“å…¥çš„è¶ŠçŒ›ï¼Œå¢é•¿çš„è¶ŠçŒ›ï¼‰ã€‚ä½†æ˜¯å›ºå®šå¼æ‰©å®¹ï¼Œä¸€æ—¦è¾“å…¥å¤§äºå›ºå®šå¢é‡ï¼Œåˆ™æ¯æ¬¡è¾“å…¥éƒ½ä¼šäº§ç”Ÿæ‰©å®¹æ“ä½œï¼Œå¯¼è‡´å¤æ‚åº¦ä¸€ç›´éƒ½å·®ä¸å¤šæ˜¯O(n)ï¼Œæ²¡æœ‰ä¸€ä¸ªè‡ªæˆ‘è°ƒèŠ‚çš„èƒ½åŠ›ã€‚</em></p>
<p><strong>Average Running Time vs. amortized running time</strong></p>
<ul>
<li>å‰é¢çš„æ˜¯å¹³å‡æ—¶é—´ï¼ŒæŒ‡çš„æ˜¯ç®—æ³•æŒ‰ç…§æ¦‚ç‡åˆ†å¸ƒçš„æœŸæœ›è¿è¡Œæ—¶é—´ï¼Œåˆå¯ä»¥ç§°ä½œexpected running timeï¼Œå¯¹å®é™…è¿è¡Œæƒ…å†µçš„æ¨¡æ‹Ÿä¸å¤Ÿå¥½ã€‚å‰²è£‚äº†å„ä¸ªæ“ä½œçš„ç›¸å…³æ€§å’Œè¿è´¯æ€§ã€‚</li>
<li>åé¢çš„å«åšåˆ†æ‘Šæ—¶é—´ï¼Œå‡å®šçš„æ˜¯å¯¹å‘é‡åšè¶³å¤Ÿå¤šæ¬¡æ“ä½œåï¼Œæ—¶é—´åˆ†æ‘Šè‡³æ¯ä¸€æ¬¡æ“ä½œçš„æˆæœ¬ï¼Œæ›´å…·æœ‰ç°å®æ„ä¹‰ã€‚</li>
</ul>
<p><strong>ä¸€ä¸ªä¹ é¢˜ä¸è§£ç­”</strong></p>
<blockquote>
<p>Is it possible to replace:æ˜¯å¦å¯ä»¥å°†è§†é¢‘é‡Œå‘é‡æ‰©å®¹ä»£ç ä¸­çš„ï¼š</p>
<p>for (int i = 0; i &lt; _size; i++) _elem[i] = oldElem[i];</p>
<p>in the vector expansion code in the video with: æ›¿ä»£ä¸ºï¼š</p>
<p>memcpy(_elem, oldElem, _size * sizeof(T));</p>
<p>P.S.This question involves the relevant knowledge of C++ P.S.æœ¬é¢˜æ¶‰åŠC++çš„ç›¸å…³çŸ¥è¯†</p>
</blockquote>
<p>è§£æï¼š</p>
<p>When T is a non-base type and there is a corresponding assignment operator to perform deep copy, the previous section of code calls the assignment operator, and the latter section can only perform shallow copy. å½“Tä¸ºéåŸºæœ¬ç±»å‹ä¸”æœ‰å¯¹åº”çš„èµ‹å€¼è¿ç®—ç¬¦ä»¥æ‰§è¡Œæ·±å¤åˆ¶æ—¶ï¼Œå‰ä¸€æ®µä»£ç ä¼šè°ƒç”¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œè€Œåä¸€æ®µåªèƒ½è¿›è¡Œæµ…å¤åˆ¶ã€‚</p>
<p>ç¼©å®¹çš„å®ç°ä¸æ‰©å®¹åŸºæœ¬ä¸€è‡´ï¼Œå…ˆæ¯”è¾ƒsizeå’Œcapacityï¼Œå†å¤åˆ¶å…ƒç´ åˆ°æ–°çš„elemä¸­</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;typnename T&gt; <span class="keyword">void</span> Vector&lt;T&gt; :: shrink()&#123;</span><br><span class="line">    <span class="keyword">if</span> (_capacity &lt; DEFAULT_CAPACITY&lt;&lt;<span class="number">1</span>) <span class="keyword">return</span>; <span class="comment">// can not be smaller than the D_C</span></span><br><span class="line">    <span class="keyword">if</span> (_size&lt;&lt;<span class="number">2</span> &gt; _capacity) <span class="keyword">return</span>; <span class="comment">// not small enough</span></span><br><span class="line">    T* oldelem = _elem; _elem = <span class="keyword">new</span> T[_capacity&gt;&gt;=<span class="number">1</span>]; <span class="comment">// shrink to half</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; _size; i++) _elem[i]=oldelem[i];</span><br><span class="line">    <span class="keyword">delete</span>[] oldElem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ“ä½œç¬¦-é‡è½½"><a href="#æ“ä½œç¬¦-é‡è½½" class="headerlink" title="æ“ä½œç¬¦[]é‡è½½"></a>æ“ä½œç¬¦[]é‡è½½</h2><p>ä¸ºäº†è·å¾—ä¸‹æ ‡å¼çš„å…ƒç´ å¼•ç”¨æ–¹å¼A[i]ï¼Œå°†å‘é‡æ“ä½œç¬¦é‡è½½</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; T&amp; Vector &lt;T&gt; :: <span class="keyword">operator</span>[](Rank r) <span class="keyword">const</span> (<span class="keyword">return</span> _elem[r])</span><br><span class="line"><span class="comment">// æ­¤å¤„å¯¹rçš„æœ‰æ•ˆåŒºé—´çš„è®¨è®ºæ²¡åšä¸¥æ ¼è¦æ±‚ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„</span></span><br></pre></td></tr></table></figure>
<h2 id="æ’å…¥insert-Rank-r-T-e"><a href="#æ’å…¥insert-Rank-r-T-e" class="headerlink" title="æ’å…¥insert(Rank r, T e)"></a>æ’å…¥insert(Rank r, T e)</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; Rank Vector&lt;T&gt; :: insert(Rank r, T e)&#123;</span><br><span class="line">    expand(); <span class="comment">// expand if necessary</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=_size; i&gt;r; i--)</span><br><span class="line">        T[i] = T[i<span class="number">-1</span>];</span><br><span class="line">    T[r] = e;</span><br><span class="line">    _size++;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŒºé—´åˆ é™¤remove-Rank-lo-Rank-hi"><a href="#åŒºé—´åˆ é™¤remove-Rank-lo-Rank-hi" class="headerlink" title="åŒºé—´åˆ é™¤remove(Rank lo, Rank hi)"></a>åŒºé—´åˆ é™¤remove(Rank lo, Rank hi)</h2><p>æ•´ä½“å·¦ç§»è¦†ç›–è¦åˆ é™¤çš„éƒ¨åˆ†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">int</span> Vector&lt;T&gt; :: remove(Rank lo, Rank hi)&#123;</span><br><span class="line">    <span class="keyword">if</span> (lo == hi) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(hi&lt;_size) _elem[lo++] = _elem[hi++];</span><br><span class="line">    _size = lo; shrink(); <span class="comment">// _size = _size-(hi-lo)</span></span><br><span class="line">    <span class="keyword">return</span> hi - lo ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å•ä¸ªå…ƒç´ çš„åˆ é™¤å¯ä»¥çœ‹ä½œåŒºé—´åˆ é™¤çš„ç‰¹ä¾‹ï¼Œä½†æ˜¯åŒºé—´åˆ é™¤ä¸èƒ½çœ‹ä½œå•å…ƒç´ åˆ é™¤çš„ç‰¹ä¾‹ï¼Œå› ä¸ºå•ç‹¬åˆ é™¤å•å…ƒç´ ä¹Ÿä¼šæœ‰æœ€åOï¼ˆnï¼‰çš„ç§»åŠ¨ï¼Œå·²ç»å’ŒåŒºé—´åˆ é™¤çš„å¤æ‚åº¦ç›¸å½“äº†ï¼Œå¦‚æœåå¤æ‰§è¡Œè¿™ä¸€è¿‡ç¨‹ä¼šå¯¼è‡´Oï¼ˆn^2ï¼‰çš„å¤æ‚åº¦ï¼Œå®é™…ä¸Šæ˜¯ä¸å¯è¡Œçš„ã€‚</p>
</blockquote>
<h2 id="æŸ¥æ‰¾-find-T-const-amp-e-Rank-lo-Rank-hi"><a href="#æŸ¥æ‰¾-find-T-const-amp-e-Rank-lo-Rank-hi" class="headerlink" title="æŸ¥æ‰¾ find(T const&amp; e, Rank lo, Rank hi)"></a>æŸ¥æ‰¾ find(T const&amp; e, Rank lo, Rank hi)</h2><p>ä»åå‘å‰æ‰¾ï¼Œè¿”å›ç§©æœ€å¤§çš„ç¬¦åˆè¦æ±‚çš„å…ƒç´ çš„ç§©ã€‚è‹¥æ²¡æœ‰è¿”å›-1.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; Rank Vector&lt;T&gt; :: find(T <span class="keyword">const</span> &amp; e, Rank lo, Rank hi)&#123;</span><br><span class="line">    <span class="keyword">while</span>((lo&lt;hi--) &amp;&amp; e!= _elem[hi]);</span><br><span class="line">    <span class="keyword">return</span> hi;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æœ€å¥½æƒ…å†µOï¼ˆ1ï¼‰ï¼Œæœ€åæƒ…å†µOï¼ˆnï¼‰ï¼Œè¿™ç§ç§°ä¸º <strong>è¾“å…¥æ•æ„Ÿ</strong> é—®é¢˜</p>
</blockquote>
<h2 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h2><p>ä½¿ç”¨å‡½æ•°æŒ‡é’ˆæˆ–è€…å‡½æ•°å¯¹è±¡visitä½œä¸ºtraverseçš„å‚æ•°ï¼Œä»è€Œå®ç°å¯¹å‘é‡å…ƒç´ çš„éå†å’Œæ“ä½œã€‚å‡½æ•°å¯¹è±¡ç›¸æ¯”å‰è€…çš„åº”ç”¨èŒƒå›´æ›´åŠ å¹¿æ³›ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">void</span> Vector&lt;T&gt; ::traverse(<span class="keyword">void</span>(*visit) (T&amp;))&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt;_size ; i++) &#123; visit(_elem[i]);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">template</span> &lt;<span class="keyword">typename</span> VST&gt; </span><br><span class="line"> <span class="keyword">void</span> Vector&lt;T&gt;:: traverse( VST&amp; visit)&#123;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; _size;i++) visit(_elem[i]);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>åœ¨è¿™é‡Œä¸ç†è§£ä»€ä¹ˆæ˜¯å‡½æ•°å¯¹è±¡å’Œå‡½æ•°æŒ‡é’ˆï¼Œä¸ä¼šä½¿ç”¨</strong></p>
<blockquote>
<p>As a function object class XXX, which of the following member functions must be explicitly defined: ä½œä¸ºä¸€ä¸ªå‡½æ•°å¯¹è±¡çš„ç±»XXXï¼Œå®ƒå¿…é¡»æ˜¾å¼å®šä¹‰ä»¥ä¸‹å“ªä¸ªæˆå‘˜å‡½æ•°</p>
<ul>
<li>XXX()</li>
<li>~XXX()</li>
<li>operator<a href=""></a></li>
<li>operator()()</li>
</ul>
</blockquote>
<p>For a function object, () is an operator used to perform a function call å¯¹äºå‡½æ•°å¯¹è±¡æ¥è¯´ï¼Œ()æ˜¯ç”¨äºæ‰§è¡Œå‡½æ•°è°ƒç”¨çš„æ“ä½œç¬¦</p>
<h2 id="æœ‰åºå‘é‡"><a href="#æœ‰åºå‘é‡" class="headerlink" title="æœ‰åºå‘é‡"></a>æœ‰åºå‘é‡</h2><p>æ— åºçš„å‘é‡å…ƒç´ ä¹‹é—´åªèƒ½åˆ¤å®šæ˜¯å¦ç›¸ç­‰ï¼Œè€Œæœ‰åºçš„å…ƒç´ åˆ™èƒ½è¿›è¡Œæ¯”è¾ƒã€‚</p>
<p>ä¸€èˆ¬è€Œè¨€ï¼Œå¦‚æœèƒ½å¤Ÿå°†æ— åºè¾“å…¥å‘é‡æœ‰åºåŒ–ï¼Œåˆ™èƒ½å¤§å¹…æå‡ç®—æ³•çš„æ€§èƒ½ï¼Œå¹¶ä¸”æœ‰åºåŒ–æ‰€å¸¦æ¥çš„å¤æ‚åº¦å°†å°äºç®—æ³•ä¼˜åŒ–å‡å°‘çš„å¤æ‚åº¦ï¼Œå¯¹äºç®—æ³•çš„è¡¨ç°æ˜¯æœ‰åˆ©çš„ã€‚</p>
<h3 id="æœ‰åºæ€§ç”„åˆ«"><a href="#æœ‰åºæ€§ç”„åˆ«" class="headerlink" title="æœ‰åºæ€§ç”„åˆ«"></a>æœ‰åºæ€§ç”„åˆ«</h3><p>ä½¿ç”¨è®¡ç®—é‚»æ¥æ— åºå¯¹æ•°ç›®çš„æ–¹å¼æ¥åˆ¤æ–­</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">int</span> Vector&lt;T&gt; :: disorderd() <span class="keyword">const</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;_size ;i++)&#123;</span><br><span class="line">        count += (_elem[i]&gt;_elem[i+<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä½æ•ˆç‡å”¯ä¸€åŒ–"><a href="#ä½æ•ˆç‡å”¯ä¸€åŒ–" class="headerlink" title="ä½æ•ˆç‡å”¯ä¸€åŒ–"></a>ä½æ•ˆç‡å”¯ä¸€åŒ–</h3><p>æ²¡æœ‰å……åˆ†åˆ©ç”¨æœ‰åºåŒ–åºåˆ—ï¼Œè°ƒç”¨å¤ªå¤šæ¬¡removeå‡½æ•°ä¼šå¯¼è‡´æ•ˆç‡ä½ä¸‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">int</span> Vector&lt;T&gt; :: uniquify()&#123;</span><br><span class="line">    <span class="keyword">int</span> oldSize = _size; <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;_size)&#123;</span><br><span class="line">        _elem[i<span class="number">-1</span>]==_elem[i]?remove(i):i++; <span class="comment">// removeéšå«_sizeçš„å˜åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> oldSize - _size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é«˜æ•ˆç‡å”¯ä¸€åŒ–"><a href="#é«˜æ•ˆç‡å”¯ä¸€åŒ–" class="headerlink" title="é«˜æ•ˆç‡å”¯ä¸€åŒ–"></a>é«˜æ•ˆç‡å”¯ä¸€åŒ–</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">int</span> Vector&lt;T&gt; :: uniquify()&#123;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>; <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(++j&lt;_size)&#123;</span><br><span class="line">        _elem[i]!=elem[j]?_elem[++i]=_elem[j]:<span class="keyword">continue</span>;<span class="comment">//ä¸çŸ¥é“è¿™é‡Œä¸‰ç›®å¯ä¸å¯ä»¥ç©ºè¯­å¥</span></span><br><span class="line">    &#125;</span><br><span class="line">    _size = i;shrink();</span><br><span class="line">    <span class="keyword">return</span> j-i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥æ‰¾ä¸æ’åºç®—æ³•"><a href="#æŸ¥æ‰¾ä¸æ’åºç®—æ³•" class="headerlink" title="æŸ¥æ‰¾ä¸æ’åºç®—æ³•"></a>æŸ¥æ‰¾ä¸æ’åºç®—æ³•</h2><h3 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h3><p>å¤æ‚åº¦çº¦ä¸º1.5logï¼ˆNï¼‰ ä»æœ‰æ”¹è¿›ç©ºé—´</p>
<h3 id="FibonacciæŸ¥æ‰¾"><a href="#FibonacciæŸ¥æ‰¾" class="headerlink" title="FibonacciæŸ¥æ‰¾"></a>FibonacciæŸ¥æ‰¾</h3><p>äºŒåˆ†æŸ¥æ‰¾å¦‚æœæŠŠå„ç§å®ä¾‹ç”»æˆå›¾ä¼¼ä¹æ˜¯å¹³è¡¡çš„ï¼Œä½†æ˜¯å®é™…ä¸Šç”±äºç¨‹åºæ¯æ¬¡åˆ¤æ–­å¤§å°æ—¶éƒ½å…ˆåˆ¤æ–­ä¸­ç‚¹å·¦éƒ¨ï¼Œå†åˆ¤æ–­ä¸­ç‚¹å³éƒ¨ï¼Œå¯¼è‡´å‘å·¦å’Œå‘å³çš„æ¯”è¾ƒæˆæœ¬ä¸ä¸€æ ·ï¼ˆ1æ¬¡ vs. 2æ¬¡ï¼‰ä¹Ÿå› æ­¤å®é™…çš„ç®—æ³•æ˜¯ä¸å¹³è¡¡çš„ï¼Œç®—æ³•å¯¹äº[lo,mi)è¿™ä¸ªåŒºé—´çš„å…ƒç´ çš„æŸ¥æ‰¾èµ·æ¥æ¯” (mi,hi)åŒºé—´æ›´ä¸ºå¿«é€Ÿã€‚</p>
<p>ä¸ºäº†ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œå¯»æ±‚æœ€ä¼˜è§£ï¼Œå¯ä»¥è€ƒè™‘äººä¸ºçš„å°†è¿™ä¸ªå›¾å·¦å³ä¸¤ä¾§é•¿åº¦è®¾ç½®ä¸ºä¸ä¸€æ ·çš„ï¼Œå·¦è¾¹æ—¢ç„¶æœç´¢çš„å¿«åŒºé—´å°±é•¿ä¸€ç‚¹ï¼Œå³è¾¹æ—¢ç„¶æ…¢å°±é™ä½éš¾åº¦è®©å®ƒçŸ­ä¸€ç‚¹ï¼Œæ¥è¿½æ±‚å·¦å³ä¾§çš„å¹³è¡¡ï¼Œå¹¶å°è¯•æ˜¯å¦ä¸ºæœ€ä¼˜æŸ¥æ‰¾ã€‚</p>
<p><img src='fib.png' width = '800' title = 'binary search vs. fibonacci search'></p>
<p>ä¸¤è€…çš„åŒºåˆ«åªåœ¨äºmiç‚¹çš„é€‰å–ï¼Œfibonacciå–åœ¨äº†é»„é‡‘åˆ†å‰²ç‚¹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="function"><span class="keyword">static</span> Rank <span class="title">fibSearch</span><span class="params">(T* A, <span class="keyword">const</span> T&amp; e, Rank lo, Rank hi)</span></span>&#123;</span><br><span class="line">    <span class="function">Fib <span class="title">fib</span><span class="params">(hi-lo)</span></span>;<span class="comment">//åˆ›å»ºäº†fibonacciæ•°åˆ—ç±»</span></span><br><span class="line">    <span class="keyword">while</span>(lo&lt;hi)&#123;</span><br><span class="line">        <span class="keyword">while</span> (hi-lo &lt; fib.get()) fib.prev(); <span class="comment">// fib(k-1)</span></span><br><span class="line">        Rank mi = lo + fib.get() - <span class="number">1</span> <span class="comment">//fib(k-1)-1</span></span><br><span class="line">        <span class="keyword">if</span> (e&lt;A[mi]) hi = mi;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (A[mi]&lt;e) lo = mi;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> mi;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ’å€¼æŸ¥æ‰¾"><a href="#æ’å€¼æŸ¥æ‰¾" class="headerlink" title="æ’å€¼æŸ¥æ‰¾"></a>æ’å€¼æŸ¥æ‰¾</h2><p>Interpolation Search</p>
<p>å½“ä¸€ä¸ªåºåˆ—æœ‰äº†è¿‘ä¼¼çš„è§„å¾‹çš„æ—¶å€™ï¼Œå¯ä»¥åˆ©ç”¨æ’å€¼çš„æ–¹å¼ç¡®å®šè¿‘ä¼¼çš„åŒºé—´ï¼Œå°±å¥½æ¯”ç¿»æŸ¥å­—å…¸çš„æ—¶å€™å¦‚æœæ˜¯æŒ‰ç…§A-Zçš„åˆ†å¸ƒï¼Œå»å¯»æ‰¾Wè¿™ä¸ªéƒ¨åˆ†çš„å•è¯è‚¯å®šä¸ä¼šä»ä¸­é—´äºŒåˆ†æŸ¥æ‰¾ï¼Œè€Œæ˜¯ä¼šæŒ‰ç…§è¿‘ä¼¼æ¯”ä¾‹çš„æ–¹æ³•å»ç¡®å®šä¸€ä¸ªå¤§è‡´ä½ç½®ã€‚</p>
<ol>
<li>å·²çŸ¥loå’Œhiä½ç½®çš„å€¼ï¼Œè¿˜çŸ¥é“eï¼Œè®¡ç®—å‡ºeå¯¹åº”çš„å¤§æ¦‚ä½ç½®</li>
<li>æ¯”è¾ƒä½ç½®å…ƒç´ å’Œeçš„å¤§å°ï¼Œç¡®å®šä¸‹ä¸€æ®µåŒºé—´</li>
<li>å†æ¬¡è®¡ç®—eçš„å¤§æ¦‚ä½ç½®</li>
</ol>
<p>å¦‚æœè¾“å…¥æ•°æ®ä¸ç¬¦åˆå‡åŒ€ç‹¬ç«‹åˆ†å¸ƒï¼Œä¼šå˜æˆç—…æ€é—®é¢˜ï¼Œå¯¼è‡´æ—¶é—´å¤æ‚åº¦å‡åˆ°Oï¼ˆnï¼‰</p>
<p>æ¯ç»è¿‡ä¸€æ¬¡æ¯”è¾ƒï¼Œæ’å€¼æŸ¥æ‰¾å°±å¯ä»¥å°†æŸ¥æ‰¾èŒƒå›´ä»nç¼©å°è‡³$\sqrt{n}$</p>
<p><strong>ä»äºŒè¿›åˆ¶å­—å®½æ–¹é¢è€ƒè™‘ï¼Œä¸€ä¸ªæ•°å€¼ä¸ºnçš„å€¼ï¼Œå®ƒç”¨äºŒè¿›åˆ¶è¡¨ç¤ºçš„å­—å®½å°±æ˜¯$\log{n}$ï¼Œè€Œå½“èŒƒå›´ç¼©å°ä¸º$\sqrt{n}$æ—¶ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶å­—å®½æŠ˜åŠï¼Œå˜æˆ$\frac{1}{2}\log{n}$ï¼Œå› è€Œä»å­—å®½è§’åº¦è€ƒè™‘è®©å­—å®½å°äº1ä½æ‰€éœ€è¦çš„æ—¶é—´å°±æ˜¯$\log\log{n}$</strong></p>
<p><em>ç¼ºç‚¹</em><br><em>1. å®¹æ˜“å—åˆ°ç—…æ€æ•°æ®å½±å“å¯¼è‡´å¤æ‚åº¦å‡é«˜Oï¼ˆnï¼‰</em><br><em>2. éœ€è¦è®¡ç®—ä¹˜æ³•å’Œé™¤æ³•ï¼Œç›¸æ¯”åŠ å‡æ³•éœ€è¦çš„è¿ç®—æ›´ä¸ºå¤æ‚</em></p>
<h3 id="ç»¼åˆå¯¹æ¯”"><a href="#ç»¼åˆå¯¹æ¯”" class="headerlink" title="ç»¼åˆå¯¹æ¯”"></a>ç»¼åˆå¯¹æ¯”</h3><p>binary searchï¼›fibonacci searchï¼›interpolation searchå„æœ‰ç‰¹ç‚¹</p>
<p>ä½¿ç”¨å»ºè®®ä¸ºç»“åˆä½¿ç”¨ï¼š</p>
<ul>
<li>å¤§æ•°æ®ç”¨interpolationè¿…é€Ÿå‡å°è§„æ¨¡</li>
<li>ä¸­ç­‰æ•°æ®ä½¿ç”¨binaryæœç´¢</li>
<li>å°æ•°æ®ç›´æ¥éå†</li>
</ul>
<h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">void</span> Vector&lt;T&gt; :: sort(Rank lo, Rank hi)&#123;</span><br><span class="line">    <span class="keyword">switch</span>(rand()%<span class="number">5</span>)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>: bubblesort(Rank lo, Rank hi); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>: selectionSort(Rank lo, Rank hi); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: heapSort(Rank lo, Rank hi); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>: quickSort(Rank lo, Rank hi); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>: mergeSort(Rank lo, Rank hi); <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ°”æ³¡æ’åº"><a href="#æ°”æ³¡æ’åº" class="headerlink" title="æ°”æ³¡æ’åº"></a>æ°”æ³¡æ’åº</h2><p>æœ€ç®€å•çš„äºŒé‡éå†bubblesortæ²¡æœ‰ä»€ä¹ˆæ„æ€ï¼Œè¿™é‡Œå¢åŠ äº†ä¸€ä¸ªsortedæ ‡å¿—ä½ï¼Œç”¨äºæå‰ç»“æŸbubblesortè¿‡ç¨‹ï¼Œå‡å°‘æ— è°“çš„éå†ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">void</span> Vector&lt;T&gt; :: bubbleSort(Rank lo, Rank hi)&#123;</span><br><span class="line">    <span class="keyword">while</span>(!bubble(Rank lo, Rank hi));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">bool</span> Vector&lt;T&gt; :: bubble(Rank lo, Rank hi)&#123;</span><br><span class="line">    <span class="keyword">bool</span> sorted = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(++lo &lt;  hi)&#123;</span><br><span class="line">        <span class="keyword">if</span> (_elem[lo] &lt; _elem[lo<span class="number">-1</span>]) swap(_elem[lo<span class="number">-1</span>],_elem[lo]);</span><br><span class="line">        sorted = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sorted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿›ä¸€æ­¥çš„æ”¹è¿›ï¼ŒæŒªåŠ¨bubbleä¸­hiçš„ä½ç½®ï¼Œè¿›è€Œå‡å°‘åéƒ¨å·²æ’åˆ—å…ƒç´ çš„æ‰«æ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">void</span> Vector&lt;T&gt; :: bubbleSort(Rank lo, Rank hi)&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo &lt; hi=bubble(Rank lo, Rank hi));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; Rank Vector&lt;T&gt; :: bubble(Rank lo, Rank hi)&#123;</span><br><span class="line">    Rank last = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(++lo &lt;  hi)&#123;</span><br><span class="line">        <span class="keyword">if</span> (_elem[lo] &lt; _elem[lo<span class="number">-1</span>]) swap(_elem[lo<span class="number">-1</span>],_elem[lo]);</span><br><span class="line">        last = lo;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ç®—æ³•çš„ç¨³å®šæ€§</strong>ï¼šç®—æ³•æ’åºå‰åç›¸åŒæ•°å€¼çš„å…ƒç´ å¤§å°ä¸å˜</p>
<h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><p>å½’å¹¶æ’åºæ˜¯ä¸€ä¸ªå¤è€/ç»å…¸çš„ç®—æ³•ï¼Œç”±å†¯è¯ºä¾æ›¼æå‡ºï¼Œä¸»è¦æ€æƒ³å°±æ˜¯åˆ†è€Œæ²»ä¹‹ï¼Œå¯ä»¥å‚è€ƒä¹‹å‰ç®—æ³•4é‡Œé¢çš„æ–‡ç« ã€‚</p>
<a href="/2020/06/21/%E6%8E%92%E5%BA%8F%EF%BC%9A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/" title="æ’åºï¼šå½’å¹¶æ’åº">æ’åºï¼šå½’å¹¶æ’åº</a>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„ï¼šåˆ—è¡¨</title>
    <url>/2020/10/07/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9A%E5%88%97%E8%A1%A8/</url>
    <content><![CDATA[<p>é‚“å…¬ã€Šæ•°æ®ç»“æ„ã€‹ç¬¬äºŒç§ä¸»è¦çš„æ•°æ®ç»“æ„åˆ—è¡¨ã€‚ç›¸æ¯”é™æ€ç»“æ„æ•°ç»„ï¼Œåˆ—è¡¨çš„è®¿é—®ä¿®æ”¹æœ‰ç€æ˜æ˜¾å·®åˆ«ã€‚</p>
<a id="more"></a>
<h2 id="é™æ€åˆ°åŠ¨æ€"><a href="#é™æ€åˆ°åŠ¨æ€" class="headerlink" title="é™æ€åˆ°åŠ¨æ€"></a>é™æ€åˆ°åŠ¨æ€</h2><p>æ•°æ®ç»“æ„å¯ä»¥åˆ†ä¸ºé™æ€å’ŒåŠ¨æ€çš„ï¼Œåˆ—è¡¨listæ˜¯åŠ¨æ€å‚¨å­˜ç­–ç•¥çš„å…¸å‹ç»“æ„ï¼Œå…¶ä¸­å…ƒç´ ç§°ä¸º<strong>èŠ‚ç‚¹node</strong>ï¼Œå„èŠ‚ç‚¹<em>é€šè¿‡æŒ‡é’ˆæˆ–è€…å¼•ç”¨å½¼æ­¤è”æ¥</em>ï¼Œåœ¨é€»è¾‘ä¸Šæ„æˆçº¿æ€§åºåˆ—ã€‚</p>
<p>ç›¸é‚»èŠ‚ç‚¹åˆ†åˆ«ä¸ºpredecessorå‰é©±ï¼Œsuccessoråç»§ã€‚è¿™ç§ç›¸é‚»èŠ‚ç‚¹<strong>å¦‚æœå­˜åœ¨åˆ™å¿…ç„¶å”¯ä¸€</strong>ã€‚</p>
<p>æ²¡æœ‰predecessorå’Œsuccessorçš„ç§°ä¸ºé¦–ï¼ˆfirst/frontï¼‰å’Œæœ«ï¼ˆlast/rearï¼‰ã€‚</p>
<h3 id="ä»ç§©åˆ°ä½ç½®"><a href="#ä»ç§©åˆ°ä½ç½®" class="headerlink" title="ä»ç§©åˆ°ä½ç½®"></a>ä»ç§©åˆ°ä½ç½®</h3><p>å‘é‡æ”¯æŒå¾ªç§©è®¿é—®çš„æ–¹å¼ï¼šè®¿é—®æ•ˆç‡æé«˜Oï¼ˆ1ï¼‰</p>
<p>å¯¹äºåˆ—è¡¨è€Œè¨€ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªèŠ‚ç‚¹è®¾ç½®ç§©rankè¿™ä¸ªå±æ€§ï¼Œé€šè¿‡é‡è½½ä¸‹æ ‡æ“ä½œç¬¦è®¿é—®ï¼Œä½†æ˜¯å¾ªç§©è®¿é—®çš„æˆæœ¬è¿‡é«˜ï¼Œåº”è¯¥æ”¹æˆ<strong>å¾ªä½ç½®è®¿é—®call-by-position</strong>ï¼Œé€šè¿‡ä¸¤ä¸¤å…³ç³»æ‰¾åˆ°ã€‚</p>
<h3 id="èŠ‚ç‚¹å®ç°"><a href="#èŠ‚ç‚¹å®ç°" class="headerlink" title="èŠ‚ç‚¹å®ç°"></a>èŠ‚ç‚¹å®ç°</h3><p>åˆ—è¡¨èŠ‚ç‚¹nodeéœ€è¦ç‹¬ç«‹å°è£…å®ç°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ADT</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Posi(T) ListNode<span class="meta-string">&lt;T&gt;*</span></span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Listnode</span> &#123;</span> <span class="comment">//ç®€æ´èµ·è§ï¼Œå®Œå…¨å¼€æ”¾ä¸å°è£…</span></span><br><span class="line">T data;</span><br><span class="line">Posi(T) pred;</span><br><span class="line">Posi(T) succ;</span><br><span class="line">ListNode() &#123;&#125;</span><br><span class="line">ListNode(T e, Posi(T) p=<span class="literal">NULL</span>, Posi(T) s=<span class="literal">NULL</span>)</span><br><span class="line">:data(), pred(p),succ(s)&#123;&#125;</span><br><span class="line">Posi(T) insertAsPred(T <span class="keyword">const</span>&amp; e);</span><br><span class="line">Posi(T) insertAsSucc(T <span class="keyword">const</span>&amp; e);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>å¤´head</strong>ã€<em>é¦–firstã€æœ«last</em>ã€<strong>å°¾trailer</strong>å¯¹åº”ç§©-1ï¼Œ0ï¼Œn-1ï¼Œn å››ä¸ªèŠ‚ç‚¹ä¸­ä¸¤ä¸ª<strong>å“¨å…µ</strong></p>
<h3 id="å‡ ç§æ“ä½œ"><a href="#å‡ ç§æ“ä½œ" class="headerlink" title="å‡ ç§æ“ä½œ"></a>å‡ ç§æ“ä½œ</h3><p>æ’å…¥:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">_size++;</span><br><span class="line">p-&gt;pred-&gt;succ = new_p;</span><br><span class="line">new_p-&gt;pred = p-&gt;pred;</span><br><span class="line">p-&gt;pred = new_p;</span><br><span class="line">new_p-&gt;succ = p</span><br></pre></td></tr></table></figure>
<p>å¤åˆ¶æ„é€ ï¼šå…ˆåˆå§‹åŒ–é¦–å°¾èŠ‚ç‚¹ï¼Œå†ä¸æ–­å°†è¦å¤åˆ¶çš„èŠ‚ç‚¹ä½œä¸ºtrailerçš„å‰åºæ’å…¥</p>
<p>ç§»é™¤ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">p-&gt;pred-&gt;succ = p-&gt;succ;</span><br><span class="line">p-&gt;succ-&gt;pred = p-&gt;pred;</span><br><span class="line">_size--;</span><br></pre></td></tr></table></figure></p>
<p>ææ„ï¼šå…ˆæ¸…ç©ºå¯è§åˆ—è¡¨ï¼ˆåå¤åˆ é™¤headeråç»§ï¼‰ï¼Œå†å»é™¤å¤´å°¾èŠ‚ç‚¹</p>
<h3 id="å”¯ä¸€åŒ–"><a href="#å”¯ä¸€åŒ–" class="headerlink" title="å”¯ä¸€åŒ–"></a>å”¯ä¸€åŒ–</h3><ol>
<li>é¦–å…ˆå¤„ç†å¹³å‡¡æƒ…å†µ</li>
<li>è®°å½•åŸè§„æ¨¡ï¼Œpä»é¦–èŠ‚ç‚¹å¼€å§‹</li>
<li>åœ¨pçš„rä¸ªçœŸå‰é©±ä¸­æŸ¥æ‰¾ä¸ä¹‹é›·åŒçš„èŠ‚ç‚¹ï¼Œåˆ é™¤å‰é¢çš„èŠ‚ç‚¹</li>
</ol>
<h2 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h2><p>åœ¨å”¯ä¸€åŒ–ä¸­ï¼Œæœ‰åºåˆ—è¡¨çš„æ’åˆ—æˆ<em>é˜¶æ¢¯å‹</em>ï¼Œç›®æ ‡å°±æ˜¯ä¿ç•™æ¯ä¸€é˜¶é˜¶æ¢¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ é™¤å…¶ä½™èŠ‚ç‚¹ã€‚å¤æ‚åº¦Oï¼ˆnï¼‰ï¼Œç›¸æ¯”æ— åºåˆ—è¡¨æå‡è¾ƒå¤šã€‚</p>
<p>æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œæœ‰åºå’Œæ— åºæ²¡æœ‰ä»€ä¹ˆæé«˜ã€‚call-by-posæ²¡æœ‰call-by-rankå¯¹æœ‰åºçš„æå‡é‚£ä¹ˆå¤§ã€‚</p>
<p>RAMæ¨¡å‹æ˜¯å¾ªç§©ï¼Œå›¾çµæœºæ¨¡å‹æ˜¯å¾ªä½ç½®ã€‚</p>
<h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><p>bubblesortä¹Ÿæ˜¯ä¸€ç§é€‰æ‹©æ’åºï¼Œä¸æ–­é€‰æ‹©æœªæ’åºéƒ¨åˆ†çš„æœ€å€¼ç„¶åå°†å®ƒæœ‰åºæ— åºçš„åˆ†ç•Œç‚¹ã€‚</p>
<p>è¿™é‡Œè®¨è®ºçš„æ˜¯æ•ˆç‡æ›´é«˜çš„é€‰æ‹©æ’åºï¼Œ<strong>å‡å°‘äº¤æ¢æ¬¡æ•°</strong>ï¼Œä¸€è¶Ÿæ‰«æç›´æ¥æ‰¾åˆ°æœ€å¤§å…ƒç´ æ¬è¿è¿‡å»ï¼æ¯”è¾ƒé€‚åˆåˆ—è¡¨ï¼Œå‘é‡çš„æ“ä½œä¼šæœ‰å¾ˆå¤šå…ƒç´ çš„æ¬è¿ã€‚</p>
<h3 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h3><p>ç­‰äºæ‰‘å…‹ç‰Œæ’åºçš„æ—¶å€™ï¼Œæ¯æ‹¿ä¸€å¼ ç‰Œä¼šå°†å®ƒæ’å…¥åˆ°åˆé€‚çš„ä½ç½®ã€‚æ„Ÿè§‰ä¹Ÿå¥½é€‚åˆé“¾è¡¨æ¥ç”¨ã€‚</p>
<p>å’Œé€‰æ‹©æ’åºçš„åŒºåˆ«ï¼š</p>
<ul>
<li>é€‰æ‹©æ’åºæ€»æ˜¯æŠŠæ“ä½œå…ƒç´ æ”¾åˆ°æœ‰åºä¸æ— åºçš„è¾¹ç•Œï¼Œæ— åºéƒ¨åˆ†çš„æœ€å¤§å€¼ä¸èƒ½å¤§äºæœ‰åºéƒ¨åˆ†çš„æœ€å°å€¼</li>
<li>æ’å…¥æ’åºéœ€è¦è‡ªå·±ç¡®å®šæ”¾å…¥æœ‰åºåŒºé—´ï¼Œæ— åºéƒ¨åˆ†ä¸æœ‰åºéƒ¨åˆ†çš„å¤§å°æ²¡æœ‰å…³ç³»</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">void</span> List&lt;T&gt;::insertionSort(Posi(T) p, <span class="keyword">int</span> n)&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> r=<span class="number">0</span>;r&lt;n;r++)&#123; <span class="comment">// é€ä¸€æ’å…¥pä¹‹åçš„nä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        insertAfter(search(p-&gt;data,r,p), p-&gt;data); <span class="comment">//æŸ¥æ‰¾+æ’å…¥</span></span><br><span class="line">        p = p-&gt;succ; remove(p-&gt;pred);<span class="comment">//è½¬å‘ä¸‹ä¸€èŠ‚ç‚¹</span></span><br><span class="line">    &#125;<span class="comment">//næ¬¡è¿­ä»£ï¼Œæ¯æ¬¡Oï¼ˆr+1ï¼‰</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨Oï¼ˆ1ï¼‰è¾…åŠ©ç©ºé—´ï¼Œå±äºåŸåœ°ç®—æ³•in-place</span></span><br></pre></td></tr></table></figure>
<p><strong>æ’å…¥æ’åºæœ€å¥½æƒ…å½¢ä¸‹éœ€è¦Oï¼ˆnï¼‰ï¼Œæœ€åæƒ…å½¢ä¸‹O(n^2)ï¼Œé€‰æ‹©æ’åºæ‰€æœ‰æƒ…å†µä¸‹éƒ½éœ€è¦Oï¼ˆn^2ï¼‰</strong></p>
<p>ä½†æ˜¯å¾ˆé—æ†¾ï¼Œè®¡ç®—å¹³å‡æ€§èƒ½çš„æ—¶å€™ï¼Œå¤æ‚åº¦è¿˜æ˜¯O(n^2)è¿™ä¸ªçº§åˆ«ï¼Œæœ€å¥½æƒ…å†µå‡ºç°çš„æ¦‚ç‡å¾ˆä½å•Šã€‚</p>
<p><em>æ’å…¥æ’åºæ‰€éœ€è¦çš„æ—¶é—´=Oï¼ˆinversion+nï¼‰ï¼Œé€†åºå¯¹æ˜¯æ’åºç®—æ³•ä¸»è¦çš„å·¥ä½œé‡</em></p>
<p>è¿™ç§ç®—æ³•å±äºinput-sensitiveè¾“å…¥æ•æ„Ÿçš„ç®—æ³•</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>æ— çº¦æŸä¼˜åŒ–</title>
    <url>/2021/03/10/%E6%97%A0%E7%BA%A6%E6%9D%9F%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<p>æ— çº¦æŸä¼˜åŒ–é—®é¢˜çš„æ€è·¯å’Œè‹¥å¹²è§£æ³•</p>
<a id="more"></a>
<h2 id="æ— çº¦æŸé—®é¢˜çš„æœ€ä¼˜å€¼æ¡ä»¶"><a href="#æ— çº¦æŸé—®é¢˜çš„æœ€ä¼˜å€¼æ¡ä»¶" class="headerlink" title="æ— çº¦æŸé—®é¢˜çš„æœ€ä¼˜å€¼æ¡ä»¶"></a>æ— çº¦æŸé—®é¢˜çš„æœ€ä¼˜å€¼æ¡ä»¶</h2><p>è‹¥ç›®æ ‡å‡½æ•°ä¸º$min f(x)$</p>
<h3 id="f-x-ä¸ºå‡¸å‡½æ•°"><a href="#f-x-ä¸ºå‡¸å‡½æ•°" class="headerlink" title="f(x)ä¸ºå‡¸å‡½æ•°"></a>f(x)ä¸ºå‡¸å‡½æ•°</h3><p>å……è¦æ¡ä»¶ä¸º$\bigtriangledown f(x^*) = 0$</p>
<h3 id="f-x-ä¸ºä¸€èˆ¬å‡½æ•°"><a href="#f-x-ä¸ºä¸€èˆ¬å‡½æ•°" class="headerlink" title="f(x)ä¸ºä¸€èˆ¬å‡½æ•°"></a>f(x)ä¸ºä¸€èˆ¬å‡½æ•°</h3><p>å¿…è¦æ¡ä»¶ï¼š</p>
<ul>
<li>$\bigtriangledown f(x^*)=0$</li>
<li>$\bigtriangledown ^2 f(x^*) \succeq 0$ æµ·å¡çŸ©é˜µåŠæ­£å®š</li>
</ul>
<p>å……åˆ†æ¡ä»¶ï¼š</p>
<ul>
<li>$\bigtriangledown f(x^*)=0$</li>
<li>$\bigtriangledown ^2 f(x^*) \succ 0$ æµ·å¡çŸ©é˜µæ­£å®š</li>
</ul>
<h2 id="ç®—æ³•æ¦‚è¦"><a href="#ç®—æ³•æ¦‚è¦" class="headerlink" title="ç®—æ³•æ¦‚è¦"></a>ç®—æ³•æ¦‚è¦</h2><p>åŸºæœ¬æ€è·¯æ˜¯ä½¿ç”¨è¿­ä»£ä¸‹é™çš„ç®—æ³•æ±‚è§£æœ€ä¼˜åŒ–ç‚¹</p>
<p>åˆ†ä¸ºä¸¤ç§ç±»å‹</p>
<ol>
<li>çº¿æœç´¢æ–¹æ³•Linear Search</li>
<li>ä¿¡èµ–åŸŸæ–¹æ³•Trust Reign</li>
</ol>
<p>åŒºåˆ«ï¼š</p>
<ol>
<li>çº¿æœç´¢æ–¹æ³•æ˜¯å…ˆç¡®å®šä¸‹é™æ–¹å‘ï¼Œå†ç¡®å®šä¸‹é™çš„æ­¥é•¿å¤§å°ã€‚ä¾‹å¦‚æœ€é€Ÿä¸‹é™æ³•å’Œç‰›é¡¿æ³•ã€‚ï¼ˆè¯¾å ‚é‡ç‚¹ï¼‰</li>
<li>ä¿¡èµ–åŸŸå…ˆåˆ’å®šä¸€ä¸ªä¸‹é™çš„åŒºåŸŸï¼ˆç±»ä¼¼äºç¡®å®šæ­¥é•¿å¤§å°ï¼‰ï¼Œå†ç¡®å®šå…·ä½“çš„ä¸‹é™æ–¹æ³•ã€‚<script type="math/tex; mode=display">
min f(x^* + d), \quad s.t. \|d^2\| \le \Delta</script></li>
</ol>
<h2 id="çº¿æœç´¢æ–¹æ³•çš„ä¸€èˆ¬æ­¥éª¤"><a href="#çº¿æœç´¢æ–¹æ³•çš„ä¸€èˆ¬æ­¥éª¤" class="headerlink" title="çº¿æœç´¢æ–¹æ³•çš„ä¸€èˆ¬æ­¥éª¤"></a>çº¿æœç´¢æ–¹æ³•çš„ä¸€èˆ¬æ­¥éª¤</h2><ol>
<li>é€‰å–åˆå§‹åŒ–ç‚¹$x^0$ï¼Œk=0</li>
<li>éªŒè¯$x^k$æ˜¯å¦æ»¡è¶³äº†ç»ˆæ­¢æ¡ä»¶ï¼Œæ˜¯åˆ™ç»ˆæ­¢</li>
<li>ç¡®å®šè¿­ä»£çš„ä¸‹é™æ–¹å‘ï¼Œ$d^k$</li>
<li>ç¡®å®šè¿­ä»£çš„æ­¥é•¿å¤§å°$\alpha$ï¼Œæ»¡è¶³$f(x^k +\alpha d^k) &lt; f(x^k)$</li>
<li>$x^{k+1} = x^k + \alpha d^k$ï¼Œ$k = k+1$,è½¬step1</li>
</ol>
<p>ç»ˆæ­¢æ¡ä»¶å¯ä»¥æœ‰å¤šç§é€‰æ‹©ï¼Œä¾‹å¦‚å‡½æ•°å€¼å·®è¶³å¤Ÿå°ï¼Œæ¢¯åº¦è¶³å¤Ÿå°ï¼Œæˆ–è€…æ­¥é•¿è¶³å¤Ÿå°</p>
<p>è¿­ä»£æ­¥é•¿çš„é€‰æ‹©ï¼Œæ˜¯åœ¨æ–¹å‘ç¡®å®šä¹‹åï¼Œæ‰¾ä¸€ä¸ªèƒ½å¤Ÿä½¿$\phi (x)=f(x^k +\alpha d^k)$ä¸‹é™æœ€å¤šçš„æ­¥é•¿ï¼Œæ¶‰åŠåˆ°åˆä¸€ä¸ªä¸€å…ƒå‡½æ•°æ±‚è§£æœ€å°å€¼çš„é—®é¢˜ï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•å»ç¡®å®šæ­¥é•¿</p>
<p>çº¿æœç´¢æ–¹æ³•è¿˜è¦è®¨è®ºç®—æ³•æ˜¯å¦æ”¶æ•›çš„é—®é¢˜</p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>æœ€ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>æç¾¤å’Œæä»£æ•°</title>
    <url>/2021/03/05/%E6%9D%8E%E7%BE%A4%E5%92%8C%E6%9D%8E%E4%BB%A3%E6%95%B0/</url>
    <content><![CDATA[<p>æç¾¤å’Œæä»£æ•°çš„çŸ¥è¯†è®°å½•ï¼Œä¸ºSLAMåç«¯ä¼˜åŒ–åšåŸºç¡€</p>
<a id="more"></a>
<h2 id="ç¾¤å’Œæç¾¤"><a href="#ç¾¤å’Œæç¾¤" class="headerlink" title="ç¾¤å’Œæç¾¤"></a>ç¾¤å’Œæç¾¤</h2><p>ç¾¤æ˜¯<strong>ä¸€ç§é›†åˆ</strong>åŠ ä¸Š<strong>ä¸€ç§è¿ç®—</strong>çš„ä»£æ•°ç»“æ„ã€‚å¦‚æœæŠŠé›†åˆè®°ä½œ$A$ï¼ŒæŠŠè¿ç®—è®°ä¸º$\cdot$ï¼Œåˆ™ç¾¤å¯ä»¥è®°ä¸º$G={ A,Â·}$ã€‚ç¾¤è¦å»è¿ç®—æ»¡è¶³ä»¥ä¸‹å››ä¸ªæ¡ä»¶ï¼š</p>
<ol>
<li>å°é—­æ€§ï¼Œè¿ç®—ä¹‹åçš„ç»“æœä»å±äºé›†åˆã€‚$\forall a_1,a_2 \in A, a_1 \cdot a_2 \in A$</li>
<li>ç»“åˆå¾‹ï¼š$\forall a_1, a_2, a_3 \in A \quad (a_1 \cdot a_2)\cdot a_3 = a_1 \cdot (a_2 \cdot a_3)$</li>
<li>å¹ºå…ƒï¼š$\exist a_0 \in A \quad s.t  \quad a_0 \cdot a_1 = a_1 \cdot a_0 = a_1$</li>
<li>é€†è¿ç®—ï¼š$\forall a\in A, \quad \exist a^{-1} \in A, \quad s.t \quad a \cdot a^{-1} = a_0$</li>
</ol>
<p>å°ã€ç»“ã€å¹ºã€é€†</p>
<p>å¸¸è§çš„ç¾¤ï¼š</p>
<ol>
<li>ä¸€èˆ¬çº¿æ€§ç¾¤ï¼Œå¯é€†çŸ©é˜µå’Œä¹˜æ³•è¿ç®—æ„æˆ$GL(n)$ã€‚</li>
<li>ç‰¹æ®Šæ­£äº¤ç¾¤ã€‚æ­£äº¤çŸ©é˜µï¼Œå¯¹äºä¹˜æ³•è¿ç®—æ„æˆç¾¤ã€‚æ—‹è½¬çŸ©é˜µ$R$æ‰€åœ¨çš„$SO(3),SO(2)$å°±æ˜¯è¯¥ç¾¤ã€‚</li>
<li>ç‰¹æ®Šæ¬§å¼ç¾¤ã€‚å˜æ¢çŸ©é˜µ$T$å±äºçš„$SE(3), SE(2)$ã€‚</li>
</ol>
<p>æç¾¤çš„ææ˜¯æŒ‡ï¼Œè¯¥ç¾¤å…·æœ‰è¿ç»­ï¼ˆå…‰æ»‘ï¼‰çš„æ€§è´¨ï¼Œåƒæ•´æ•°ç¾¤å°±ä¸å±äºæç¾¤ã€‚$SO(3) \quad SE(3)$éƒ½æ˜¯æç¾¤ã€‚<br><em>æ¯ä¸€ä¸ªæç¾¤éƒ½æœ‰ç›¸åº”çš„æä»£æ•°ã€‚</em></p>
<h2 id="æä»£æ•°"><a href="#æä»£æ•°" class="headerlink" title="æä»£æ•°"></a>æä»£æ•°</h2><p>æä»£æ•°so3çš„å¼•å‡ºæ˜¯é€šè¿‡å¯¹æ—‹è½¬çŸ©é˜µçš„å¯¼æ•°è®¡ç®—å¾—åˆ°çš„ã€‚</p>
<script type="math/tex; mode=display">R(t)R(t)^{T} = I</script><p>å¯¹æ—¶é—´æ±‚å¯¼ï¼Œç§»é¡¹å¾—åˆ°</p>
<script type="math/tex; mode=display">\dot R(t)R(t)^{T} = -[\dot R(t)R(t)^{T}]^{T}</script><p>è¿™æ ·å¯ä»¥çœ‹å‡º$\dot R(t)R(t)^{T}$æ˜¯ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µï¼Œ<em>å¯¹äºæ¯ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„å‘é‡$\phi(t)$</em>ã€‚</p>
<p>è¡¨ç¤ºä¸º</p>
<script type="math/tex; mode=display">\dot R(t)R(t)^{T} = \phi(t)^{\land}</script><p>ç­‰å¼ä¸¤è¾¹å³ä¹˜$R(t)$ï¼Œæ­£äº¤çŸ©é˜µè½¬ç½®ä¹˜åŸçŸ©é˜µä¸ºå•ä½é˜µ</p>
<script type="math/tex; mode=display">\dot R(t) = \phi (t)^\land R(t)</script><p>å› æ­¤å¾—åˆ°äº†å¯¹æ—‹è½¬çŸ©é˜µæ±‚å¯¼ç­‰äºå·¦ä¹˜ä¸€ä¸ª$\dot R(t)R(t)^{T}$çš„å¯¹åº”å‘é‡ï¼Œè¿™æ­£æ˜¯ä¸$SO(3)$å¯¹åº”çš„æä»£æ•°$so(3)$.</p>
<p>è¿›ä¸€æ­¥ï¼Œå¯¹$R(t)$åœ¨é›¶é™„è¿‘$t=0$è¿›è¡Œæ³°å‹’å±•å¼€ï¼Œæ³¨æ„$R(t_0) = I$</p>
<script type="math/tex; mode=display">R(t) = R(t_0) + \dot R(t_0) (t-t_0) = R(t_0) + \phi(t_0)^{\land}R(t_0)(t-t_0)=I + \phi(t)^{\land}t</script><blockquote>
<p>æˆ‘ä»¬çœ‹åˆ°$\phi$ åæ˜ äº†$ R$çš„å¯¼æ•°æ€§è´¨ï¼Œæ•…ç§°å®ƒåœ¨$SO(3)$ åŸç‚¹é™„è¿‘çš„æ­£åˆ‡ç©ºé—´(TangentSpace) ä¸Šã€‚åŒæ—¶åœ¨$t0$ é™„è¿‘ï¼Œè®¾$\phi$ä¿æŒä¸ºå¸¸æ•°$\phi(t_0) = \phi_0ã€‚$</p>
</blockquote>
<script type="math/tex; mode=display">\dot R(t) = \phi_0^\land R(t)</script><p>å¾®åˆ†æ–¹ç¨‹çš„è§£ä¸º$R(t) = exp(\phi_0)^\land t$</p>
<h3 id="æä»£æ•°å®šä¹‰"><a href="#æä»£æ•°å®šä¹‰" class="headerlink" title="æä»£æ•°å®šä¹‰"></a>æä»£æ•°å®šä¹‰</h3><p>æ¯ä¸ªæç¾¤éƒ½æœ‰å¯¹åº”çš„æä»£æ•°</p>
<p>æä»£æ•°ç”±ä¸€ä¸ªé›†åˆ$\mathbb{V}$ï¼Œä¸€ä¸ªæ•°åŸŸ$\mathbb{F}$ï¼Œä¸€ä¸ªäºŒå…ƒè¿ç®—$[,]$ç»„æˆã€‚</p>
<p>æä»£æ•°éœ€è¦æ»¡è¶³å››ä¸ªæ€§è´¨ï¼š</p>
<ol>
<li>å°é—­æ€§ï¼Œææ‹¬å·è¿ç®—åä»å±äºé›†åˆ</li>
<li>åŒçº¿æ€§ï¼ŒXï¼ŒYï¼ŒZä»»æ„ä¸¤è€…çº¿æ€§è¿ç®—åä¸ç¬¬ä¸‰è€…è¿›è¡Œææ‹¬å·è¿ç®—ï¼Œå¯ä»¥æŠŠçº¿æ€§ç³»æ•°æå‡ºæ¥åšä¸¤æ¬¡ææ‹¬å·è¿ç®—ç›¸åŠ ã€‚</li>
<li>è‡ªåæ€§ï¼Œè‡ªå·±ä¸è‡ªå·±è¿ç®—ç»“æœä¸º0</li>
<li>é›…å¯æ¯”ç­‰ä»·ï¼ŒXï¼ŒYï¼ŒZä¸‰è€…ä¸¤ä¸¤åšææ‹¬å·è¿ç®—åï¼Œå†ä¸ç¬¬ä¸‰è€…åšææ‹¬å·è¿ç®—ï¼Œå¯ä»¥å¾—åˆ°ä¸‰ä¸ªç»“æœï¼Œä¸‰ç»“æœç›¸åŠ ç­‰äºé›¶</li>
</ol>
<p>ä¸‰ç»´å‘é‡$\mathbb{R}^3$ä¸Šå®šä¹‰çš„å‰ç§¯$\times$æ˜¯ä¸€ç§ææ‹¬å·ï¼Œå› æ­¤æ„æˆäº†ä¸€ä¸ªæä»£æ•°$g =[\mathbb{R}^3 , \mathbb{R}, \times];$</p>
<blockquote>
<p>æä»£æ•°$so(3)$æ˜¯ä¸€ä¸ªä¸‰ç»´å‘é‡ï¼Œä½†æ˜¯å› ä¸ºå’Œåå¯¹ç§°çŸ©é˜µçš„å…³ç³»ç´§å¯†ï¼Œå¸¸å¸¸å¯¹æ­¤ä¸¤è€…ä¸åŠ åŒºåˆ†ï¼Œç»Ÿç§°ä¸º$so(3)$</p>
</blockquote>
<p><strong>åˆ©ç”¨æä»£æ•°å¾—åˆ°åå¯¹ç§°çŸ©é˜µï¼Œå†åšæŒ‡æ•°æ˜ å°„å¯ä»¥å¾—åˆ°æç¾¤</strong></p>
<h3 id="ä¸æç¾¤è½¬æ¢å…³ç³»"><a href="#ä¸æç¾¤è½¬æ¢å…³ç³»" class="headerlink" title="ä¸æç¾¤è½¬æ¢å…³ç³»"></a>ä¸æç¾¤è½¬æ¢å…³ç³»</h3><p>çŸ©é˜µçš„æŒ‡æ•°æ˜ å°„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">e^X = \sum^{\infin}_{0} \frac{1}{k!}X^k</script><p>SE(3)ä¹Ÿæœ‰ç›¸åº”çš„æä»£æ•°se(3)ï¼Œå±äº6ç»´å‘é‡ç©ºé—´å†…ï¼Œå…¶â€œç±»åå¯¹ç§°çŸ©é˜µâ€ï¼ˆå®é™…ä¸Šä¸æ˜¯åå¯¹ç§°ï¼Œåªæ˜¯ä¸€ä¸ª6ç»´å‘é‡å˜æˆçŸ©é˜µçš„æ˜ å°„å…³ç³»ï¼‰æ˜¯ä¸€ä¸ª$\mathbb{R}^{4\times 4}$çš„å››ç»´çŸ©é˜µã€‚</p>
<p><img src='so3.png' width='700' title='æä»£æ•°æŒ‡æ•°æ˜ å°„çš„å±•å¼€'></p>
<p>å¯¹æŒ‡æ•°æ˜ å°„è¿›è¡Œå±•å¼€ï¼Œå¯ä»¥å¾—åˆ°ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼ï¼Œè¡¨æ˜so(3)å®é™…ä¸Šæ˜¯ç”±æ—‹è½¬å‘é‡ç»„æˆçš„ç©ºé—´</p>
<p><img src='so3se3.png' width='700' title='æç¾¤å’Œæä»£æ•°çš„å¯¹åº”å…³ç³»'></p>
<h2 id="BCHå…¬å¼"><a href="#BCHå…¬å¼" class="headerlink" title="BCHå…¬å¼"></a>BCHå…¬å¼</h2><p>ç ”ç©¶æä»£æ•°çš„ç›®çš„æ˜¯ç ”ç©¶æç¾¤ï¼Œæˆ–è€…è¯´ä¸ºäº†åˆ©ç”¨ç›¸å…³çš„è½¬åŒ–å…³ç³»ç®€åŒ–æç¾¤çš„ç›¸å…³è¿ç®—ã€‚</p>
<p>ä¸¤ä¸ªæç¾¤ä¸­çš„çŸ©é˜µè¿›è¡Œä¹˜æ³•çš„æ—¶å€™ï¼Œæä»£æ•°å¹¶ä¸æ˜¯ç®€å•çš„å¯¹åº”æŒ‡æ•°ä¹˜æ³•ï¼Œè€Œæ˜¯ä¼šè¡¨è¾¾ä¸ºä¸€ä¸ªå¤æ‚çš„å…¬å¼ï¼Œè¯¥å…¬å¼åå«Baker-Campbell-Hausdorffå…¬å¼ï¼Œç®€ç§°ä¸ºBCHå…¬å¼ã€‚</p>
<p><img src='bch.png' width='600' title='BCH formula'></p>
<p>BCHå…¬å¼çš„åŒ…å«é¡¹å¾ˆå¤šï¼Œè¿™é‡Œçš„å‰å‡ é¡¹å·²ç»å¯ä»¥çœ‹å‡º</p>
<blockquote>
<p>å½“å¤„ç†ä¸¤ä¸ªçŸ©é˜µæŒ‡æ•°ä¹‹ç§¯æ—¶ï¼Œå®ƒä»¬ä¼šäº§ç”Ÿä¸€äº›ç”±ææ‹¬å·ç»„æˆçš„ä½™é¡¹ã€‚</p>
</blockquote>
<p><img src='bch2.png' width='600' title='BCH formula2'></p>
<p>å½“$\phi_1$æˆ–è€…$\phi_2$æ˜¯ä¸€ä¸ªå°é‡çš„æ—¶å€™ï¼Œå¯ä»¥å¿½ç•¥é«˜é˜¶é¡¹ï¼Œè¿‘ä¼¼å¾—åˆ°ä¸Šè¿°çš„æ‰°åŠ¨æ¨¡å‹ï¼Œå¼å­1ä¸ºå·¦æ‰°åŠ¨æ¨¡å‹ï¼Œå¼å­2ä¸ºå³æ‰°åŠ¨æ¨¡å‹ã€‚ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ã€‚</p>
<blockquote>
<p>å‡å®šå¯¹æŸä¸ªæ—‹è½¬$R$ï¼Œå¯¹åº”çš„æä»£æ•°ä¸º$Ï•$ã€‚æˆ‘ä»¬ç»™å®ƒå·¦ä¹˜ä¸€ä¸ªå¾®å°æ—‹è½¬ï¼Œè®°ä½œ$Î”R$ï¼Œå¯¹åº”çš„æä»£æ•°ä¸º$Î”Ï•$ã€‚é‚£ä¹ˆï¼Œåœ¨æç¾¤ä¸Šï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯Î”RRï¼Œè€Œåœ¨æä»£æ•°ä¸Šï¼Œæ ¹æ®BCHè¿‘ä¼¼ï¼Œä¸ºï¼š$J^{-1}_l (Ï•)Î”Ï• + Ï•$ã€‚åˆå¹¶èµ·æ¥ï¼Œå¯ä»¥ç®€å•åœ°å†™æˆï¼š</p>
<script type="math/tex; mode=display">exp(\Delta\phi^\land)exp(\phi^\land) = exp((\phi + J^{-1}_l(\phi)\Delta\phi)^\land)</script></blockquote>
<h2 id="SO3çš„æ±‚å¯¼"><a href="#SO3çš„æ±‚å¯¼" class="headerlink" title="SO3çš„æ±‚å¯¼"></a>SO3çš„æ±‚å¯¼</h2><p>ä½å§¿æ±‚è§£é—®é¢˜çš„æ•°å­¦è¡¨è¾¾å¦‚ä¸‹</p>
<ol>
<li>è§‚å¯Ÿä¸–ç•Œåæ ‡ç³»ä¸‹ä½ç½®pçš„ç‚¹ï¼Œå¾—åˆ°è§‚å¯Ÿæ•°æ®zï¼Œä¼ æ„Ÿå™¨å™ªå£°ä¸ºw<script type="math/tex; mode=display">z = Tp +w</script></li>
<li>ç†æƒ³è§‚æµ‹ä¸å®é™…çš„è¯¯å·®ç”¨eè¡¨ç¤º<script type="math/tex; mode=display">e = z- Tp</script></li>
<li>å¾—åˆ°äº†Nä¸ªè¿™æ ·çš„ç‚¹çš„è§‚æµ‹æ•°æ®ï¼Œç›®æ ‡ä¸ºæœ€å°åŒ–è¯¯å·®å‡½æ•°Jï¼Œè½¬åŒ–ä¸ºæœ€ä¼˜åŒ–é—®é¢˜ï¼Œå¯»æ‰¾æœ€å°äºŒä¹˜è¯¯å·®å¯¹åº”çš„ä½å§¿$T$<script type="math/tex; mode=display">\min_T J(T) = \sum^N_i \| z_i - Tp_i\|</script>æ±‚è§£è¿™æ ·çš„æœ€ä¼˜åŒ–é—®é¢˜ï¼Œéœ€è¦æ±‚$J$å¯¹$T$çš„å¯¼æ•°</li>
</ol>
<blockquote>
<p>ç„¶è€Œï¼ŒSO(3); SE(3) ä¸Šå¹¶æ²¡æœ‰è‰¯å¥½å®šä¹‰çš„åŠ æ³•ï¼Œå®ƒä»¬åªæ˜¯ç¾¤ã€‚å¦‚æœæˆ‘ä»¬æŠŠT å½“æˆä¸€ä¸ªæ™®é€šçŸ©é˜µæ¥å¤„ç†ä¼˜åŒ–ï¼Œé‚£å°±å¿…é¡»å¯¹å®ƒåŠ ä»¥çº¦æŸã€‚è€Œä»æä»£æ•°è§’åº¦æ¥è¯´ï¼Œç”±äºæä»£æ•°ç”±å‘é‡ç»„æˆï¼Œå…·æœ‰è‰¯å¥½çš„åŠ æ³•è¿ç®—ã€‚å› æ­¤ï¼Œä½¿ç”¨æä»£æ•°è§£å†³æ±‚å¯¼é—®é¢˜çš„æ€è·¯åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ol>
<li>ç”¨æä»£æ•°è¡¨ç¤ºå§¿æ€ï¼Œç„¶åå¯¹æ ¹æ®æä»£æ•°åŠ æ³•æ¥å¯¹æä»£æ•°æ±‚å¯¼ã€‚</li>
<li>å¯¹æç¾¤å·¦ä¹˜æˆ–å³ä¹˜å¾®å°æ‰°åŠ¨ï¼Œç„¶åå¯¹è¯¥æ‰°åŠ¨æ±‚å¯¼ï¼Œç§°ä¸ºå·¦æ‰°åŠ¨å’Œå³æ‰°åŠ¨æ¨¡å‹ã€‚</li>
</ol>
</blockquote>
<p>ä½¿ç”¨æ‰°åŠ¨æ¨¡å‹çš„æ±‚å¯¼ç»“æœæ›´ä¸ºç®€æ´ï¼Œç»™å‡ºSO3çš„æ±‚å¯¼ç»“æœã€‚</p>
<script type="math/tex; mode=display">\frac{\partial (Rp)}{\partial\phi} = -(Rp)^\land</script><p>ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•ä¼šåœ¨ä¸Šè¿°ç»“æœå³ä¾§å†åŠ ä¸€ä¸ªé›…å¯æ¯”çŸ©é˜µ$J_l$</p>
]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
      <tags>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
        <tag>SLAM</tag>
      </tags>
  </entry>
  <entry>
    <title>ç°ä»£æ§åˆ¶ç†è®ºï¼ˆ1ï¼‰ç»ªè®ºä¸æ§åˆ¶ç³»ç»Ÿå»ºæ¨¡</title>
    <url>/2020/05/02/%E7%8E%B0%E4%BB%A3%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%EF%BC%881%EF%BC%89%E7%BB%AA%E8%AE%BA%E4%B8%8E%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1/</url>
    <content><![CDATA[<p>ç°ä»£æ§åˆ¶ç†è®ºæ˜¯æ§åˆ¶ç†è®ºç ”ç©¶äººå‘˜åœ¨20ä¸–çºªä¸­æœŸæ‰€æå‡ºçš„ä¸€æ‰¹å…³äºæ§åˆ¶ç†è®ºé—®é¢˜çš„æˆæœçš„æ€»ç§°ã€‚åœ¨æ§åˆ¶ç†è®ºä¸­å…·æœ‰æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨-æ‰¿æ¥ç»å…¸æ§åˆ¶ç†è®ºï¼Œå¯å‘åç»­çœŸ*ç°ä»£æ§åˆ¶ç†è®ºï¼Œä¾‹å¦‚æ¨¡ç³Šæ§åˆ¶/é²æ£’æ§åˆ¶ç†è®ºã€‚</p>
<p>æœ¬æ–‡å†…å®¹ä¸ºç°ä»£æ§åˆ¶ç†è®ºè¯¾ç¨‹çš„å›é¡¾å’Œæ€»ç»“ï¼Œç¬¬ä¸€éƒ¨åˆ†ä¸ºç»ªè®ºå’Œæ§åˆ¶ç³»ç»Ÿå»ºæ¨¡ã€‚</p>
<a id="more"></a>
<blockquote>
<p><strong>å¤§çº¦ä¸€å¹´å2021.3.3æ¥æ›´æ–°äº†ï¼Œè¿™é—¨æœ¬ç ”äº’é€‰çš„è¯¾æœ€ç»ˆæ²¡èƒ½åœ¨æœ¬ç§‘é˜¶æ®µä¸Šå®Œï¼Œæ‰€ä»¥ç ”ä¸€ä¸‹å­¦æœŸæˆ‘åˆæ¥â€œé‡ä¿®â€äº†å“ˆå“ˆå“ˆå“ˆ</strong></p>
</blockquote>
<h2 id="ç»ªè®º"><a href="#ç»ªè®º" class="headerlink" title="ç»ªè®º"></a>ç»ªè®º</h2><h3 id="ç°ä»£æ§åˆ¶ç†è®ºçš„ç‰¹ç‚¹å’Œä¼˜åŠ¿"><a href="#ç°ä»£æ§åˆ¶ç†è®ºçš„ç‰¹ç‚¹å’Œä¼˜åŠ¿" class="headerlink" title="ç°ä»£æ§åˆ¶ç†è®ºçš„ç‰¹ç‚¹å’Œä¼˜åŠ¿"></a>ç°ä»£æ§åˆ¶ç†è®ºçš„ç‰¹ç‚¹å’Œä¼˜åŠ¿</h3><p>ç›¸æ¯”ç»å…¸æ§åˆ¶ç†è®ºï¼Œå³è‡ªåŠ¨æ§åˆ¶ç†è®ºè¯¾ç¨‹ä¸­æ‰€å­¦çš„åŸºäºä¼ é€’å‡½æ•°ã€é›¶æç‚¹ä¸ç‰¹å¾æ ¹ç­‰çš„æ§åˆ¶ç†è®ºæ–¹æ³•ï¼Œç°ä»£æ§åˆ¶ç†è®ºå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹å’Œä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ•°å­¦æ¨¡å‹æ–¹é¢ï¼šç°ä»£æ§åˆ¶ç†è®ºæ˜¯ä¸€ç§<strong>ä½¿ç”¨å†…éƒ¨æè¿°æ¨¡å‹çš„å†…éƒ¨ç©ºé—´æ³•</strong>ã€‚</li>
<li>é€‚ç”¨äº<strong>å¤šè¾“å…¥å¤šè¾“å‡ºç³»ç»Ÿ</strong>ï¼Œå¯ä»¥è§£å†³åˆå€¼<strong>éé›¶é—®é¢˜</strong>ã€‚</li>
<li>ç»“æ„ç‰¹æ€§æ–¹é¢ï¼šè§£å†³äº†æ˜¯ç³»ç»Ÿå¯æ§æ€§å’Œä¸ç¡®å®šæ€§é—®é¢˜ã€‚</li>
<li>è®¾è®¡æ–¹æ³•æ–¹é¢ï¼šå¯ä»¥å¾—åˆ°å®šé‡çš„ï¼Œæœ€ä¼˜çš„æ§åˆ¶è§£ã€‚</li>
</ul>
<blockquote>
<p>é€šè¿‡ç›®å‰å‡ èŠ‚è¯¾çš„å­¦ä¹ ï¼ˆæˆªæ­¢5-2å…±å­¦ä¹ äº†8èŠ‚è¯¾ç¨‹ï¼‰ï¼Œç°ä»£æ§åˆ¶ç†è®ºç¡®å®è®©æˆ‘æ„Ÿè§‰ç›¸æ¯”åŸæœ‰ç»å…¸æ§åˆ¶ç†è®º<strong>æ›´åŠ ç§‘å­¦</strong>ï¼Œè¿™ç§æ„Ÿè§‰æ¥æºäºç°ä»£æ§åˆ¶ç†è®ºç›¸æ¯”è‡ªæ§ï¼Œç³»ç»Ÿçš„ç»†èŠ‚æ›´ä¸ºä¸°å¯Œï¼ˆå†…éƒ¨ï¼‰ï¼Œèƒ½å¤Ÿå¤„ç†MIMOï¼Œä¼˜åŒ–æœ‰æ®å¯å¾ªï¼Œè€Œä¸æ˜¯è¯•å‡‘ï¼ˆåæ§½è‡ªæ§è¿›è¡Œç³»ç»Ÿè®¾è®¡çš„æ–¹æ³•ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯è¯•å‡‘ï¼Œçç¢°ä¸Šæˆå°±ç”¨ï¼Œä¸æˆå°±é‡æ–°åŠ ä¸ªæ¨¡å—è°ƒä¸ªç³»æ•°ï¼Œä»¤äººå¤´å¤§ï¼‰ã€‚</p>
<p>å½“ç„¶ï¼Œè‡ªæ§åœ¨å¤„ç†ä¸€äº›ç®€å•é—®é¢˜æ—¶è¶³å¤Ÿä½¿ç”¨ï¼Œèƒ½å¤Ÿç®€åŒ–é—®é¢˜</p>
</blockquote>
<p>ç°ä»£æ§åˆ¶ç†è®ºçš„ä»£è¡¨äººç‰©ï¼šåºå¾·é‡Œäºšé‡‘ åˆ«å°”æ›¼ å¡å°”æ›¼</p>
<h3 id="ç°ä»£æ§åˆ¶ç†è®ºçš„å‡ ä¸ªæ¨¡å—"><a href="#ç°ä»£æ§åˆ¶ç†è®ºçš„å‡ ä¸ªæ¨¡å—" class="headerlink" title="ç°ä»£æ§åˆ¶ç†è®ºçš„å‡ ä¸ªæ¨¡å—"></a>ç°ä»£æ§åˆ¶ç†è®ºçš„å‡ ä¸ªæ¨¡å—</h3><ul>
<li>çº¿æ€§å¤šå˜é‡ç†è®ºï¼š èƒ½æ§æ€§/èƒ½è§‚æµ‹æ€§ï¼Œç³»ç»Ÿçš„æç‚¹é…ç½®ï¼ŒçŠ¶æ€è§‚æµ‹å™¨è®¾è®¡å’ŒæŠ—å¹²æ‰°é—®é¢˜ï¼ˆæœ¬ä¹¦é‡ç‚¹ï¼‰</li>
<li>æœ€ä¼˜æ§åˆ¶ç†è®ºï¼š å·²çŸ¥æ•°å­¦æ¨¡å‹ï¼Œå¯»æ‰¾æœ€ä¼˜æ§åˆ¶å‡½æ•°</li>
<li>æœ€ä¼˜ä¼°è®¡ç†è®ºï¼š å·²çŸ¥æ•°å­¦æ¨¡å‹ï¼Œ<strong>ä»è¢«å™ªå£°å¹²æ‰°çš„è§‚æµ‹æ•°æ®ä¸­ç¡®å®š</strong>ç³»ç»ŸçŠ¶æ€ï¼ˆå¡å°”æ›¼æ»¤æ³¢ï¼‰</li>
<li>ç³»ç»Ÿè¾¨è¯†å’Œå‚æ•°ä¼°è®¡ï¼š åŸºäºè¾“å…¥è¾“å‡ºæ•°æ®è¾¨è¯†ç³»ç»Ÿå‚æ•°</li>
</ul>
<h3 id="è‡ªæ§é‡Œå¹…å€¼è£•åº¦å’Œç›¸è§’è£•åº¦åœ¨è¯´ä»€ä¹ˆ"><a href="#è‡ªæ§é‡Œå¹…å€¼è£•åº¦å’Œç›¸è§’è£•åº¦åœ¨è¯´ä»€ä¹ˆ" class="headerlink" title="è‡ªæ§é‡Œå¹…å€¼è£•åº¦å’Œç›¸è§’è£•åº¦åœ¨è¯´ä»€ä¹ˆ"></a>è‡ªæ§é‡Œå¹…å€¼è£•åº¦å’Œç›¸è§’è£•åº¦åœ¨è¯´ä»€ä¹ˆ</h3><p><img src='bode.jpg' width='600' title='èµ‹å€¼è£•åº¦å’Œç›¸è§’è£•åº¦'></p>
<p>ä¸Šé¢çš„bodeå›¾æè¿°çš„æ˜¯å¼€ç¯ç³»ç»Ÿéšç€è¾“å…¥é¢‘ç‡å˜åŒ–ï¼Œä¼ é€’å‡½æ•°èµ‹å€¼å’Œç›¸è§’çš„å˜åŒ–ï¼Œå³å¼€ç¯é¢‘ç‡å“åº”ã€‚</p>
<p>å¹…å€¼è£•åº¦æ˜¯ç›¸è§’ä¸º-180åº¦çš„æ—¶å€™ï¼Œèµ‹å€¼è·ç¦»0dbçš„å¤§å°ï¼Œæ¯”0dbä½ä¸ºæ­£èµ‹å€¼è£•åº¦ï¼›ç›¸è§’è£•åº¦æ˜¯å½“èµ‹å€¼è£•åº¦ä¸º0dbçš„æ—¶å€™ï¼Œç›¸è§’é«˜äº-180åº¦çš„å¤§å°ï¼Œæ¯”-180åº¦å¤§åˆ™ä¸ºæ­£ç›¸è§’è£•åº¦ã€‚</p>
<p><img src='sys.gif' width='600' title='ä¸€ä¸ªç³»ç»Ÿ'></p>
<p>è°ˆè®ºè£•åº¦æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä»¥é—­ç¯ç³»ç»Ÿä¸ºè®¨è®ºåŸºç¡€ï¼Œä¸€ä¸ªé—­ç¯çš„å•ä½è´Ÿåé¦ˆç³»ç»Ÿï¼Œè¾“å‡ºä¼šä¹˜ä»¥-1åŠ å…¥åˆ°è¾“å…¥ç«¯ã€‚è€ƒè™‘ä¸€ä¸ªè¾“å…¥çš„æ­£å¼¦ä¿¡å·ï¼ˆæ‰€æœ‰çš„ä¿¡å·éƒ½å¯ä»¥é€šè¿‡å‚…é‡Œå¶åˆ†è§£å˜æˆæ­£å¼¦ä¿¡å·çš„é›†åˆï¼‰ï¼Œå¯¹äºç›¸è§’ä¸º-180åº¦ä¹‹å‰çš„è¾“å‡ºä¿¡å·ï¼Œåé¦ˆä¼šèµ·åˆ°é™ä½è¾“å…¥ä¿¡å·çš„å‰¯ä½œç”¨ï¼Œè€Œ-180åº¦çš„æ—¶å€™ï¼Œåé¦ˆä¿¡å·ä¼šå˜æˆå¯¹è¾“å…¥ä¿¡å·çš„å¢ç›Šï¼ˆä¹˜ä»¥-1è´Ÿè´Ÿå¾—æ­£ï¼‰ï¼Œå¯¼è‡´ç³»ç»Ÿå˜æˆæ­£åé¦ˆï¼Œå®¹æ˜“äº§ç”Ÿå‘æ•£ï¼Œå› æ­¤-180åº¦æ˜¯ä¸€ä¸ªåˆ¤æ–­ç³»ç»Ÿç¨³å®šæ€§çš„å…³é”®æ€§èŠ‚ç‚¹ã€‚</p>
<p>ä¸ºäº†è®©ç³»ç»Ÿç¨³å®šï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡ä¿è¯ï¼š</p>
<ol>
<li>-180åº¦æ—¶å¹…å€¼å¢ç›Šè¶Šå°è¶Šå¥½ï¼Œå³dbå€¼ä¸ºè´Ÿçš„è¶Šå‰å®³è¶Šå¥½ï¼ˆå³æ­£å¹…å€¼è£•åº¦ï¼‰</li>
<li>0dbå¯¹åº”çš„ç›¸è§’åº”è¯¥ç¦»-180åº¦è¶Šè¿œè¶Šå¥½ï¼Œä¿è¯åˆ°-180åº¦çš„æ—¶å€™ï¼Œå¢ç›Šå·²ç»è¡°å‡äº†å¾®ä¸è¶³é“çš„å¤§å°ï¼Œå³ä¾¿æ˜¯æ­£åé¦ˆä¹Ÿæ€ä¸èµ·ä»€ä¹ˆæ³¢æµªï¼ˆæ­£ç›¸è§’è£•åº¦ï¼‰</li>
</ol>
<p>ç”¨ä¸€ä¸ªæ¯”å–»æ¥è¯´ï¼Œå¦‚æœå°†-180åº¦è¿™ä¸ªè§’åº¦è®¤ä¸ºæ˜¯åšåäº‹ï¼Œ0åº¦å¯¹åº”åšå¥½äº‹ï¼Œé‚£ä¹ˆä¸Šè¿°ä¸¤æ¡å˜æˆ</p>
<ol>
<li>ä¸å¾—ä¸åšåäº‹çš„æ—¶å€™ï¼Œè¦åšä¸€ä¸ªèƒ½åŠ›å·®ï¼ˆå¹…å€¼å¢ç›Šå°ï¼‰çš„åäºº</li>
<li>èƒ½åŠ›è¿˜æ²¡æœ‰å˜å¼±ï¼ˆ0dbä»¥ä¸Šï¼‰çš„æ—¶å€™ï¼Œè¦åšä¸€ä¸ªè¿œç¦»æ¶çš„å¥½äººï¼ˆç¦»-180åº¦è¿œç‚¹ï¼‰</li>
</ol>
<p>ä½ å¯èƒ½ä¹Ÿä¼šç–‘æƒ‘ï¼Œåªçœ‹-180åº¦æ˜¯ä¸æ˜¯å¤ªç²—ç³™äº†ï¼Œç›¸è§’æ˜¯åˆ«çš„è§’åº¦çš„æ—¶å€™ä¹Ÿå¯èƒ½äº§ç”Ÿæ­£çš„å¢ç›Šã€‚è¿™ç§æ€è€ƒå®Œå…¨æ˜¯æœ‰é“ç†çš„ï¼Œä¸‹é¢è¿™å¥è¯å¯¹æˆ‘æœ‰æ‰€å¯å‘</p>
<blockquote>
<p>ä½¿ç”¨å¢ç›Šå’Œç›¸ä½è£•é‡æ˜¯å› ä¸ºå®ƒä»¬ç®€å•ï¼Œè€Œä¸æ˜¯å› ä¸ºå®ƒä»¬æ˜¯ç¨³å®šæ€§çš„ç†æƒ³åº¦é‡ã€‚</p>
</blockquote>
<p>æ€»çš„æ¥è¯´ï¼Œè‡ªæ§é‡Œç”¨è£•åº¦åˆ¤æ–­ç¨³å®šæ€§è¿˜æ˜¯ä¸ºäº†ç®€åŒ–éš¾åº¦ï¼Œå› ä¸º-180åº¦æ—¶çš„æ­£åé¦ˆä½œç”¨æœ€å¼ºï¼Œå¦‚æœèƒ½ä¿è¯æ­¤æ—¶çš„åé¦ˆä¸è‡³äºè®©ç³»ç»Ÿå‘æ•£ï¼Œåˆ™å¯¹äºç³»ç»Ÿçš„ç¨³å®šæ€§å°±æœ‰äº†ä¸€ä¸ªæ¯”è¾ƒæ”¾å¿ƒçš„åˆ¤æ–­ã€‚</p>
<p>æ›´åŠ å‡†ç¡®åˆ¤æ–­ç¨³å®šæ€§çš„æ–¹æ³•ï¼Œä¹Ÿè¯·çœ‹åç»­ç°ä»£æ§åˆ¶ç†è®ºçš„æ–¹æ³•ï¼</p>
<h3 id="å¦‚ä½•åˆ¤æ–­æˆ‘çš„ç³»ç»Ÿæ˜¯å¦æ¥è¿‘0-dBï¼Œ-180åº¦ï¼Ÿ"><a href="#å¦‚ä½•åˆ¤æ–­æˆ‘çš„ç³»ç»Ÿæ˜¯å¦æ¥è¿‘0-dBï¼Œ-180åº¦ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ¤æ–­æˆ‘çš„ç³»ç»Ÿæ˜¯å¦æ¥è¿‘0 dBï¼Œ-180åº¦ï¼Ÿ"></a>å¦‚ä½•åˆ¤æ–­æˆ‘çš„ç³»ç»Ÿæ˜¯å¦æ¥è¿‘0 dBï¼Œ-180åº¦ï¼Ÿ</h3><p>æœ‰ä¸¤ä¸ªè¿¹è±¡ï¼š</p>
<ol>
<li>é—­ç¯å¹…åº¦å“åº”ä¸­çš„å¹…åº¦è¾ƒå¤§ï¼Œä»¥åŠ</li>
<li>å¼€ç¯é¢‘ç‡å“åº”æ¥è¿‘0 dBï¼Œ-180åº¦</li>
</ol>
<p>å¾ˆå®¹æ˜“çœ‹åˆ°è¾ƒå¤§çš„é—­ç¯å¹…åº¦å“åº”ã€‚å¤§å“åº”æ˜¯ä»»ä½•å¤§äº6dBçš„å€¼ã€‚</p>
<p>ç›¸è§’è£•åº¦è‡³å°‘è¦æœ‰30åº¦ï¼Œæ‰æœ‰å¯èƒ½ç¨³å®šã€‚</p>
<h2 id="æ§åˆ¶ç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹"><a href="#æ§åˆ¶ç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹" class="headerlink" title="æ§åˆ¶ç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹"></a>æ§åˆ¶ç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹</h2><h3 id="çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼"><a href="#çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼" class="headerlink" title="çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼"></a>çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼</h3><h4 id="ç›¸å…³æ¦‚å¿µ"><a href="#ç›¸å…³æ¦‚å¿µ" class="headerlink" title="ç›¸å…³æ¦‚å¿µ"></a>ç›¸å…³æ¦‚å¿µ</h4><ul>
<li>çŠ¶æ€ï¼šèƒ½å¤Ÿè¡¨å¾ç³»ç»Ÿçš„ç‰©ç†é‡</li>
<li>çŠ¶æ€å˜é‡/å‘é‡ï¼šç¡®å®šç³»ç»ŸçŠ¶æ€æ‰€éœ€çš„<strong>æœ€å°ä¸€ç»„å˜é‡</strong>ï¼Œè¿™äº›å˜é‡æ„æˆä¸€ä¸ªå‘é‡ï¼Œ<strong>å…·ä½“å½¢å¼æ²¡æœ‰è¦æ±‚</strong></li>
<li>çŠ¶æ€ç©ºé—´ï¼šä»¥é€‰å®šçš„çŠ¶æ€å˜é‡ä¸ºåæ ‡è½´ï¼Œç”Ÿæˆçš„æ­£äº¤ç©ºé—´ï¼ˆçŠ¶æ€å‘é‡æ‰€åœ¨çš„çº¿æ€§ç©ºé—´ï¼‰</li>
</ul>
<p>çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæ–¹ç¨‹ç»„ï¼Œç®€å•æ¥è¯´åŒ…å«ä¸¤éƒ¨åˆ†</p>
<ul>
<li>çŠ¶æ€æ–¹ç¨‹ï¼Œæè¿°çŠ¶æ€å˜é‡å¯¼æ•°ä¸çŠ¶æ€å˜é‡å’Œè¾“å…¥çš„å…³ç³»</li>
<li>è¾“å‡ºæ–¹ç¨‹ï¼Œæè¿°è¾“å‡ºé‡ä¸çŠ¶æ€å˜é‡å’Œè¾“å…¥çš„å…³ç³»</li>
</ul>
<p>ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
\left[ \begin{matrix} \frac{di(t)}{dt} \\ \frac {du_c(t)}{dt} \end{matrix} \right] = \left[  \begin{matrix} -\frac{R}{L} & -\frac{1}{L} \\  \frac{1}{C}  & 0 \end{matrix}\right] \left[  \begin{matrix} i(t) \\ u_c(t)\end{matrix}\right]+\left[  \begin{matrix} \frac{1}{L} \\ 0 \end{matrix}\right] u(t)</script><p>è¿™å°±æ˜¯ä¸€ä¸ª<strong>çŠ¶æ€æ–¹ç¨‹ï¼ˆç»„ï¼‰</strong>ï¼Œ$i(t)$å’Œ$u_c(t)$å°±æ˜¯ä¸¤ä¸ªçŠ¶æ€å˜é‡ï¼Œç­‰å¼çš„å·¦è¾¹æ˜¯çŠ¶æ€å˜é‡çš„å¯¼æ•°ï¼Œæœ€å³ä¾§æ˜¯è¾“å…¥é‡$u(t)$</p>
<p>ç°åœ¨å¦‚æœæˆ‘ä»¬é€‰å–$u_c(t)$åŒæ—¶ä½œä¸ºè¯¥ç³»ç»Ÿçš„è¾“å‡ºå˜é‡ï¼Œé‚£ä¹ˆå°±å¯ä»¥å†™å‡ºè¾“å‡ºæ–¹ç¨‹ï¼š</p>
<script type="math/tex; mode=display">
u_c(t) = [0 \quad 1] \left[ \begin{matrix} i(t) \\u_c(t)\end{matrix}\right]</script><blockquote>
<p>æ¯«æ— ç–‘é—®ï¼Œç³»ç»Ÿçš„çŠ¶æ€å˜é‡ä¹Ÿå¯ä»¥æ˜¯è¾“å‡ºé‡ï¼Œåä¹‹äº¦ç„¶</p>
</blockquote>
<h4 id="çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼çš„å‡ ä¸ªç‰¹ç‚¹"><a href="#çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼çš„å‡ ä¸ªç‰¹ç‚¹" class="headerlink" title="çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼çš„å‡ ä¸ªç‰¹ç‚¹"></a>çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼çš„å‡ ä¸ªç‰¹ç‚¹</h4><p><strong>*å½¢å¼ä¸å”¯ä¸€</strong>ï¼Œå¯ä»¥éšçŠ¶æ€å˜é‡é€‰å–è€Œä»»æ„æ”¹å˜*</p>
<ul>
<li><p>çŠ¶æ€æ–¹ç¨‹ </p>
<ul>
<li>çŠ¶æ€æ–¹ç¨‹æ˜¯ä¸€é˜¶å¾®åˆ†æ–¹ç¨‹ï¼ˆç»„ï¼‰ï¼›</li>
<li>çŠ¶æ€æ–¹ç¨‹æ˜¯çŠ¶æ€ç©ºé—´åˆ†ææ³•çš„åŸºæœ¬æ•°å­¦æ–¹ç¨‹ï¼›</li>
<li>çŠ¶æ€æ–¹ç¨‹å…·æœ‰éå”¯ä¸€æ€§ï¼›</li>
<li>çŠ¶æ€æ–¹ç¨‹ä¸­ä¸å«æœ‰è¾“å…¥å˜é‡çš„å¯¼æ•°</li>
</ul>
</li>
<li><p>è¾“å‡ºæ–¹ç¨‹</p>
<ul>
<li>è¾“å‡ºæ–¹ç¨‹æ˜¯ä»£æ•°æ–¹ç¨‹ï¼ˆç»„ï¼‰ï¼›</li>
<li>è¾“å‡ºæ–¹ç¨‹æ˜¯çŠ¶æ€ç©ºé—´åˆ†ææ³•çš„åŸºæœ¬æ•°å­¦æ–¹ç¨‹ï¼›</li>
<li>è¾“å‡ºæ–¹ç¨‹å…·æœ‰éå”¯ä¸€æ€§ï¼›</li>
</ul>
</li>
</ul>
<p>æŠ½è±¡åŒ–å½¢å¼</p>
<script type="math/tex; mode=display">
\dot{X} = AX + BU \\</script><script type="math/tex; mode=display">
Y = CX+DU</script><blockquote>
<p>$A$ç³»æ•°çŸ©é˜µ $B$è¾“å…¥çŸ©é˜µ $C$è¾“å‡ºçŸ©é˜µ $D$å‰é¦ˆçŸ©é˜µ </p>
</blockquote>
<h3 id="çŠ¶æ€å˜é‡å›¾"><a href="#çŠ¶æ€å˜é‡å›¾" class="headerlink" title="çŠ¶æ€å˜é‡å›¾"></a>çŠ¶æ€å˜é‡å›¾</h3><p>ä¸€ç§ç±»ä¼¼äºä¼ é€’å‡½æ•°ç³»ç»Ÿåˆ†ææ—¶æ‰€ç”»çš„å›¾ï¼Œç»˜åˆ¶æ—¶æœ‰ä¸€äº›åŸåˆ™å’Œæ€è·¯ã€‚ çŠ¶æ€å˜é‡å›¾åªæœ‰åŠ æ³•å™¨ï¼Œæ¯”ä¾‹å™¨å’Œç§¯åˆ†å™¨ã€‚ç»˜åˆ¶æ—¶ï¼Œå…ˆé’ˆå¯¹æ¯ä¸€ä¸ªä¸€é˜¶å¾®åˆ†æ–¹ç¨‹å•ç‹¬ç”»ï¼ˆä»¥ç§¯åˆ†å™¨ä¸ºåŸºç¡€ï¼‰ï¼Œç„¶åå†ä¾æ¬¡è¿æ¥è¿™äº›æ¨¡å—ã€‚</p>
<h3 id="å»ºæ¨¡æ€è·¯"><a href="#å»ºæ¨¡æ€è·¯" class="headerlink" title="å»ºæ¨¡æ€è·¯"></a>å»ºæ¨¡æ€è·¯</h3><ol>
<li>ç¡®å®šæ­£æ–¹å‘</li>
<li>å¯»æ‰¾å¯è§‚æµ‹é‡ä¸ç‰¹å¾é‡</li>
<li>åˆ©ç”¨ç‰©ç†è§„å¾‹å†™å‡ºæ–¹ç¨‹</li>
<li>ç¡®å®šè¾“å…¥ã€è¾“å‡ºä¸çŠ¶æ€å˜é‡</li>
</ol>
<blockquote>
<p>æ²¡åŠæ³•ä¹Ÿä¸åº”è¯¥ä»¥å¾®åˆ†å™¨ä½œä¸ºçŠ¶æ€å›¾ä¸­çš„ä¸€éƒ¨åˆ†</p>
</blockquote>
<h2 id="åˆ—å‡ºçŠ¶æ€ç©ºé—´è¡¨è¾¾å¼"><a href="#åˆ—å‡ºçŠ¶æ€ç©ºé—´è¡¨è¾¾å¼" class="headerlink" title="åˆ—å‡ºçŠ¶æ€ç©ºé—´è¡¨è¾¾å¼"></a>åˆ—å‡ºçŠ¶æ€ç©ºé—´è¡¨è¾¾å¼</h2><p>éš¾ç‚¹ä¸»è¦åœ¨äºç­‰å¼å³ä¾§æœ‰è¾“å…¥å˜é‡çš„å¯¼æ•°é¡¹æ—¶ï¼Œéœ€è¦åœ¨çŠ¶æ€å˜é‡é‡Œå¢åŠ è¾“å…¥é¡¹ã€‚ç¬¬ä¸€æ¬¡çœ‹ä¹¦ä¸Šä¸€ä¸ªä¸‰é˜¶æ–¹ç¨‹çš„å¤„ç†æ–¹æ³•æ—¶ï¼Œæˆ‘å¯¹è®¾ç½®3ä¸ªçŠ¶æ€å˜é‡æ²¡æœ‰å¼‚è®®ï¼Œä½†å¯¹äºä¸ºä»€ä¹ˆè¦åŠ ä¸€ä¸ªé¢å¤–çš„ä¸­é—´å˜é‡$x_4 = \dot x_3 - \beta_3 u$ä¸ç†è§£ï¼Œæ„Ÿè§‰å¤šå¼•å…¥äº†ä¸€ä¸ªå¾…å®šç³»æ•°ã€‚</p>
<p>å®é™…è¯•äº†ä¸€ä¸‹ï¼Œå¦‚æœåªç”¨$\beta_0 \beta_1 \beta_2$ä¸‰ä¸ªå¾…å®šç³»æ•°ï¼Œå°†çŠ¶æ€å˜é‡xä»£æ›¿yçš„å¯¼æ•°å›ä»£ï¼Œä¼šå¾—åˆ°å››ä¸ªæ–¹ç¨‹ï¼ˆåˆ†åˆ«ä¸è¾“å…¥é¡¹çš„ç³»æ•°ç›¸ç­‰ï¼‰ï¼Œä½¿å¾—é—®é¢˜å˜æˆè¶…æ­£å®šï¼ˆæœªçŸ¥æ•°å°‘äºæ–¹ç¨‹ï¼‰ï¼Œæœ‰å¯èƒ½æ— è§£ã€‚å› æ­¤æœ‰å¿…è¦å¤šè®¾ç½®ä¸€ä¸ªå¾…å®šç³»æ•°ï¼Œä¿è¯å¯ä»¥æ±‚å‡ºå”¯ä¸€è§£ã€‚</p>
<p>é™¤äº†å¾…å®šç³»æ•°æ³•ï¼Œè¿˜å¯ä»¥åˆ©ç”¨æ‹‰æ™®æ‹‰æ–¯å˜æ¢å°†é—®é¢˜è½¬åŒ–åˆ°é¢‘åŸŸï¼Œç„¶ååˆ©ç”¨ä¸­é—´å˜é‡Z(s)å°†è¾“å…¥è¾“å‡ºåˆ†ç¦»æ¥æ±‚è§£çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼ã€‚</p>
<h2 id="ä¼ é€’å‡½æ•°çŸ©é˜µ"><a href="#ä¼ é€’å‡½æ•°çŸ©é˜µ" class="headerlink" title="ä¼ é€’å‡½æ•°çŸ©é˜µ"></a>ä¼ é€’å‡½æ•°çŸ©é˜µ</h2><p>å¯¹çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼çš„ä¸€èˆ¬å½¢å¼åšæ‹‰æ™®æ‹‰æ–¯å˜æ¢ï¼Œç„¶åé€šè¿‡æ¶ˆå»$X(s)$å¾—åˆ°ä¼ é€’å‡½æ•°</p>
<script type="math/tex; mode=display">G(s) = C[sI-A]^{-1}B+D = C\frac{adj[sI-A]}{det[sI-A]}B+D</script><ol>
<li>æ— é›¶æç‚¹å¯¹æ¶ˆæ—¶ï¼šAçš„ç‰¹å¾å€¼=ä¼ é€’å‡½æ•°çš„æç‚¹</li>
<li>æœ‰é›¶æç‚¹å¯¹æ¶ˆæ—¶ï¼š<pre><code>    Açš„ç‰¹å¾å€¼=ä¼ é€’å‡½æ•°çš„æç‚¹+å¯¹æ¶ˆçš„æç‚¹
</code></pre></li>
</ol>
<p>$G(s)$æ˜¯ä¸€ä¸ªçŸ©é˜µçš„æ—¶å€™ï¼Œ$G_{ij}$ä»£è¡¨ç¬¬$i$ä¸ªè¾“å‡ºå€¼å¯¹ç¬¬$j$ä¸ªè¾“å…¥å€¼çš„ä¼ é€’å‡½æ•°</p>
<p><strong>æ­£åˆ™çš„æœ‰ç†ä¼ é€’å‡½æ•°</strong>ï¼š$s-&gt;\infin$è‹¥ä¼ é€’å‡½æ•°ï¼ˆçŸ©é˜µå†…å…ƒç´ ï¼‰æ˜¯æœ‰é™å¸¸é‡ï¼Œåˆ™ç§°ä¸ºä¼ é€’å‡½æ•°æ­£åˆ™ã€‚éæ­£åˆ™çš„ä¼ é€’å‡½æ•°ä¸å¯ä»¥åº”ç”¨ï¼Œå› ä¸ºé‚£æ ·ä¼šæ”¾å¤§é«˜é¢‘å™ªå£°</p>
<h2 id="ç¦»æ•£ç³»ç»Ÿçš„æ•°å­¦æè¿°"><a href="#ç¦»æ•£ç³»ç»Ÿçš„æ•°å­¦æè¿°" class="headerlink" title="ç¦»æ•£ç³»ç»Ÿçš„æ•°å­¦æè¿°"></a>ç¦»æ•£ç³»ç»Ÿçš„æ•°å­¦æè¿°</h2><p>ç¦»æ•£ç³»ç»Ÿä¹Ÿå¯ä»¥å†™å‡ºçŠ¶æ€ç©ºé—´è¡¨è¾¾å¼ï¼ŒçŠ¶æ€ç©ºé—´è¡¨è¾¾å¼é‡ŒåŒ…å«çš„ä¸å†æ˜¯å¾®åˆ†æ–¹ç¨‹è€Œæ˜¯å·®åˆ†æ–¹ç¨‹ã€‚</p>
<script type="math/tex; mode=display">x(k+1)=Gx(k)+Hu(k)</script><p>æˆ‘ä»¬å¯ä»¥ç”¨å·®åˆ†å’Œå¾®åˆ†çš„è¿‘ä¼¼å…³ç³»æ¥åˆ†æä¸€ä¸‹Gå’ŒAçš„å…³ç³»</p>
<script type="math/tex; mode=display">\dot x(kT) = \frac{x(k+1)-x(k)}{T} = Ax(k)+bu(k)</script><script type="math/tex; mode=display">x(k+1) = (I+AT)x(k)+bTu(k)</script><p>å¯ä»¥çœ‹åˆ°$G=I+AT,H=bT$ï¼Œåœ¨Tæ¯”è¾ƒå°çš„æ—¶å€™Gå¯ä»¥è¿‘ä¼¼ä¸ºå•ä½çŸ©é˜µ</p>
<h2 id="çº¿æ€§å˜æ¢"><a href="#çº¿æ€§å˜æ¢" class="headerlink" title="çº¿æ€§å˜æ¢"></a>çº¿æ€§å˜æ¢</h2><p>é€‰å–ä¸åŒçš„çŠ¶æ€å˜é‡ï¼Œèƒ½å¤Ÿè·å¾—ä¸åŒçš„ç³»æ•°çŸ©é˜µã€è¾“å‡ºçŸ©é˜µç­‰ï¼Œçº¿æ€§å˜æ¢çš„ç›®çš„æ˜¯å°†å½¢å½¢è‰²è‰²çš„çŸ©é˜µç»Ÿä¸€æˆæ ‡å‡†çš„ã€æ–¹ä¾¿åç»­è®¡ç®—çš„çŸ©é˜µ-æ ‡å‡†å‹çŸ©é˜µã€‚</p>
<script type="math/tex; mode=display">
\overline{x} = Px,\quad x = P^{-1}\overline{x}</script><script type="math/tex; mode=display">\overline{x} = PAP^{-1}\overline{x} + PBu</script><script type="math/tex; mode=display">y = CP^{-1}\overline{x}+Du</script><p>çº¿æ€§å˜æ¢ï¼š</p>
<ol>
<li>ä¸æ”¹å˜ç³»ç»Ÿçš„ç‰¹å¾å€¼</li>
<li>ä¸æ”¹å˜ç³»ç»Ÿçš„ä¼ é€’çŸ©é˜µ</li>
</ol>
<p>å‡ ç§è¾ƒå¥½çš„æ ‡å‡†å‹çŸ©é˜µ</p>
<h3 id="å¯¹è§’å‹"><a href="#å¯¹è§’å‹" class="headerlink" title="å¯¹è§’å‹"></a>å¯¹è§’å‹</h3><p>ä½¿ç”¨ç‰¹å¾å‘é‡çŸ©é˜µS</p>
<script type="math/tex; mode=display">\Lambda = S^{-1}AS = PAP^{-1}</script><h3 id="çº¦å½“å‹"><a href="#çº¦å½“å‹" class="headerlink" title="çº¦å½“å‹"></a>çº¦å½“å‹</h3><p>Aå­˜åœ¨é‡å¤çš„ç‰¹å¾å€¼ï¼Œå¹¶ä¸”ç‰¹å¾å‘é‡çš„æ•°é‡å°äºnæ—¶ï¼Œä¸èƒ½è¿›è¡Œå¯¹è§’åŒ–ï¼Œåªèƒ½åŒ–ä¸ºçº¦å½“å‹çŸ©é˜µ$J$</p>
<p>çº¦å½“å‹çŸ©é˜µçš„å¯¹è§’çº¿æ˜¯ç‰¹å¾å€¼ï¼Œä¸Šä¸‰è§’é˜µ</p>
<h3 id="æ¨¡æ€çŸ©é˜µ"><a href="#æ¨¡æ€çŸ©é˜µ" class="headerlink" title="æ¨¡æ€çŸ©é˜µ"></a>æ¨¡æ€çŸ©é˜µ</h3><p>ç‰¹å¾å€¼ä¸ºå…±è½­å¤æ•°çš„æ—¶å€™ï¼ŒçŸ©é˜µå¯ä»¥å˜ä¸ºæ¨¡æ€é˜µ</p>
<p>è‹¥ç‰¹å¾å€¼$\lambda _1 = \sigma +j \omega, \quad \lambda _2 = \sigma -j \omega$</p>
<p>æ¨¡æ€é˜µçš„å½¢å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\begin{pmatrix}
\sigma & \omega \\
-\omega & \sigma
\end{pmatrix}</script><h2 id="ç»„åˆç³»ç»Ÿ"><a href="#ç»„åˆç³»ç»Ÿ" class="headerlink" title="ç»„åˆç³»ç»Ÿ"></a>ç»„åˆç³»ç»Ÿ</h2><p>æ¶‰åŠåˆ°ä¸¤ä¸ªç³»ç»Ÿçš„ä¸²è”ï¼Œå¹¶è”ï¼Œä»¥åŠä¸€ä¸ªä½œä¸ºå¦ä¸€ä¸ªçš„åé¦ˆ</p>
<ul>
<li>ä¸²è”æ—¶ç³»ç»Ÿ1çš„è¾“å‡ºä¸ºç³»ç»Ÿ2çš„è¾“å…¥</li>
<li>å¹¶è”æ—¶è¾“å…¥ç›¸åŒï¼Œè¾“å‡ºç­‰äºä¸¤è€…å„è‡ªè¾“å‡ºä¹‹å’Œ</li>
<li><strong>åé¦ˆæ—¶</strong>éœ€è¦é¿å…<strong>ä»£æ•°ç¯</strong>çš„å‡ºç°ï¼Œä¸¤ä¸ªç³»ç»Ÿä¸­ä¸èƒ½éƒ½æœ‰è¾“å‡ºçŸ©é˜µï¼Œå¦åˆ™æ— æ³•æ±‚å‡ºç»“æœ</li>
</ul>
]]></content>
      <categories>
        <category>æ§åˆ¶ç†è®º</category>
      </categories>
      <tags>
        <tag>æ ¡å†…è¯¾ç¨‹</tag>
        <tag>æ§åˆ¶ç†è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>ç†è§£Cross-Entropy Loss, Softmax Loss, Focal Lossç­‰åè¯</title>
    <url>/2020/04/24/%E7%90%86%E8%A7%A3Cross-Entropy-Loss-Softmax-Loss-Focal-Loss%E7%AD%89%E5%90%8D%E8%AF%8D/</url>
    <content><![CDATA[<p><strong>Cross-Entropy Loss</strong> ä¸­æ–‡ç¿»è¯‘ä¸ºäº¤å‰ç†µæŸå¤±ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„æŸå¤±å‡½æ•°ï¼Œä½†åœ¨ä¸åŒçš„è®ºæ–‡ä¸æœºå™¨å­¦ä¹ æ¡†æ¶ä¸­å¸¸ä¼šè¢«å«åšä¸åŒçš„åå­—ï¼Œæœ¬æ–‡å°†å¯¹è¿™äº›ä»¤äººè¿·æƒ‘çš„åç§°ä»¥åŠä¸€äº›å…¶ä»–å¸¸è§çš„æŸå¤±å‡½æ•°è¿›è¡Œè¯´æ˜ã€‚</p>
<a id="more"></a>
<p><img src="intro.png" width = "800" title = 'æ¦‚è¦' alt="æ¦‚è¦"/></p>
<p>é¦–å…ˆè¯´æ˜ä¸€äº›æ¦‚å¿µ</p>
<h2 id="åˆ†ç±»ä»»åŠ¡"><a href="#åˆ†ç±»ä»»åŠ¡" class="headerlink" title="åˆ†ç±»ä»»åŠ¡"></a>åˆ†ç±»ä»»åŠ¡</h2><p>æŒ‰ç…§æ ‡ç­¾ç±»å‹ä¸åŒè¿›è¡ŒåŒºåˆ†</p>
<h3 id="Multi-Class-Classificationå¤šç±»åˆ«åˆ†ç±»"><a href="#Multi-Class-Classificationå¤šç±»åˆ«åˆ†ç±»" class="headerlink" title="Multi-Class Classificationå¤šç±»åˆ«åˆ†ç±»"></a>Multi-Class Classificationå¤šç±»åˆ«åˆ†ç±»</h3><p><strong>æ¯ä¸ªç›®æ ‡åªå±äºä¸€ä¸ªç±»åˆ«</strong>ã€‚è‹¥æ€»è®¡æœ‰æ•°ç›®ä¸º$C$çš„ç±»åˆ«ï¼ŒCNNç½‘ç»œçš„è¾“å‡ºï¼ˆScoresï¼‰å°†ä¼šæ˜¯ä¸€ä¸ªç»´åº¦ä¸º$C$çš„å‘é‡$s$ã€‚è¾“å…¥æ ·æœ¬å¯¹åº”çš„æ ‡ç­¾æˆ–çœŸå®å€¼ï¼ˆgroundtruthï¼‰æ˜¯ä¸€ä¸ªone-hot vectorï¼Œåªæœ‰ç›®æ ‡ç±»åˆ«ä¸º1ï¼Œå…¶ä½™$C-1$ç±»å‡ä¸º0ã€‚</p>
<h3 id="Multi-Label-Classificationå¤šæ ‡ç­¾åˆ†ç±»"><a href="#Multi-Label-Classificationå¤šæ ‡ç­¾åˆ†ç±»" class="headerlink" title="Multi-Label Classificationå¤šæ ‡ç­¾åˆ†ç±»"></a>Multi-Label Classificationå¤šæ ‡ç­¾åˆ†ç±»</h3><p>s<br><strong>æ¯ä¸ªç›®æ ‡å¯ä»¥å±äºå¤šä¸ªç±»åˆ«</strong>ã€‚ä¾‹å¦‚ï¼ŒæŸæ ·æœ¬å¯ä»¥åŒæ—¶å±äºhumanå’Œwomanä¸¤ä¸ªç±»åˆ«ã€‚è‹¥æ€»è®¡æœ‰æ•°ç›®ä¸º$C$çš„ç±»åˆ«ï¼ŒCNNç½‘ç»œçš„è¾“å‡ºï¼ˆScoresï¼‰ä¸ä¸Šè¿°ä»»åŠ¡ç›¸åŒï¼Œæ˜¯ä¸€ä¸ª$C$ç»´çš„å‘é‡$s$ã€‚ä¸åŒçš„æ˜¯ï¼Œè¾“å…¥æ ·æœ¬çš„æ ‡ç­¾å°†æœ‰å¤šä¸ª1å€¼ï¼Œä»£è¡¨ç›®æ ‡å±äºå¤šä¸ªç§ç±»ã€‚</p>
<p><img src='multiclass_multilabel.png' width = '800' title = 'types of tasks'></p>
<h2 id="è¾“å‡ºå±‚æ¿€æ´»å‡½æ•°"><a href="#è¾“å‡ºå±‚æ¿€æ´»å‡½æ•°" class="headerlink" title="è¾“å‡ºå±‚æ¿€æ´»å‡½æ•°"></a>è¾“å‡ºå±‚æ¿€æ´»å‡½æ•°</h2><p>é€šå¸¸åœ¨è®¡ç®—lossä¹‹å‰ä¼šä½œç”¨åœ¨CNNç»“æœå‘é‡$s$ä¸Šçš„æ¿€æ´»å‡½æ•°</p>
<h3 id="Sigmoid"><a href="#Sigmoid" class="headerlink" title="Sigmoid"></a>Sigmoid</h3><p>ä¸€ç§å¸¸è§çš„æ¿€æ´»å‡½æ•°ï¼Œæ•ˆæœæ˜¯å¯ä»¥å°†ä»»æ„æ•°å€¼é™åˆ¶åœ¨ï¼ˆ0ï¼Œ1ï¼‰åŒºé—´ä¹‹å†…ã€‚ä½¿ç”¨æ—¶ä¼šä½œç”¨äºå‘é‡$s$çš„æ¯ä¸€ä¸ªå…ƒç´ $s_{i}$ä¹Ÿè¢«ç§°ä¸º<strong>logistic function</strong>ã€‚</p>
<script type="math/tex; mode=display">
f(s_{i}) = \frac{1}{1+e^{-s_{i}}}</script><h3 id="Softmax"><a href="#Softmax" class="headerlink" title="Softmax"></a>Softmax</h3><p>é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œå•ç‹¬çš„Softmaxæ˜¯ä¸€ç§å‡½æ•°è€Œéä¸€ç§lossã€‚å®ƒçš„æ•ˆæœæ˜¯è®©è¾“å…¥å‘é‡$s$çš„æ¯ä¸€ä¸ªå…ƒç´ $s_{i}$éƒ½å¤„äºï¼ˆ0ï¼Œ1ï¼‰åŒºé—´ä¹‹å†…ï¼Œå¹¶ä¸”å„å…ƒç´ ä¹‹å’Œä¸º1ã€‚</p>
<script type="math/tex; mode=display">
f(s_{i}) = \frac{e^{s_{i}}}{\sum^{C}_{j} e^{s_{j}}}</script><p>ä¸Šå¼ä¸­ï¼Œ$C$ä¸ºè¾“å‡ºå‘é‡ç»´åº¦</p>
<blockquote>
<p>è®­ç»ƒè¿‡ç¨‹å’Œé¢„æµ‹ä¸­éƒ½ä¼šåœ¨è¾“å‡ºå‘é‡åä½¿ç”¨æ¿€æ´»å‡½æ•°</p>
</blockquote>
<h2 id="å„ç§Losså‡½æ•°"><a href="#å„ç§Losså‡½æ•°" class="headerlink" title="å„ç§Losså‡½æ•°"></a>å„ç§Losså‡½æ•°</h2><h3 id="Cross-Entropy-Lossäº¤å‰ç†µæŸå¤±å‡½æ•°"><a href="#Cross-Entropy-Lossäº¤å‰ç†µæŸå¤±å‡½æ•°" class="headerlink" title="Cross-Entropy Lossäº¤å‰ç†µæŸå¤±å‡½æ•°"></a>Cross-Entropy Lossäº¤å‰ç†µæŸå¤±å‡½æ•°</h3><p>äº‹å®ä¸Šï¼Œè¿™é‡Œè®¨è®ºæ‰€æœ‰Lossçš„éƒ½æ˜¯Cross-Entropyå®¶æ—é‡Œé¢çš„æˆå‘˜ã€‚äº¤å‰ç†µæŸå¤±CE Losså®šä¹‰ä¸ºï¼š</p>
<script type="math/tex; mode=display">
CE = -\sum_{i}^{C}t_{i}log(s_{i})</script><p>å…¶ä¸­$t<em>{i}$å’Œ$s</em>{i}$ä»£è¡¨çš„æ˜¯labelå‘é‡$t$å’ŒCNNé¢„æµ‹çš„å‘é‡$s$çš„å¯¹åº”å…ƒç´ ã€‚åœ¨è®¡ç®—CEæŸå¤±å‰ï¼Œé€šå¸¸ä¼šæœ‰ä¸€ä¸ªæ¿€æ´»å‡½æ•°(sigmoid/softmax)$f$ä½œç”¨äºè¾“å‡ºå‘é‡ä¸Šã€‚</p>
<p>åœ¨äºŒå…ƒåˆ†ç±»é—®é¢˜ä¸­ï¼ˆå³ç›®æ ‡åªéœ€åˆ¤æ–­å±äºæˆ–ä¸å±äºï¼Œ$C=2$ï¼‰,CE Lossä¹Ÿä¼šè¢«å†™ä½œBinary Cross-Entropy Loss:</p>
<script type="math/tex; mode=display">
BCE = -\sum_{i=1}^{C=2}t_{i}log(f(s_{i})) = -t_{1}log(f(s_{1}))-(1-t_{1})log(1-f(s_{1}))</script><p><strong>Logistic Loss</strong>å’Œ<strong>Multinomial Logistic Loss</strong>æ˜¯Cross-Entropy Lossçš„åˆ«ç§°ã€‚</p>
<p>å¯¹åº”æœºå™¨å­¦ä¹ æ¡†æ¶ä¸­ä¸€äº›<strong>ä¸å¸¦æœ‰æ¿€æ´»å‡½æ•°</strong>çš„ï¼š</p>
<ul>
<li>Caffeï¼šMultinomial Logistic Loss Layerã€‚ä»…é™äºMulti-Class Classificationé—®é¢˜ï¼Œä¸æ”¯æŒMulti-Labelsã€‚</li>
<li>PyTorchï¼šBCELossã€‚ä»…é™äºäºŒå…ƒåˆ†ç±»ã€‚</li>
<li>TensorFlowï¼šlog_loss</li>
</ul>
<h3 id="Categorical-Cross-Entropy-Lossåˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°"><a href="#Categorical-Cross-Entropy-Lossåˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°" class="headerlink" title="Categorical Cross-Entropy Lossåˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°"></a>Categorical Cross-Entropy Lossåˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°</h3><p>è¯¥æŸå¤±å‡½æ•°ä¹Ÿè¢«å«åšSoftmax Lossï¼Œå¯ä»¥è®¤ä¸ºæ˜¯Softmaxå’ŒCross-Entropy Lossä¸¤ä¸ªå‡½æ•°çš„å åŠ ã€‚ä¸“é—¨ç”¨äºå¤„ç†Multi-Classé—®é¢˜ï¼Œè¾“å‡ºå‘é‡çš„æ¯ä¸€ä¸ªå…ƒç´ ä»£è¡¨æ¯ä¸€ç§ç±»åˆ«çš„æ¦‚ç‡ã€‚</p>
<p><img src='softmax_CE_pipeline.png' width = '800' title = 'softmax loss'></p>
<p>ç”±äºMulti-Classçš„labelæ˜¯ä¸€ä¸ªone-hot vectorï¼Œå› æ­¤è®¡ç®—æŸå¤±çš„æ—¶å€™åªéœ€è¦è®¡ç®—$t<em>{i}=t</em>{p}=1$é‚£ä¸€é¡¹ï¼Œå…¶ä½™çš„äº¤å‰ç†µç”±äºlabelå…ƒç´ ä¸º0è€Œä¹˜ç§¯éƒ½ä¸º0ï¼Œä¸éœ€è¦è®¡ç®—</p>
<script type="math/tex; mode=display">
CE = -log\left ( \frac{e^{s_{p}}}{\sum_{j}^{C} e^{s_{j}}} \right )</script><p>ä¸Šå¼ä¸­$s_{p}$æ˜¯è¾“å‡ºç»“æœä¸­å¯¹åº”çœŸå®ç±»åˆ«çš„é‚£ä¸€é¡¹</p>
<p>å®šä¹‰äº†Softmax Lossåå°±ä¼šè¿›è¡Œåå‘ä¼ æ’­çš„æ¢¯åº¦è®¡ç®—ï¼Œè™½ç„¶Lossä¸­çš„åˆ†æ¯åªæœ‰$s<em>{p}$ , ä½†æ˜¯éœ€è¦å¯¹è¾“å‡ºå±‚æ¯ä¸€ä¸ªneuronè®¡ç®—gradientï¼Œå› ä¸ºæŸå¤±åˆ†æ¯ä¸­ä»ç„¶å­˜åœ¨ç€è¿™äº›é¡¹ç›®ã€‚æ¢¯åº¦è®¡ç®—åˆ†ä¸ºå¯¹éé›¶å…ƒç´ $s</em>{p}$ä»¥åŠå¯¹å…¶ä»–é›¶å…ƒç´ </p>
<p>å¯¹$s_{p}$</p>
<script type="math/tex; mode=display">
\frac{\partial}{\partial{s_{p}}}\left(-log\left ( \frac{e^{s_{p}}}{\sum_{j}^{C}s^{s_{j}}}\right)\right) = \left(\frac{e^{s_{n}}}{\sum_{j}^{C}e^{s_{j}}}-1 \right)</script><p>å¯¹$s_{n}$</p>
<script type="math/tex; mode=display">
\frac{\partial}{\partial s_{n}} \left (-log\left ( \frac{e^{s_{p}}}{\sum_{j}^{C} e^{s_{j}}} \right ) \right ) = \left ( \frac{e^{s_{n}}}{\sum_{j}^{C}e^{s_{j}}}\right )</script><p>å¯¹åº”æœºå™¨å­¦ä¹ æ¡†æ¶ä¸­ï¼š</p>
<ul>
<li>Caffeï¼šSoftmaxWithLoss Layerã€‚ä»…é™äºMulti-Class Classificationé—®é¢˜ï¼Œä¸æ”¯æŒMulti-Labelsã€‚</li>
<li>PyTorchï¼šCrossEntropyLossã€‚ä»…é™Multi-Classé—®é¢˜</li>
<li>TensorFlowï¼šsoftmax_cross_entropyã€‚ä»…é™Multi-Classé—®é¢˜</li>
</ul>
<h3 id="Binary-Cross-Entropy-Loss"><a href="#Binary-Cross-Entropy-Loss" class="headerlink" title="Binary Cross-Entropy Loss"></a>Binary Cross-Entropy Loss</h3><p>å‰é¢å·²ç»ç®€å•æåˆ°äº†BCEè¿™ç§å½¢å¼ï¼Œå®ƒä¹Ÿè¢«å«åšSigmoid Cross-Entropy Lossã€‚</p>
<script type="math/tex; mode=display">
BCE = -\sum_{i=1}^{C=2}t_{i}log(f(s_{i})) = -t_{1}log(f(s_{1}))-(1-t_{1})log(1-f(s_{1}))</script><p><img src='sigmoid_CE_pipeline.png' width = '800' title = 'sigmoid loss'></p>
<p>å½¢å¼æ˜¯æ¯”è¾ƒæ¸…æ™°æ˜äº†çš„ï¼Œè¾“å‡ºå’ŒçœŸå®å€¼å®é™…ä¸Šåªæœ‰ä¸€ä¸ª$s<em>{1}$å’Œ$t</em>{1}$ï¼Œä½†æ˜¯å› ä¸ºæ˜¯äºŒåˆ†ç±»é—®é¢˜ï¼Œåœ¨$label t<em>{1}=0$çš„æ—¶å€™ä¹Ÿè¦è®¡ç®—æŸå¤±ï¼Œå› è€Œå­˜åœ¨ä¸€ä¸ªéšå«çš„å…ƒç´ $s</em>{2}, s<em>{1}+s</em>{2}=1$</p>
<p>è®¡ç®—æ¢¯åº¦ï¼š</p>
<script type="math/tex; mode=display">
\frac{\partial}{\partial s_{i}} (CE(f(s_{i}))) = t_{1}(f(s_{1})-1)+ (1-t_{1})f(s_{1})</script><h3 id="Focal-Loss"><a href="#Focal-Loss" class="headerlink" title="Focal Loss"></a>Focal Loss</h3><p><strong>Focal Loss</strong>æ˜¯ç”±Facebook Lin et al.æå‡ºçš„ä¸€ç§æŸå¤±å‡½æ•°ï¼ŒRetinaNetä½¿ç”¨äº†è¿™ç§æŸå¤±å‡½æ•°ã€‚Focal Lossæ˜¯ä¸€ç§äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿæ ¹æ®åˆ†ç±»ç»“æœè°ƒæ•´æŸå¤±å‡½æ•°å„éƒ¨åˆ†çš„æƒé‡ã€‚åŸºæœ¬æ€è·¯æ˜¯ï¼šå¦‚æœæ ·æœ¬å·²ç»è¢«CNNæ­£ç¡®çš„æ ‡æ³¨ï¼Œé‚£ä¹ˆå®ƒå¯¹äºLossçš„è´¡çŒ®æˆ–è€…è¯´æƒé‡æ¯”ä¾‹å°†ä¼šé™ä½ï¼Œä½œè€…è®¤ä¸ºè¿™ç§ç­–ç•¥å¯ä»¥å¸®åŠ©ç®—æ³•é›†ä¸­ç²¾åŠ›åœ¨å“ªäº›è¢«é”™è¯¯åˆ†ç±»çš„æ ·æœ¬ä¸Šã€‚</p>
<p>Focal Lossä½¿ç”¨äº†sigmoidæ¿€æ´»å‡½æ•°ï¼Œå› æ­¤å¯ä»¥FLä¹Ÿå¯ä»¥è¢«è§†ä½œä¸€ä¸ªBinary Cross-Entropy Lossã€‚FLå®šä¹‰å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
FL = -\sum_{i=1}^{C=2}(1-s_{i})^{\gamma}t_{i}log(s_{i})</script><p>$\gamma&gt;=0$æ˜¯ä¸€ä¸ªè°ƒèŠ‚å› å­ï¼Œ$\gamma=0$æ—¶FLé€€åŒ–ä¸ºBCE</p>
<p><img src='focal-loss.png' width = '800' title = 'focal-loss'></p>
<p>ç”±å›¾ä¸Šå¯ä»¥çœ‹å‡ºï¼Œå¯¹äºæ¦‚ç‡è¶Šå°çš„æƒ…å†µï¼ŒFocal Lossä¸­çš„$\gamma$å¯¹äºæ­£ç¡®åˆ†ç±»æ ·æœ¬çš„Lossé™ä½è¶Šä¸ºæ˜æ˜¾ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡æåŠçš„è¯¸å¤šLossFunctionéƒ½ç”±æœ€åŸºæœ¬çš„Cross-Entropy Lossæ¼”åŒ–å¾—åˆ°ï¼Œåœ¨ä¸åŒçš„æ¡†æ¶ä¸­ä»–ä»¬æœ‰ç€ä¸åŒçš„åå­—ã€‚</p>
<ul>
<li>Cross-Entropy Loss<ul>
<li>åˆ«å:Logistic Loss &amp; Multinomial Logistic Loss,æœ€åŸºæœ¬çš„å½¢å¼</li>
</ul>
</li>
<li>Categorical Cross-Entropy Loss<ul>
<li>åˆ«å:Softmax Loss = Softmax+CE</li>
</ul>
</li>
<li>Binary Cross-Entropy Loss<ul>
<li>åˆ«å:Sigmoid Cross-Entropy Loss = Sigmoid+CE</li>
</ul>
</li>
<li>Focal Loss<ul>
<li>åœ¨CEæ¯ä¸€ä¸ªé¡¹ç›®å‰å¢åŠ äº†ç³»æ•°å› å­</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>ç›¸æœºæ¨¡å‹</title>
    <url>/2021/03/06/%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B/</url>
    <content><![CDATA[<p>é’ˆå­”ç›¸æœºæ¨¡å‹ï¼Œè‹¥å¹²ç§åæ ‡ç³»çš„è½¬æ¢æ–¹æ³•<br><a id="more"></a></p>
<h2 id="å‡ ä¸ªåæ ‡ç³»"><a href="#å‡ ä¸ªåæ ‡ç³»" class="headerlink" title="å‡ ä¸ªåæ ‡ç³»"></a>å‡ ä¸ªåæ ‡ç³»</h2><p>é’ˆå­”ç›¸æœºæ¨¡å‹å°±æ˜¯å°å­”æˆåƒæ¨¡å‹ï¼Œé€šè¿‡é’ˆå­”åç›®æ ‡åœ¨æˆåƒå¹³é¢ä¸Šå½¢æˆäº†ä¸€ä¸ªå€’ç«‹ï¼ˆé€šå¸¸ç¼©å°ï¼‰çš„åƒã€‚</p>
<p>å€Ÿç”¨åå››è®²é‡Œçš„å›¾ï¼š<br><img src='model.png' width=600 title='é’ˆå­”ç›¸æœºæ¨¡å‹'></p>
<p>ä¸Šå›¾æè¿°äº†ç›¸æœºåæ ‡ç³»ä¸­çš„$P$ç‚¹ç»è½¬æ¢ååœ¨å›¾åƒåæ ‡ç³»$xâ€™Oâ€™yâ€™$æˆåƒçš„è¿‡ç¨‹ã€‚</p>
<p>éœ€è¦æ³¨æ„ï¼Œä¸Šå›¾é‡Œ$xâ€™Oâ€™yâ€™$å›¾åƒåæ ‡ç³»çš„åŸç‚¹$Oâ€™$æ˜¯æˆåƒå¹³é¢ä¸è¿‡å…‰å¿ƒç›´çº¿çš„äº¤ç‚¹ï¼Œä¸‹é¢è¦è¯´çš„åƒç´ åæ ‡ç³»ä¸å›¾åƒåæ ‡ç³»åœ¨åŒä¸€ä¸ªå¹³é¢ä¸Šï¼Œä½†æ ‡åº¦å’ŒåŸç‚¹ä¸åŒï¼Œæ­¤å›¾å¹¶æ²¡æœ‰ç”»å‡ºã€‚</p>
<p><img src='ouv.png' width=600 title='åƒç´ åæ ‡ç³»'></p>
<p>ä¸Šå›¾ä¸ºä»ååœ¨ç›¸æœºé‡Œå†…å‘å¤–çœ‹çš„è§†è§’ï¼Œ<strong>åƒç´ åæ ‡ç³»</strong>çš„åŸç‚¹åœ¨å›¾åƒå·¦ä¸Šè§’ï¼Œ$u$è½´å‘å³ï¼Œ$v$è½´å‘ä¸‹ï¼›<strong>å›¾åƒåæ ‡ç³»</strong>åŸç‚¹åœ¨è¿‡å…‰å¿ƒç›´çº¿ä¸å¹³é¢äº¤ç‚¹ï¼Œ$x$è½´å‘å³ï¼Œ$y$è½´å‘ä¸‹ã€‚</p>
<p>é¡ºä¾¿æåŠï¼Œ<strong>ç›¸æœºåæ ‡ç³»</strong>çš„åŸç‚¹è®¾ç½®åœ¨å…‰å¿ƒå¤„ï¼ŒåŒå‘çœ‹å»ï¼Œ$Z$è½´æœå¤–ï¼Œ$X$è½´å‘å³ï¼Œ$Y$è½´å‘ä¸‹ã€‚ï¼ˆå¦å¤–ä¿©åæ ‡ç³»æ²¡æœ‰Zè½´ï¼‰</p>
<hr>
<h2 id="åæ ‡è½¬æ¢"><a href="#åæ ‡è½¬æ¢" class="headerlink" title="åæ ‡è½¬æ¢"></a>åæ ‡è½¬æ¢</h2><p>ç›¸æœºåæ ‡ç³»$(X,Y,Z)$è‡³å›¾åƒåæ ‡ç³»$(x,y)$</p>
<script type="math/tex; mode=display">\frac{Z}{f}=\frac{X}{x}=\frac{Y}{y}</script><p>$f$ä¸ºç›¸æœºç„¦è·</p>
<p>å›¾åƒåæ ‡ç³»$(x,y)$è‡³åƒç´ åæ ‡ç³»$(u,v)$</p>
<script type="math/tex; mode=display">\left\{
    \begin{array}{lr}
    u = \alpha x + c_x & \\
    v =  \beta y + c_y& \\
    \end{array}

    \right.</script><p>$\alpha å’Œ \beta$æ˜¯åƒç´ æ¯ç±³çš„è½¬æ¢æ¯”ä¾‹ï¼Œ$c_x å’Œc_y$æ˜¯ä¸¤ä¸ªåæ ‡ç³»åŸç‚¹çš„å¹³ç§»è·ç¦»</p>
<p>å†çœ‹ä¸€æ¬¡</p>
<p><img src='ouv.png' width=600 title='åƒç´ åæ ‡ç³»'></p>
<p>ç”±ä»¥ä¸Šä¸¤ä¸ªè½¬æ¢æ¨å‡ºç›¸æœºåæ ‡ç³»$(X,Y,Z)$è‡³åƒç´ åæ ‡ç³»$(u,v)$</p>
<script type="math/tex; mode=display">\left\{
    \begin{array}{lr}
    u = f_x \frac{X}{Z} + c_x & \\
    v =  f_y \frac{Y}{Z} + c_y& \\
    \end{array}

    \right.</script><script type="math/tex; mode=display">f_x = \alpha f, \quad f_y =\beta f</script><p>ä½¿ç”¨<em>é½æ¬¡åæ ‡</em>å¯ä»¥å°†ä¸Šè¿°è¡¨è¾¾å˜ä¸ºçŸ©é˜µå½¢å¼ï¼Œä»¥åŠå†åŠ ä¸Šç›¸æœºåæ ‡ç³»åˆ°ä¸–ç•Œåæ ‡ç³»çš„è½¬æ¢</p>
<script type="math/tex; mode=display">
\left[
    \begin{array}{lr}
    u\\
    v\\
    1\\
    \end{array}
    \right]
= \frac{1}{Z}
\left[
    \begin{array}{lr}
    f_x & 0 & c_x\\
    0 & f_y & c_y\\
    0 & 0 & 1\\
    \end{array}
    \right]

    \left[
    \begin{array}{lr}
    X\\
    Y\\
    Z\\
    \end{array}
    \right]
    =
    \frac{1}{Z} K P_c
    =
    \frac{1}{Z} K(RP_w + t)
    =
    \frac{1}{Z} KTP_w</script><p>$K$çŸ©é˜µä¸ºç›¸æœºçš„<strong>å†…å‚çŸ©é˜µ</strong>ï¼Œç›¸æœºæ ‡å®šçš„å¯¹è±¡å°±æ˜¯å®ƒ</p>
<p>åå››è®²ä¸­è¯´ä¹ æƒ¯ä¼šæŠŠZä¹˜åˆ°å·¦è¾¹</p>
<script type="math/tex; mode=display">Z P_{uv} = KTP_w</script><p>å¦‚æœå¯¹ç›¸æœºåæ ‡ç³»ä¸‹çš„åæ ‡è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œé‚£ä¹ˆ$Z=1$ï¼Œ$P_{uv}=KP_c$ï¼Œå³ä¹˜ä»¥å†…å‚çŸ©é˜µå°±å¾—åˆ°äº†åƒç´ åæ ‡ã€‚</p>
<p>æ‰€ä»¥åƒç´ åæ ‡ä¹Ÿè¢«è®¤ä¸ºæ˜¯å¯¹<strong>å½’ä¸€åŒ–å¹³é¢</strong>ä¸Šçš„åæ ‡è¿›è¡Œé‡åŒ–æµ‹é‡çš„ç»“æœã€‚</p>
<h2 id="é’ˆå­”æ¨¡å‹ä¸é€é•œ"><a href="#é’ˆå­”æ¨¡å‹ä¸é€é•œ" class="headerlink" title="é’ˆå­”æ¨¡å‹ä¸é€é•œ"></a>é’ˆå­”æ¨¡å‹ä¸é€é•œ</h2><p>å°å­”æˆåƒæ˜¯å°†ä¸€å¤§å †å…‰çº¿æŒ¡ä½åªè®©â€œä¸€æŸå…‰â€ç©¿è¿‡å»æˆåƒï¼Œå‡¸é€é•œæ˜¯æŠŠæ‰€æœ‰å…‰çº¿èšé›†èµ·æ¥æˆåƒã€‚</p>
<p><img src='core2.gif' width=600 title='hole'></p>
<p>çŸ¥ä¹ä¸Šå›¾</p>
<p><a href="https://www.zhihu.com/question/299247177" target="_blank" rel="noopener">https://www.zhihu.com/question/299247177</a></p>
<p><img src='core.gif' width=600 title='2zero'></p>
<p>å°å­”æˆåƒå¯ä»¥ç†è§£ä¸ºé€é•œæˆåƒåœ¨å­”å¾„ï¼ˆå…‰åœˆï¼‰è¶‹è¿‘äºé›¶çš„æé™æƒ…å†µã€‚å¦å¤–å½“å­”å¾„è¶‹è¿‘äºé›¶æ—¶ï¼Œæ™¯æ·±è¶‹è¿‘äºæ— ç©·ï¼Œæˆåƒçš„äº®åº¦ä¹Ÿè¶‹äºé›¶ã€‚</p>
<h2 id="åŒç›®ç›¸æœºæ¨¡å‹"><a href="#åŒç›®ç›¸æœºæ¨¡å‹" class="headerlink" title="åŒç›®ç›¸æœºæ¨¡å‹"></a>åŒç›®ç›¸æœºæ¨¡å‹</h2><p>é€šè¿‡åŒä¸€ç‰©ä½“åœ¨åŒç›®å·¦å³æˆåƒé¢çš„åƒç´ åæ ‡ï¼Œåˆ¤æ–­ç‰©ä½“çš„è·ç¦»</p>
<p>å›¾æºåå››è®²</p>
<p><img src='stereo.png' width=600 title='2zero'></p>
<p>æ ¹æ®ç›¸ä¼¼å…³ç³»</p>
<script type="math/tex; mode=display">\frac{z-f}{z} = \frac{b-u_L+u_R}{b}</script><p>æ³¨æ„$u_R$ä¸ºè´Ÿï¼Œè¿›è€Œæ¨å‡º$z$çš„å¤§å°</p>
<script type="math/tex; mode=display">z = \frac{fb}{d}, \quad d = u_L - u_R</script><p>åŒç›®æ¨¡å‹ä¼°è®¡æ·±åº¦çš„éš¾ç‚¹åœ¨äºï¼Œå¦‚ä½•ç²¾ç¡®çš„ç¡®å®šå·¦å³å›¾åƒçš„åƒç´ å¯¹åº”å…³ç³»ï¼Œè®¡ç®—è§†å·®$d$çš„éš¾åº¦å¾ˆå¤§</p>
<p>åŒç›®ç›¸æœºç”±äº$d$æœ€å°ä¸º1åƒç´ ï¼Œæ‰€ä»¥$Z$çš„æµ‹é‡æ˜¯æœ‰ä¸Šé™çš„</p>
<h2 id="ç»“æ„å…‰ä¸ToFç›¸æœº"><a href="#ç»“æ„å…‰ä¸ToFç›¸æœº" class="headerlink" title="ç»“æ„å…‰ä¸ToFç›¸æœº"></a>ç»“æ„å…‰ä¸ToFç›¸æœº</h2><p>ç»“æ„å…‰ç›¸æœºå‘ç‰©ä½“å‘å°„å…‰æ–‘æˆ–è€…æ¡çº¹ï¼Œå†è§‚å¯Ÿå…¶å½¢å˜æ¥åˆ¤æ–­è·ç¦»ã€‚</p>
<p><img src='slc.jpg' width=600 title='structured light camera'></p>
<p>ToFç›¸æœºå‘å°„å…‰çº¿ï¼Œæµ‹é‡è¿”å›å…‰çº¿çš„æ—¶é—´ï¼Œæ¥è®¡ç®—è·ç¦»ï¼ŒTime of Flightã€‚</p>
<p><img src='tof.png' width=600 title='ToF camera'></p>
<p>ToFç›¸æœºå’Œæ¿€å…‰é›·è¾¾æœ‰ç›¸ä¼¼çš„åœ°æ–¹ï¼Œä¸»åŠ¨å‘å¤–å‘å°„å…‰çº¿å¹¶ç”¨æ—¶é—´æµ‹è·ï¼Œä¸åŒçš„æ˜¯æ¿€å…‰é›·è¾¾ç›´æ¥ç»™å‡º3Dç‚¹äº‘ï¼ŒToFæ˜¯ç»™å‡ºä¸€ä¸ªRGBå›¾åƒå’Œä¸€ä¸ªæ·±åº¦å›¾ï¼Œä¸æ˜¯ä¸€ä¸ª3Dçš„ç‚¹äº‘ã€‚</p>
]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
      <tags>
        <tag>SLAM</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”±ç±»åœ°å€å¼ºåˆ¶è½¬æ¢è®¿é—®ç§æœ‰å˜é‡çš„æ–¹æ³•</title>
    <url>/2021/02/27/%E7%94%B1%E7%B1%BB%E5%9C%B0%E5%9D%80%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2%E8%AE%BF%E9%97%AE%E7%A7%81%E6%9C%89%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>ä½¿ç”¨å–åœ°å€çš„æ–¹å¼è®¿é—®ç§æœ‰æˆå‘˜</p>
<a id="more"></a>
<p>å¯¹äºå®šä¹‰åœ¨ç±»çš„ç§æœ‰æˆå‘˜å˜é‡ï¼Œå¯ä»¥é€šè¿‡å–å¯¹è±¡åœ°å€çš„æ–¹å¼ç›´æ¥æ¨æ–­å‡ºç§æœ‰æˆå‘˜å˜é‡çš„åœ°å€ï¼Œä»è€Œä¿®æ”¹ç§æœ‰æˆå‘˜ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	A():val(<span class="number">5</span>),num(<span class="number">20</span>) &#123;&#125;;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">GetValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; num &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> val;</span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argc)</span></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> a = A();</span><br><span class="line">	a.GetValue();</span><br><span class="line">	*((<span class="keyword">int</span>*)&amp;a + <span class="number">1</span>) = <span class="number">10</span>;</span><br><span class="line">	a.GetValue();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">output:</span></span><br><span class="line"><span class="comment">20</span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>æ•°æ®æ®µå­˜å‚¨åœ¨ç±»çš„å¼€å¤´éƒ¨åˆ†ï¼Œä¸ç±»é‡Œé¢å®šä¹‰çš„é¡ºåºæ— å…³ã€‚</p>
]]></content>
      <categories>
        <category>é»‘å®¢å…¥é—¨</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>hack</tag>
      </tags>
  </entry>
  <entry>
    <title>è‹±è¯­ç›¸è¿‘è¯è¾¨æ</title>
    <url>/2020/09/13/%E8%8B%B1%E8%AF%AD%E7%9B%B8%E8%BF%91%E8%AF%8D%E8%BE%A8%E6%9E%90/</url>
    <content><![CDATA[<p>æœ¬ç¯‡ä¸ºå­¦ä¹ ä¸­é‡åˆ°çš„ç›¸è¿‘å•è¯çš„è¾¨æï¼Œå¤§å¤šä¸è®¡ç®—æœºé¢†åŸŸç›¸å…³ï¼ŒæŒ‰ç…§é¦–å­—æ¯é¡ºåºæ’åˆ—</p>
<a id="more"></a>
<h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><p><strong>amortized vs. average</strong></p>
<blockquote>
<p>Amortized time complexity is a worst-case estimate but considered over many repeated operations. If an operation has  O(f(n))  amortized time complexity, then individual operations may take more time than  O(f(n)) , but the mean time taken by a larger number of operations will be  O(f(n)) , over any input.</p>
<p>Average-case time complexity instead assumes that all inputs are equally likely. Some individual inputs may be worse than  O(f(n)) , but an input chosen at random will take time with expected value  O(f(n)) . A related notion is expected time complexity, which can refer either to assuming a random input or to randomizing the operation of the algorithm.</p>
</blockquote>
<ul>
<li>amortized complexity åˆ†æ‘Šå¤æ‚åº¦ï¼Œåœ¨ä»»æ„è¾“å…¥ä¸‹é‡å¤å¾ˆå¤šæ¬¡ä¸€ä¸ªæ“ä½œï¼Œæœ‰æ—¶å€™æŸä¸ªæ“ä½œéå¸¸è´¹æ—¶ï¼Œä½†å¦‚æœå°†æ—¶é—´å‡æ‘Šåˆ°æ¯ä¸€æ¬¡æ“ä½œæˆæœ¬å…¶å®ä¸ä¸€å®šå¾ˆé«˜</li>
<li>average complexity å¹³å‡å¤æ‚åº¦ï¼Œè¡¨ç¤ºåœ¨ä¸åŒè¾“å…¥ä¸‹çš„å¤æ‚åº¦çš„ä¸€ç§åŠ æƒï¼Œæ˜¯ä¸€ç§è¿‘ä¼¼æ¦‚ç‡åŠ æƒçš„æ¨¡å‹</li>
</ul>
<h2 id="M"><a href="#M" class="headerlink" title="M"></a>M</h2><p><strong>memorization vs. memoization</strong></p>
<blockquote>
<p>As nouns the difference between memorization and memoization is that <em>memorization</em> is the act of committing something to memory or memorizing while <em>memoization</em> is (computer science) a technique in which partial results are recorded (forming a memo) and then can be re-used later without having to recompute them.</p>
</blockquote>
<ul>
<li>memorization æ˜¯å¸¸ç”¨åè¯â€˜è®°å¿†â€™ï¼ŒæŒ‡ä»£ä¸€èˆ¬äººè„‘çš„è®°å¿†æ´»åŠ¨</li>
<li>memoization æ˜¯è®¡ç®—æœºåè¯ï¼Œç‰¹æŒ‡ä¸ºäº†åç»­ä½¿ç”¨ä¾¿æ·ï¼Œå°†æŸäº›æ•°æ®å­˜å‚¨çš„è¿‡ç¨‹</li>
</ul>
<p>å¤‡æ³¨ï¼šåœ¨fibé€’å½’çš„æ”¹è¿›ä¸­é‡åˆ°</p>
<h2 id="R"><a href="#R" class="headerlink" title="R"></a>R</h2><p><strong>recursion vs. recurrence</strong></p>
<blockquote>
<p>Recursion is a related term of recurrence. Recurrence is a related term of recursion.<br>As nouns the difference between recurrence and recursion is that <em>recurrence</em> is return or reversion to a certain state while <em>recursion</em> is the act of recurring.</p>
</blockquote>
<ul>
<li>recurrence æŒ‡çš„æ˜¯è¿”å›å€¼æˆ–è€…é€’å½’ç»“æœæœ¬èº«ï¼Œå¯ä»¥ç¿»è¯‘ä¸ºâ€˜è¿­ä»£ç»“æœâ€™</li>
<li>recursion æŒ‡çš„æ˜¯è¿­ä»£è¿‡ç¨‹æœ¬èº«</li>
</ul>
<p>recursion trace è¿­ä»£è¿½è¸ªï¼šç»˜åˆ¶å‡ºè¿­ä»£è¿‡ç¨‹çš„å›¾è§£</p>
<p>recurrence equation é€’æ¨æ–¹ç¨‹ï¼šå¯¹é€’å½’æ¨¡å¼è¿›è¡Œæ•°å­¦å½’çº³ï¼Œä¾‹å¦‚</p>
<script type="math/tex; mode=display">
T(n) = T(n-1) + O(1)</script><p>å¤‡æ³¨ï¼šè¿­ä»£åˆ†æçš„ä¸¤ç§æ–¹æ³•</p>
]]></content>
      <categories>
        <category>è¯­è¨€çŸ¥è¯†</category>
      </categories>
      <tags>
        <tag>è‹±è¯­</tag>
      </tags>
  </entry>
  <entry>
    <title>é›†åˆç±»æ•°æ®ç±»å‹çš„è¿­ä»£åœ¨JAVAä¸­çš„å®ç°</title>
    <url>/2020/06/14/%E9%9B%86%E5%90%88%E7%B1%BB%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%9C%A8JAVA%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>é›†åˆç±»æ•°æ®ç±»å‹åŒ…æ‹¬èƒŒåŒ…Bagã€æ ˆStackã€é˜Ÿåˆ—Queueã€‚å®ƒä»¬çš„å…±åŒåŸºæœ¬æ“ä½œåŒ…æ‹¬åˆ¤æ–­ç©ºé›†åˆisEmptyï¼Œæ·»åŠ Addï¼Œåˆ é™¤Deleteï¼Œä»¥åŠéå†é›†åˆå…ƒç´ foreachã€‚è¿™é‡Œå¯¹é›†åˆç±»æ•°æ®ç±»å‹çš„è¿­ä»£æ–¹æ³•å¦‚ä½•å®ç°åšä¸€ä¸ªè®°å½•ã€‚</p>
<a id="more"></a>
<h2 id="å®ç°è¿­ä»£çš„åŸºæœ¬è¦æ±‚"><a href="#å®ç°è¿­ä»£çš„åŸºæœ¬è¦æ±‚" class="headerlink" title="å®ç°è¿­ä»£çš„åŸºæœ¬è¦æ±‚"></a>å®ç°è¿­ä»£çš„åŸºæœ¬è¦æ±‚</h2><p>ä¸€ä¸ªç”¨ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Stack &lt;String&gt; Collection = <span class="keyword">new</span> Stack&lt;String&gt;();</span><br><span class="line">...</span><br><span class="line"><span class="keyword">for</span> (String s: Collection)</span><br><span class="line">&#123;</span><br><span class="line">    StdOut.println(s);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">å¦ä¸€ç§ç­‰ä»·å†™æ³•ä¸ºï¼š</span><br><span class="line"></span><br><span class="line">Iterator&lt;String&gt; i = collection.iterator();</span><br><span class="line"><span class="keyword">while</span>(i.hasNext())&#123;</span><br><span class="line">    String s = i.next();</span><br><span class="line">    StdOut.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±æ­¤å¯çŸ¥ï¼Œåœ¨ä»»æ„å¯è¿­ä»£çš„é›†åˆæ•°æ®ç±»å‹ä¸­éœ€è¦å®ç°çš„ä¸œè¥¿ï¼š</p>
<ul>
<li>é›†åˆæ•°æ®ç±»å‹å¿…é¡»å®ç°ä¸€ä¸ªiteratorï¼ˆï¼‰æ–¹æ³•å¹¶ä¸”è¿”å›ä¸€ä¸ª<strong>Iterator</strong>å¯¹è±¡ï¼›</li>
<li>Iteratorç±»å¿…é¡»åŒ…å«ä¸¤ä¸ªæ–¹æ³•hasNextï¼ˆï¼‰ï¼Œè¿”å›Booleanå’Œnextï¼ˆï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ³›å‹å…ƒç´ </li>
</ul>
<h2 id="ä½¿ç”¨æ¥å£å®ç°è¿­ä»£æ–¹æ³•iteratorï¼ˆï¼‰"><a href="#ä½¿ç”¨æ¥å£å®ç°è¿­ä»£æ–¹æ³•iteratorï¼ˆï¼‰" class="headerlink" title="ä½¿ç”¨æ¥å£å®ç°è¿­ä»£æ–¹æ³•iteratorï¼ˆï¼‰"></a>ä½¿ç”¨æ¥å£å®ç°è¿­ä»£æ–¹æ³•iteratorï¼ˆï¼‰</h2><p>åœ¨Javaä¸­ï¼Œä½¿ç”¨æ¥å£çš„æ–¹å¼ä¸ºç±»æ·»åŠ è¿­ä»£æ‰€éœ€æ–¹æ³•iteratorï¼ˆï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.Iterable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">item</span>&gt;</span>&#123;</span><br><span class="line">    <span class="function">Iterator <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‡å¦‚æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªé›†åˆæ•°æ®ç±»å‹Memberï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ª<strong>Iteratoræ¥å£</strong>çš„ç±»åˆ«DefinedIteratorï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">item</span>&gt;</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">item <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Iteratorçš„ä¸‰ä¸ªæ–¹æ³•é€šå¸¸åªè¦å‰ä¸¤ä¸ªå®ç°å³å¯ï¼Œremoveæ–¹æ³•ä¿æŒå®ç°ä¸ºç©ºä¸å½±å“éå†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Member</span>&lt;<span class="title">item</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">item</span>&gt;</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;item&gt; <span class="title">iterator</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> DefinedIterator&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">DefinedIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">item</span>&gt;</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> ...&#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> Item <span class="title">next</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> ...&#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å®Œæˆäº†è¿­ä»£æ‰€éœ€è¦çš„åŸºæœ¬çš„å®ç°ã€‚å¯¹äºæ¯ä¸€ä¸ªå…·ä½“ä¸åŒçš„é›†åˆæ•°æ®ç±»å‹ï¼Œåœ¨è‡ªå®šä¹‰çš„DefinedIteratoré‡Œé¢å¯ä»¥å®ç°ä¸åŒçš„è¿­ä»£ç»†èŠ‚ï¼Œæ¯”å¦‚æ•°ç»„çš„å’Œé“¾è¡¨çš„å®ç°æ–¹æ³•å¯¹åº”çš„è¿­ä»£æ–¹æ³•å°±å®Œå…¨ä¸åŒï¼Œéœ€è¦è‡ªè¡Œå»è°ƒæ•´ã€‚</p>
<h2 id="ä¸€äº›å€¼å¾—é¢å¤–è®°å½•çš„ä¿¡æ¯"><a href="#ä¸€äº›å€¼å¾—é¢å¤–è®°å½•çš„ä¿¡æ¯" class="headerlink" title="ä¸€äº›å€¼å¾—é¢å¤–è®°å½•çš„ä¿¡æ¯"></a>ä¸€äº›å€¼å¾—é¢å¤–è®°å½•çš„ä¿¡æ¯</h2><p>åœ¨Javaé‡Œé¢ï¼Œæ³›å‹æ•°ç»„çš„ç›´æ¥åˆå§‹åŒ–æ˜¯ä¸å¯ä»¥çš„ï¼Œéœ€è¦å…ˆnewä¸€äº›Objectç±»åˆ«çš„æ•°ç»„ï¼Œå†å¼ºåˆ¶è½¬åŒ–ä¸ºæ³›å‹çš„Itemç±»åˆ«ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Error:</span><br><span class="line"></span><br><span class="line">Member&lt;item&gt;[] members = <span class="keyword">new</span> Members&lt;item&gt;[N];</span><br><span class="line"></span><br><span class="line">Ok:</span><br><span class="line"></span><br><span class="line">Member&lt;item&gt;[] members = (Members&lt;item&gt;[]) <span class="keyword">new</span> Objects[N]</span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹æ³•ä¼šå¾—åˆ°Warningï¼Œä½†å¯ä»¥æ‰§è¡Œã€‚</p>
<hr>
<p>å¯¹äºé›†åˆæ•°æ®ç±»å‹ï¼Œéœ€è¦å¸¸å¸¸åšçš„æ“ä½œæ˜¯æ‰©å®¹å’Œç¼©å®¹ï¼ˆæ•°ç»„ç±»ï¼‰ï¼Œæ”¹å˜å®¹é‡çš„åŸåˆ™æ˜¯</p>
<ul>
<li>å½“å¡«æ»¡é›†åˆæ—¶ï¼Œå®¹é‡å˜ä¸ºç›®å‰çš„ä¸¤å€</li>
<li>å½“æ•°é‡ä¸è¶³å®¹é‡çš„<strong>å››åˆ†ä¹‹ä¸€</strong>æ—¶ï¼Œå®¹é‡ç¼©å°ä¸ºç›®å‰çš„<strong>äºŒåˆ†ä¹‹ä¸€</strong></li>
</ul>
<p>è¿™ç§æ–¹æ³•å¯ä»¥é¿å…é¢‘ç¹çš„æ”¹å˜å®¹é‡ã€‚æ‰©å®¹æ”¾åœ¨Pushä¸­ï¼Œç¼©å®¹æ”¾åœ¨Popä¸­ï¼Œéƒ½æ˜¯ä½œä¸ºifçš„æ¡ä»¶è¿›è¡Œæ•°é‡/å®¹é‡åˆ¤æ–­ï¼Œä¹‹åå†æ‰§è¡Œè¿›å‡ºçš„æ“ä½œã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>ç°ä»£æ§åˆ¶ç†è®º2-çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼çš„åˆ†ææ±‚è§£</title>
    <url>/2021/03/16/%E7%8E%B0%E4%BB%A3%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA2-%E7%8A%B6%E6%80%81%E7%A9%BA%E9%97%B4%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%88%86%E6%9E%90%E6%B1%82%E8%A7%A3/</url>
    <content><![CDATA[<p>åœ¨å»ºç«‹äº†çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼ä¹‹åï¼Œæ±‚è§£çŠ¶æ€å˜é‡çš„è¿‡ç¨‹</p>
<a id="more"></a>
<h2 id="çº¿æ€§å®šå¸¸ç³»ç»Ÿé½æ¬¡æ–¹ç¨‹çš„æ±‚è§£"><a href="#çº¿æ€§å®šå¸¸ç³»ç»Ÿé½æ¬¡æ–¹ç¨‹çš„æ±‚è§£" class="headerlink" title="çº¿æ€§å®šå¸¸ç³»ç»Ÿé½æ¬¡æ–¹ç¨‹çš„æ±‚è§£"></a>çº¿æ€§å®šå¸¸ç³»ç»Ÿé½æ¬¡æ–¹ç¨‹çš„æ±‚è§£</h2><p>çº¿æ€§é½æ¬¡çš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼Œç‰¹å¾ä¸ºæ²¡æœ‰è¾“å…¥å˜é‡ $u$</p>
<script type="math/tex; mode=display">\dot x(t)=Ax(t)</script><p>è¯¾æœ¬ä¸Šå¯¹äºè¿™ä¸ªé—®é¢˜çš„æ±‚è§£æ˜¯å…ˆå‡è®¾ $x(t)$ çš„è¡¨è¾¾å¼ä¸ºå¹‚çº§æ•°çš„å’Œï¼Œå†ä»£å›åŸæ–¹ç¨‹æ±‚è§£å¾…å®šç³»æ•°ï¼Œå¾—åˆ°äº†</p>
<script type="math/tex; mode=display">x(t) = (I + At + \frac{1}{2!}A^2t^2 + \frac{1}{3!}A^3t^3...)x(0)</script><p>å‰é¢é•¿é•¿çš„ç³»æ•°å¯ä»¥å†™æˆçŸ©é˜µæŒ‡æ•° $e^{At}$ ï¼Œè¿™ä¸ªçŸ©é˜µæŒ‡æ•°ä¹Ÿè¢«ç§°ä½œçŠ¶æ€è½¬ç§»çŸ©é˜µ $\Phi(t)$ ï¼Œä»£è¡¨ä»0æ—¶åˆ»çš„çŠ¶æ€è¿›è¡Œäº†è½¬ç§»</p>
<hr>
<h2 id="çŠ¶æ€è½¬ç§»çŸ©é˜µçš„æ€§è´¨"><a href="#çŠ¶æ€è½¬ç§»çŸ©é˜µçš„æ€§è´¨" class="headerlink" title="çŠ¶æ€è½¬ç§»çŸ©é˜µçš„æ€§è´¨"></a>çŠ¶æ€è½¬ç§»çŸ©é˜µçš„æ€§è´¨</h2><p>æœ‰å‡ æ¡æ¯”è¾ƒé‡è¦çš„æ€§è´¨</p>
<ol>
<li>åœ¨ $t=0$ æ—¶çŠ¶æ€è½¬ç§»çŸ©é˜µä¸º $I$</li>
<li>å¯é€†æ€§ï¼Œ$\Phi(t) = (\Phi(-t))^{-1}ï¼Œ\Phi(t)\Phi(-t) = I$</li>
<li>ç»“åˆå¾‹ï¼ŒçŠ¶æ€è½¬ç§»çŸ©é˜µå¯ä»¥è¿ä¹˜</li>
<li>ä¸å¯äº¤æ¢æ€§ï¼Œè¿ä¹˜é¡ºåºä¸å¯æ”¹å˜</li>
</ol>
<hr>
<h2 id="çŠ¶æ€è½¬ç§»çŸ©é˜µçš„æ±‚æ³•"><a href="#çŠ¶æ€è½¬ç§»çŸ©é˜µçš„æ±‚æ³•" class="headerlink" title="çŠ¶æ€è½¬ç§»çŸ©é˜µçš„æ±‚æ³•"></a>çŠ¶æ€è½¬ç§»çŸ©é˜µçš„æ±‚æ³•</h2><p>æœ‰å››ç§æ±‚æ³•ï¼Œæœ€é‡è¦çš„æ˜¯åˆ©ç”¨æ‹‰æ°å˜æ¢æ±‚è§£</p>
<ol>
<li>æ ¹æ®å®šä¹‰ï¼Œè®¡ç®—æ— ç©·å¹‚çº§æ•°ï¼Œè®¡ç®—æœºä¹Ÿåªèƒ½è®¡ç®—æœ‰é™é¡¹çš„è¿‘ä¼¼è§£</li>
<li><p>åº”ç”¨æ‹‰æ™®æ‹‰æ–¯å˜æ¢ï¼Œè½¬æ¢åˆ°é¢‘åŸŸåŒ–ç®€ï¼Œå†åå˜æ¢æ±‚è§£</p>
<script type="math/tex; mode=display">\Phi(t) = \mathbb{L}^{-1}((sI-A)^{-1})</script></li>
<li><p>ä½¿ç”¨å‡¯è±-å“ˆå¯†é¡¿å®šç†ï¼Œæ±‚è§£nä¸ªç³»æ•°ï¼Œå†æ±‚å’Œ</p>
</li>
<li><p>å˜æ¢ä¸ºå¯¹è§’é˜µï¼Œåˆ©ç”¨ $e^{Q\Lambda Q^{-1}} = Qe^{\Lambda} Q^{-1}$ æ±‚è§£</p>
</li>
</ol>
<p>ç¬¬å››ç§æ–¹æ³•å¯¹äºä¸èƒ½å¯¹è§’åŒ–çš„é˜µï¼Œå¤„ç†æ–¹å¼ä¸å‰ä¸€ç« ç›¸åŒï¼Œå³çº¦å½“å‹æˆ–è€…åˆ†è™šå®éƒ¨å¤„ç†</p>
<hr>
]]></content>
      <categories>
        <category>æ§åˆ¶ç†è®º</category>
      </categories>
      <tags>
        <tag>æ ¡å†…è¯¾ç¨‹</tag>
        <tag>æ§åˆ¶ç†è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>MITLinearAlgebra-4</title>
    <url>/2021/03/17/MITLinearAlgebra-4/</url>
    <content><![CDATA[<p>MITçº¿æ€§ä»£æ•°ç¬”è®°ç¬¬å››éƒ¨åˆ†</p>
<ul>
<li>ç›¸ä¼¼çŸ©é˜µå’Œè‹¥å°”å½“å‹</li>
<li>å¥‡å¼‚å€¼åˆ†è§£</li>
<li>çº¿æ€§å˜æ¢ä¸å¯¹åº”çŸ©é˜µ</li>
<li>åŸºå˜æ¢ä¸å›¾å½¢å‹ç¼©</li>
<li>å·¦å³é€†å’Œä¼ªé€†</li>
</ul>
<a id="more"></a>
<p>å®Œæ•´é“¾æ¥:<br><a href="/2020/09/27/MITLinearAlgebra/" title="MITLinearAlgebra">MITLinearAlgebra</a><br><a href="/2020/11/13/MITLinearAlgebra-2/" title="MITLinearAlgebra(2)">MITLinearAlgebra(2)</a><br><a href="/2020/11/13/MITLinearAlgebra-3/" title="MITLinearAlgebra(3)">MITLinearAlgebra(3)</a><br><a href="/2021/03/17/MITLinearAlgebra-4/" title="MITLinearAlgebra-4">MITLinearAlgebra-4</a></p>
<h2 id="ç›¸ä¼¼çŸ©é˜µå’Œè‹¥å°”å½“å‹"><a href="#ç›¸ä¼¼çŸ©é˜µå’Œè‹¥å°”å½“å‹" class="headerlink" title="ç›¸ä¼¼çŸ©é˜µå’Œè‹¥å°”å½“å‹"></a>ç›¸ä¼¼çŸ©é˜µå’Œè‹¥å°”å½“å‹</h2><p>å¦‚æœçŸ©é˜µ$A$çš„rankç­‰äºnï¼Œåˆ™ä¸¥æ ¼å¤§äºé›¶ï¼Œ$A^TA$å…·æœ‰æ­£å®šæ€§</p>
<p>å½“Mæ˜¯å¯é€†çŸ©é˜µçš„æ—¶å€™ï¼Œå¦‚æœ</p>
<script type="math/tex; mode=display">B = M^{1}AM</script><p>åˆ™ç§°BçŸ©é˜µå’ŒçŸ©é˜µAç›¸ä¼¼ï¼Œ<strong>ç›¸ä¼¼çŸ©é˜µå…·æœ‰ç›¸åŒçš„ç‰¹å¾å€¼ï¼ï¼</strong></p>
<p>è¯æ˜è¿‡ç¨‹å¹¶ä¸å¤æ‚ï¼Œé€šè¿‡åŸå§‹çš„ç‰¹å¾å€¼çš„å®šä¹‰å¼å¯ä»¥è¡¨è¾¾å‡º</p>
<script type="math/tex; mode=display">A x= \lambda x</script><script type="math/tex; mode=display">M^{-1}AMM^{-1} x = M^{-1}\lambda x</script><script type="math/tex; mode=display">B (M^{-1}x) = \lambda (M^{-1}x)</script><p><strong>å•ä½çŸ©é˜µçš„ç›¸ä¼¼çŸ©é˜µåªæœ‰å®ƒè‡ªå·±</strong></p>
<hr>
<p>ä¸‹é¢éœ€è¦è®¨è®ºæ— æ³•å¯¹è§’åŒ–çš„æƒ…å½¢ï¼Œç‰¹å¾å€¼å‡ºç°é‡æ ¹ï¼Œç‰¹å¾å‘é‡æ•°é‡ä¸è¶³</p>
<p>çŸ©é˜µåªèƒ½åŠªåŠ›å˜æˆæœ€åƒå¯¹è§’å‹çš„çŸ©é˜µ,jordan form</p>
<script type="math/tex; mode=display">
\begin{pmatrix}
4 & 1\\
0 & 4\\
\end{pmatrix},
\begin{pmatrix}
3 & 1\\
-1 & 5\\
\end{pmatrix},
\begin{pmatrix}
4 & 0\\
17 & 4\\
\end{pmatrix}</script><p>è¿™äº›çŸ©é˜µçš„ç‰¹å¾å€¼éƒ½æ˜¯é‡æ ¹4ï¼Œåªæœ‰ä¸€ä¸ªç‰¹å¾å‘é‡ï¼Œä»–ä»¬æ— æ³•åŒ–ä¸ºå¯¹è§’å‹ï¼Œå› ä¸ºå¯¹è§’å‹å°†ä¼šæ˜¯å•ä½çŸ©é˜µçš„å€æ•°ï¼Œè€Œå•ä½çŸ©é˜µçš„ç›¸ä¼¼çŸ©é˜µåªæœ‰å®ƒè‡ªå·±ã€‚è¿™äº›çŸ©é˜µä¸­ç¬¬ä¸€ä¸ªçš„å½¢å¼è¢«è®¤ä¸ºæœ€å¥½ï¼Œè¢«ç§°ä¸ºçº¦å½“å‹ï¼ˆè‹¥å°”å½“å‹ï¼‰Jordan Formã€‚</p>
<p>ä»»ä½•çŸ©é˜µéƒ½å¯ä»¥åŒ–ä¸º Jordan Formï¼Œå…¶å½¢å¼è®¤ä¸ºå¯ä»¥å°†æ‰€æœ‰çš„çŸ©é˜µåŒ–ä¸ºnå—ï¼Œnæ˜¯ç‰¹å¾å‘é‡çš„ä¸ªæ•°ï¼Œæ¯ä¸€å—çš„ä¸Šæ–¹æ˜¯ä¸€äº› 1 ã€‚å¯¹äºå¯å¯¹è§’åŒ–çš„çŸ©é˜µæ¥è¯´ï¼ŒJordan Formå°±æ˜¯å¯¹è§’é˜µï¼Œè€Œå¯¹äºä¸å¤ªå¥½çš„ï¼ˆä¸èƒ½å¯¹è§’åŒ–ï¼‰ï¼ŒJordan Formæ˜¯è‹¥å¹²çŸ©é˜µå—çš„ç»„åˆï¼Œæ¯ä¸ªçŸ©é˜µå—é™¤äº†ç‰¹å¾å€¼å°±æ˜¯1.</p>
<p>è¿™ä¸ªæè¿°å¾ˆæŠ½è±¡ï¼Œæ•™æˆä¹Ÿä¸æ‰“ç®—è®²æˆå¦‚ä½•åŒ–ä¸ºJordan Formï¼Œè¿™å¹¶ä¸æ˜¯å­¦ä¹ é‡ç‚¹ã€‚</p>
<p>çº¿æ€§ä»£æ•°çš„æ ¸å¿ƒå†…å®¹æ˜¯SVDå¥‡å¼‚å€¼åˆ†è§£ã€‚</p>
<h2 id="SVDå¥‡å¼‚å€¼åˆ†è§£"><a href="#SVDå¥‡å¼‚å€¼åˆ†è§£" class="headerlink" title="SVDå¥‡å¼‚å€¼åˆ†è§£"></a>SVDå¥‡å¼‚å€¼åˆ†è§£</h2><p>æ¯ä¸€ä¸ªçŸ©é˜µéƒ½æœ‰ SVD åˆ†è§£ï¼Œæ˜¯ä¸€ç§æœ€å¥½çš„åˆ†è§£æ–¹å¼ï¼Œå·¦å³éƒ½æ˜¯æ­£äº¤çŸ©é˜µï¼Œä¸­é—´æ˜¯å¯¹è§’é˜µ</p>
<script type="math/tex; mode=display">
A = U\Sigma V^T</script><p>å³ä½¿Aæ˜¯ä¸€ä¸ªé•¿æ–¹é˜µï¼Œå³ä½¿Aæ˜¯ä¸€ä¸ªå¥‡å¼‚çŸ©é˜µï¼Œä¹Ÿå¯ä»¥å®Œæˆ SVD åˆ†è§£</p>
<script type="math/tex; mode=display">A_{m \times n} = U_{m \times m} * \Sigma_{m\times n} * V^T_{n\times n}</script><p>å¯¹äºéæ–¹é˜µï¼Œä¸å…·æœ‰ç‰¹å¾å€¼ï¼Œè€Œå°†å…¶åˆ†è§£å¾—åˆ°çš„ä¸¤ä¸ªæ­£äº¤çŸ©é˜µå¯ä»¥å¾—åˆ°ç‰¹å¾å€¼ï¼Œæˆ‘ä»¬åˆ†åˆ«ç§°å‘¼å…¶ä¸ºå·¦å¥‡å¼‚å€¼ï¼ˆUï¼‰å’Œå³å¥‡å¼‚å€¼ï¼ˆVï¼‰ï¼Œå®ƒä»¬åæ˜ äº†ä¸¤ç»„åŸºå‘é‡ã€‚</p>
<p>SVDçš„ç›®çš„å¯ä»¥å†™æˆå°†ä¸€ç»„<strong>åˆ—ç©ºé—´ä¸­çš„åŸºå‘é‡</strong> $[v_1, v_2,â€¦,v_r]$ ï¼Œä¹˜ä»¥çŸ©é˜µ $A$ è½¬åŒ–ä¸ºä¸€ç»„<strong>è¡Œç©ºé—´ä¸­çš„åŸºå‘é‡</strong> $[u_1, u_2, â€¦ u_r]$ , è½¬æ¢åä¹˜ä»¥<strong>æ¯”ä¾‹å› å­</strong> $diag([\sigma_1, \sigma_2, â€¦ \sigma_r])$</p>
<script type="math/tex; mode=display">AV = U\Sigma</script><p>è®¡ç®—æ­¥éª¤ï¼š</p>
<ol>
<li>åˆ©ç”¨$AA^T$è®¡ç®—$U$çš„å¥‡å¼‚å€¼å’Œå¥‡å¼‚å‘é‡</li>
<li>åˆ©ç”¨$A^TA$è®¡ç®—$V$çš„å¥‡å¼‚å€¼å’Œå¥‡å¼‚å‘é‡</li>
<li>å¥‡å¼‚å€¼å¼€æ ¹å·, å–æ­£æ•°, æŒ‰ç…§å¤§å°é¡ºåº, ç”±å¤§è‡³å°æ”¾å…¥$\Sigma$</li>
<li>æŒ‰ç…§å¥‡å¼‚å€¼çš„é¡ºåº, å°†å·¦å³å¥‡å¼‚å‘é‡åˆ†åˆ«æ’åˆ—å¥½æ”¾å…¥$U$, $V$, ä¸¤è€…éœ€è¦å¯¹åº” $Av_i = u_i\sigma_i$</li>
</ol>
<blockquote>
<p>SVDå¯ä»¥ç”¨äºPCAä¸»æˆåˆ†åˆ†è§£</p>
<p>$\Lambda = S^{-1}AS$å¯ä»¥ç†è§£ä¸ºSVDçš„ç‰¹ä¾‹</p>
</blockquote>
<h2 id="çº¿æ€§å˜æ¢"><a href="#çº¿æ€§å˜æ¢" class="headerlink" title="çº¿æ€§å˜æ¢"></a>çº¿æ€§å˜æ¢</h2><p>çº¿æ€§å˜æ¢Téœ€è¦æ»¡è¶³ä¸¤æ¡æ€§è´¨</p>
<ul>
<li>$T(u+v) = T(u) + T(v)$</li>
<li>$T(cv) = cT(v)$</li>
</ul>
<p>æ»¡è¶³è¿™ä¸¤æ¡æ€§è´¨çš„å‰æä¸‹ï¼Œå¯ä»¥æ¨å¯¼å‡º</p>
<ul>
<li>T(0) = 0</li>
</ul>
<p><strong>æŠ•å½±å˜æ¢</strong>ã€<strong>æ—‹è½¬</strong>ã€<strong>æ²¿åæ ‡è½´é•œåƒ</strong>éƒ½æ˜¯çº¿æ€§å˜æ¢</p>
<p>ç›´æ¥å¯¹æŸä¸€ç»´åº¦åæ ‡ä¸æ˜¯çº¿æ€§å˜æ¢ï¼Œå¯ä»¥ç”¨æ€§è´¨ç®€å•è¯ä¼ª</p>
<p>åæ ‡çš„æ¦‚å¿µæ¥æºäºbasisï¼Œå¦‚æœåæ ‡å†™å‡ºæ¥ï¼Œå°±ä¸€å®šå†³å®šäº†ä¸€ç»„åŸºå‘é‡ï¼Œå¹³å¸¸å†™å‘é‡çš„æ—¶å€™å…¶å®é»˜è®¤äº†æ­£äº¤åŸºåæ ‡</p>
<p>åŸºåæ ‡çš„é€‰æ‹©ä¸æ˜¯éšæ„çš„ï¼Œé€‰æ‹©æ­£äº¤åŸºæ ‡å‡†åŸºæˆ–è€…ç‰¹å¾å‘é‡æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„é€‰æ‹©</p>
<p><strong>çº¿æ€§å˜æ¢äº‹å®ä¸Šå°±æ˜¯ä»ä¸€ç»„åŸºåˆ°å¦ä¸€ç»„åŸº</strong></p>
<p>å¯¼æ•°çš„æ±‚å¯¼ä¹Ÿå¯ä»¥å†™æˆä¸€ç§çº¿æ€§å˜æ¢<br>ä»<br>$f = a + bx + cx^2$<br>åˆ°<br>$f = b + 2cx$</p>
<p>å®é™…ä¸Šç›¸å½“äºåŸºä»$1, x, x^2$å˜æˆäº†$1,x$</p>
<script type="math/tex; mode=display">
A \begin{pmatrix}
a \\
b\\
c
\end{pmatrix}
=
\begin{pmatrix}
b\\
2c
\end{pmatrix}</script><p>å¯ä»¥æ¨å¯¼å‡ºå¯¹åº”çš„çŸ©é˜µ</p>
<script type="math/tex; mode=display">
A =  \begin{pmatrix}
0 & 1 & 0\\
0 & 0 & 2
\end{pmatrix}</script><p>é€†çº¿æ€§å˜æ¢å°±å¯¹åº”é€†çŸ©é˜µï¼ŒçŸ©é˜µçš„ä¹˜ç§¯ç­‰åŒäºè¿ç»­çº¿æ€§å˜æ¢ï¼ŒçŸ©é˜µçš„ä¹˜æ³•æ­£æ˜¯æ¥è‡ªäºçº¿æ€§å˜æ¢</p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>çº¿æ€§ä»£æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>operator :: in python</title>
    <url>/2021/04/02/operator-in-python/</url>
    <content><![CDATA[<p>è¿ç®—ç¬¦::çš„ä½œç”¨</p>
<a id="more"></a>
<p> :: å¯ä»¥çœ‹ä½œå¯¹åˆ‡ç‰‡çš„ä¸€ç§æ‰©å±•ï¼Œ::å‰é¢çš„æ•°å­—ä»£è¡¨èµ·å§‹ä½ç½®ï¼Œåé¢çš„æ•°å­—ä»£è¡¨æ­¥é•¿ï¼Œæ­¥é•¿ä¸ºæ­£åˆ™å‘åéå†ï¼Œæ­¥é•¿ä¸ºè´Ÿåˆ™å‘å‰éå†</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[:<span class="number">1</span>]</span><br><span class="line">[<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[::<span class="number">1</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[<span class="number">1</span>::<span class="number">2</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[<span class="number">1</span>::<span class="number">3</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[<span class="number">2</span>::<span class="number">3</span>]</span><br><span class="line">[<span class="number">3</span>, <span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[<span class="number">2</span>::<span class="number">-1</span>]</span><br><span class="line">[<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[<span class="number">2</span>::<span class="number">-2</span>]</span><br><span class="line">[<span class="number">3</span>, <span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[::<span class="number">-2</span>]</span><br><span class="line">[<span class="number">7</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
</search>
